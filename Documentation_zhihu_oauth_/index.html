<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zhihu-OAuth 0.0.41 文档</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/badge_only.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.41',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" /> 
  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://zhihu-oauth.readthedocs.io/zh_CN/latest/" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'index'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html#document-index">Zhihu-OAuth 0.0.41 文档</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="zhihu-oauth">
<h1>Zhihu-OAuth 文档<a class="headerlink" href="#zhihu-oauth" title="永久链接至标题">¶</a></h1>
<div class="section" id="install-usage">
<h2>Install &amp; Usage - 安装与使用<a class="headerlink" href="#install-usage" title="永久链接至标题">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-guide/index"></span><div class="section" id="id1">
<h3>使用教程<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-guide/install"></span><div class="section" id="install">
<h4>Install - 安装<a class="headerlink" href="#install" title="永久链接至标题">¶</a></h4>
<div class="section" id="use-pip-pip">
<h5>Use pip - 使用 pip<a class="headerlink" href="#use-pip-pip" title="永久链接至标题">¶</a></h5>
<p>zhihu_oauth 支持 Python 2 和 Python 3，用对应版本的 pip 安装即可。</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install zhihu_oauth
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>提示</p>
<p>请自行判断是否要加上 <code class="docutils literal"><span class="pre">sudo</span></code> 命令。</p>
<p class="last">请自行选择对应的 pip 版本（如 <code class="docutils literal"><span class="pre">pip3</span></code>，<code class="docutils literal"><span class="pre">pip2.7</span></code>）替换上述命令中的 <code class="docutils literal"><span class="pre">pip</span></code>。</p>
</div>
<p>如果不报错大概就是安装成功了。</p>
</div>
<div class="section" id="use-git-git">
<h5>Use git - 使用 git<a class="headerlink" href="#use-git-git" title="永久链接至标题">¶</a></h5>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>别！</p>
<p class="last">不推荐用这种方法安装！pip 还满足不了你么！？</p>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/7sDream/zhihu-oauth.git
<span class="nb">cd</span> zhihu_oauth
python setup.py install
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>提示</p>
<p>请自行判断是否要加上 <code class="docutils literal"><span class="pre">sudo</span></code> 命令。</p>
<p class="last">请自行选择对应的 python 版本（如 <code class="docutils literal"><span class="pre">python3</span></code>，<code class="docutils literal"><span class="pre">python2.7</span></code>）
替换上述命令中的 <code class="docutils literal"><span class="pre">python</span></code>。</p>
</div>
<p>如果不报错大概就是安装成功了。</p>
</div>
</div>
<span id="document-guide/login"></span><div class="section" id="login">
<h4>Login - 登录<a class="headerlink" href="#login" title="永久链接至标题">¶</a></h4>
<p>zhihu_oauth 中对用户来说最重要的类就是 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 了。</p>
<p>想要获取到知乎的数据，必须先创建 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 对象并登录。</p>
<p>以下是几种常用的登录方法。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>关于手机号登录</p>
<p>使用手机号登录需要在手机号前加 <code class="docutils literal"><span class="pre">+86</span></code> 前缀。</p>
<p>使用手机号登录需要在手机号前加 <code class="docutils literal"><span class="pre">+86</span></code> 前缀。</p>
<p>使用手机号登录需要在手机号前加 <code class="docutils literal"><span class="pre">+86</span></code> 前缀。</p>
<p class="last">说三遍。</p>
</div>
<div class="section" id="use-login-login">
<h5>use login - 使用 login<a class="headerlink" href="#use-login-login" title="永久链接至标题">¶</a></h5>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>小心</p>
<p class="last">这种方式在知乎要求输入验证码时会引发 NeedCaptchaException，需要进行处理</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login" title="zhihu_oauth.client.ZhihuClient.login"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.login</span></code></a></p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span>
<span class="kn">from</span> <span class="nn">zhihu_oauth.exception</span> <span class="kn">import</span> <span class="n">NeedCaptchaException</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">ZhihuClient</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;email_or_phone&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">NeedCaptchaException</span><span class="p">:</span>
    <span class="c1"># 保存验证码并提示输入，重新登录</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;a.gif&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">get_captcha</span><span class="p">())</span>
    <span class="n">captcha</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;please input captcha:&#39;</span><span class="p">)</span>
    <span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;email_or_phone&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="n">captcha</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="use-login-in-terminal-login-in-terminal">
<h5>use login_in_terminal - 使用 login_in_terminal<a class="headerlink" href="#use-login-in-terminal-login-in-terminal" title="永久链接至标题">¶</a></h5>
<p>第二种方式，使用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref any py py-meth docutils literal"><span class="pre">login_in_terminal</span></code></a> 方法，此方法可以无参数调用，
将会在终端中提示用户输入用户名和密码。
也可以将用户名和密码作为参数，此时将不会提示输入。</p>
<p>此方式在遇见知乎需要验证码时会自动将验证码保存并提示用户输入，不用用户处理。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.login_in_terminal</span></code></a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">为节省篇幅，<code class="docutils literal"><span class="pre">import</span></code> 语句和 构建 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 类的语句均省略，下同。</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">login_in_terminal</span><span class="p">()</span> <span class="c1"># or (&#39;email@example.com&#39;, &#39;password&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="use-load-token-load-token">
<h5>Use load_token - 使用 load_token<a class="headerlink" href="#use-load-token-load-token" title="永久链接至标题">¶</a></h5>
<p>第三种方式，载入 token 文件。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.load_token" title="zhihu_oauth.client.ZhihuClient.load_token"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.load_token</span></code></a></p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">load_token</span><span class="p">(</span><span class="s1">&#39;filename&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="save-login-session">
<h5>Save login session - 保存登录会话<a class="headerlink" href="#save-login-session" title="永久链接至标题">¶</a></h5>
<p>有 load 当然也就有 save。</p>
<p>在成功登录之后，可以使用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.save_token" title="zhihu_oauth.client.ZhihuClient.save_token"><code class="xref any py py-meth docutils literal"><span class="pre">save_token</span></code></a> 方法保存登录状态，留着以后 load。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.save_token" title="zhihu_oauth.client.ZhihuClient.save_token"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.save_token</span></code></a></p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 必须在 client 已经处于登录状态时才能使用</span>
<span class="n">client</span><span class="o">.</span><span class="n">save_token</span><span class="p">(</span><span class="s1">&#39;token.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="recommended-way">
<h5>Recommended way - 建议的用法<a class="headerlink" href="#recommended-way" title="永久链接至标题">¶</a></h5>
<p>综上所述，如果你的代码运行在终端环境下，我建议这样处理登录环节</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># coding=utf-8</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span><span class="p">,</span> <span class="n">print_function</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span>


<span class="n">TOKEN_FILE</span> <span class="o">=</span> <span class="s1">&#39;token.pkl&#39;</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">ZhihuClient</span><span class="p">()</span>

<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">TOKEN_FILE</span><span class="p">):</span>
    <span class="n">client</span><span class="o">.</span><span class="n">load_token</span><span class="p">(</span><span class="n">TOKEN_FILE</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">login_in_terminal</span><span class="p">()</span>
    <span class="n">client</span><span class="o">.</span><span class="n">save_token</span><span class="p">(</span><span class="n">TOKEN_FILE</span><span class="p">)</span>
</pre></div>
</div>
<p>如果你在编写一个 GUI 程序的话，请自行处理 token 文件。</p>
</div>
</div>
<span id="document-guide/use"></span><div class="section" id="usage">
<h4>Usage - 使用方法<a class="headerlink" href="#usage" title="永久链接至标题">¶</a></h4>
<div class="section" id="charset">
<h5>Charset - 关于字符编码<a class="headerlink" href="#charset" title="永久链接至标题">¶</a></h5>
<p>Python 3 用户不用关心这一小节。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>给 Python 2 用户</p>
<p>为了防止我被编码的不统一问题弄得焦头烂额，zhihu_oauth 内部统一
使用 utf-8 编码。你可能需要自己处理 encode decode 之类乱七八糟的问题。</p>
<p>如果你只是想使用 print 打印结果的话，最好导入一下 print function，
因为 Python 2 自己的 print 会将 unicode 以 <code class="docutils literal"><span class="pre">u'\uxxxx'</span></code> 的方式输出，
而导入了之后就相当于使用 Python 3 的 print 方法了。</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="generic-example">
<h5>Generic example - 通用示例<a class="headerlink" href="#generic-example" title="永久链接至标题">¶</a></h5>
<p>不管用什么方法，登录成功之后就可以愉快的使用了。</p>
<p>zhihu_oauth 的使用方法很简单，用已登录 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 构造想要的对象，
然后取数据就好。</p>
<p>这里以 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.me" title="zhihu_oauth.client.ZhihuClient.me"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.me</span></code></a> 为例，给一些通用的用法</p>
<div class="section" id="normal-attr">
<h6>Normal attr - 普通属性<a class="headerlink" href="#normal-attr" title="永久链接至标题">¶</a></h6>
<p>普通属性表示哪些通过 <code class="docutils literal"><span class="pre">.</span></code> 操作符能够直接取到基本数据类型的数据，例子如下：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># import、构建 client 以及登录知乎的代码省略</span>

<span class="n">me</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;headline&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">headline</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;following topic count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">following_topic_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;following people count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">following_topic_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;followers count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">follower_count</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;voteup count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;get thanks count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">thanked_count</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;answered question&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">answer_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;question asked&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">question_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;collection count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">collection_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;article count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">articles_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;following column count&#39;</span><span class="p">,</span> <span class="n">me</span><span class="o">.</span><span class="n">following_column_count</span><span class="p">)</span>
</pre></div>
</div>
<p>产生如下输出</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>name 7sDream
headline 二次元普通居民，不入流程序员，http://0v0.link
description 关注本AI的话，会自动给你发私信的哟！
following topic count 35
following people count 101
followers count 1294
voteup count 2493
get thanks count 760
answered question 258
question asked 18
collection count 9
article count 7
following column count 11
</pre></div>
</div>
</div>
<div class="section" id="object-attr-and-streaming-call">
<h6>Object attr and streaming call - 对象属性和流式调用<a class="headerlink" href="#object-attr-and-streaming-call" title="永久链接至标题">¶</a></h6>
<p>有些属性对应的是知乎类或者知乎类的列表（生成器）。</p>
<p>生成器可以通过 <code class="docutils literal"><span class="pre">for</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">...</span></code> 进行迭代。</p>
<p>知乎类可以通过连续的 <code class="docutils literal"><span class="pre">.</span></code> 操作符进行流式调用，直到获取到基本属性。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 获取最近 5 个回答</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">answer</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">me</span><span class="o">.</span><span class="n">answers</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">answer</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;----------&#39;</span><span class="p">)</span>

<span class="c1"># 获取点赞量最高的 5 个回答</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">answer</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">me</span><span class="o">.</span><span class="n">answers</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;votenum&#39;</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">answer</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;----------&#39;</span><span class="p">)</span>

<span class="c1"># 获取最近提的 5 个问题</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">question</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">me</span><span class="o">.</span><span class="n">questions</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">question</span><span class="o">.</span><span class="n">answer_count</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;----------&#39;</span><span class="p">)</span>

<span class="c1"># 获取最近发表的 5 个文章</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">article</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">me</span><span class="o">.</span><span class="n">articles</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">article</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>如何想象诸如超立方体之类的四维空间物体？ 10
你的第一次心动献给了 ACGN 作品中的谁？ 3
大年初一差点把自己饿死在家里是一种怎样的体验？以及有没有什么建议来规划自己的日常生活？ 1
有哪些歌曲色气满满？ 27
作为程序员，自己在Github上的项目被很多人使用是什么体验？ 32
----------
只是为了好玩儿，如何学编程？ 593
计算机领域有哪些短小精悍的轮子?(仅用于教学) 268
小明打饭的问题？ 198
如何写个爬虫程序扒下知乎某个回答所有点赞用户名单？ 116
被盗版泛滥毁掉的行业，是如何一步一步走向消亡的？ 95
----------
用户「松阳先生」的主页出了什么问题？ 1
C++运算符重载在头文件中应该如何定义？ 1
亚马逊应用市场的应用都是正版的吗？ 0
Tkinter中event_generate创建的Event如何附加数据？ 1
用Android Studio开发对电脑配置的要求？ 7
----------
你们资道吗，知乎多了个新功能哟 7
谢谢你关注我呀！！！ 28
【软件推荐01】Seer——给Win加上空格预览功能 13
终于寒假惹！准备开始写东西啦~ 14
吐槽 + 更新说明 + 寒假专栏征求意见稿 10
</pre></div>
</div>
</div>
<div class="section" id="streaming-json-json">
<h6>Streaming JSON - 流式 JSON<a class="headerlink" href="#streaming-json-json" title="永久链接至标题">¶</a></h6>
<p>另一种和知乎类很像的东西叫做 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a>。你可以把它想像成一个 JS 对象。
如果你不熟悉 JS 的话，那就想像成一个 Python 字典好了，只是这个字典不用 <code class="docutils literal"><span class="pre">[]</span></code>，
而是用 <code class="docutils literal"><span class="pre">.</span></code> 来取出数据。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>

<span class="n">locations</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">locations</span>

<span class="k">print</span><span class="p">(</span><span class="n">locations</span><span class="p">)</span>

<span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">avatar_url</span><span class="p">)</span>
</pre></div>
</div>
<p>输出（格式化后）：</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[
    {
        &#39;name&#39;:&#39;天津&#39;,
        &#39;avatar_url&#39;:&#39;http://pic4.zhimg.com/acad405e7_s.jpg&#39;,
        &#39;introduction&#39;:&#39;天津，简称津，地处华北平原，自古因漕运而兴起，明永乐二年十一月二十一日（1404年12月23日）正式筑城，是中国古代唯一有确切建城时间记录的城市。经历600余年，特别是近代百年，造就了天津中西合璧、古今兼容的独特城市风貌。\xa0&#39;,
        &#39;excerpt&#39;:&#39;天津，简称津，地处华北平原，自古因漕运而兴起，明永乐二年十一月二十一日（1404年12月23日）正式筑城，是中国古代唯一有确切建城时间记录的城市。经历600余年，特别是近代百年，造就了天津中西合璧、古今兼容的独特城市风貌。 &#39;,
        &#39;type&#39;:&#39;topic&#39;,
        &#39;id&#39;:&#39;19577238&#39;,
        &#39;url&#39;:&#39;https://api.zhihu.com/topics/19577238&#39;
    }
]

天津 http://pic4.zhimg.com/acad405e7_s.jpg
</pre></div>
</div>
<p>对照代码和输出，我相信你能理解什么叫做　StreamingJSON。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>详细</p>
<p class="last">有关 StreamingJSON 的更多资料请看 <a class="reference internal" href="index.html#intro-streaming-json"><span class="std std-ref">Streaming JSON attr - 流式 JSON 属性</span></a></p>
</div>
</div>
</div>
<div class="section" id="get-other-object">
<h5>Get other object - 获取其他对象<a class="headerlink" href="#get-other-object" title="永久链接至标题">¶</a></h5>
<p>除了 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me" title="zhihu_oauth.zhcls.me.Me"><code class="xref any py py-class docutils literal"><span class="pre">Me</span></code></a> 以外，还有很多类可供使用，比如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 可以通过
<a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.answer" title="zhihu_oauth.client.ZhihuClient.answer"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.answer</span></code></a> 方法获取，并输出答案的一些资料：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">answer</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="mi">94150403</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">thanks_count</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">created_time</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">updated_time</span><span class="p">)</span>

<span class="k">for</span> <span class="n">voter</span> <span class="ow">in</span> <span class="n">answer</span><span class="o">.</span><span class="n">voters</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">voter</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">voter</span><span class="o">.</span><span class="n">headline</span><span class="p">)</span>
</pre></div>
</div>
<p>输出如下：</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>如何评价南开大学津南校区的建设质量？
7sDream
4
0
1460039289
1460088371
秦承平 莫做开山怪，莫做开山怪！
CINDY Warm♥Brave
杀马特绅少 懂礼貌的好周绅
codefalling https://github.com/CodeFalling
</pre></div>
</div>
<p>所有可用的类请转到 <a class="reference internal" href="index.html#for-user-zhcls"><span class="std std-ref">知乎类文档</span></a> 进行查看，用法均类似。</p>
<p>除了以上的使用方式外，<a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 还提供了一个通用的，通过 URL 的创建知乎类对象的方法。</p>
<p>比如上述代码中的</p>
<p><code class="docutils literal"><span class="pre">answer</span> <span class="pre">=</span> <span class="pre">client.answer(94150403)</span></code></p>
<p>可以改写成</p>
<p><code class="docutils literal"><span class="pre">answer</span> <span class="pre">=</span> <span class="pre">client.from_url('https://www.zhihu.com/question/42248369/answer/94150403')</span></code></p>
<p>传递不同的 URL 可以获得不同的对象以供使用。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>另见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.from_url" title="zhihu_oauth.client.ZhihuClient.from_url"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.from_url</span></code></a></p>
</div>
</div>
<div class="section" id="backup-save">
<h5>Backup &amp; Save - 备份和保存<a class="headerlink" href="#backup-save" title="永久链接至标题">¶</a></h5>
<p>zhihu_oauth 还提供了简单地备份（保存）答案和文章的功能。以答案为例：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">question</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">question</span><span class="p">(</span><span class="mi">35166763</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="k">for</span> <span class="n">answer</span> <span class="ow">in</span> <span class="n">question</span><span class="o">.</span><span class="n">answers</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">answer</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>
    <span class="n">answer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Dota2有什么你知道的小技巧？来恶补一下！？
呵呵 341
赵小胖 523
隔壁小岚哥 69
曹凌群 51
匿名用户 43

# many many author name

匿名用户 0
托托 0
</pre></div>
</div>
<p>结果：</p>
<div class="figure">
<img alt="_images/save-answer.png" src="_images/save-answer.png" />
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>保存</p>
<p>答案保存功能的详细参数参见 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.save" title="zhihu_oauth.zhcls.answer.Answer.save"><code class="xref any py py-meth docutils literal"><span class="pre">Answer.save</span></code></a></p>
<p class="last">文章保存功能的详细参数参见 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article.save" title="zhihu_oauth.zhcls.article.Article.save"><code class="xref any py py-meth docutils literal"><span class="pre">Article.save</span></code></a></p>
</div>
</div>
<div class="section" id="what-s-next">
<h5>What&#8217;s Next - 下一步<a class="headerlink" href="#what-s-next" title="永久链接至标题">¶</a></h5>
<p>这里只用 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me" title="zhihu_oauth.zhcls.me.Me"><code class="xref any py py-class docutils literal"><span class="pre">Me</span></code></a> 类作为示例，其他类的用法其实也类似。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>有那些类可以使用？</p>
<p>请看 <a class="reference internal" href="index.html#for-user-zhcls"><span class="std std-ref">知乎相关类文档</span></a></p>
<p class="last">用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 的生成这些对象的方法请看 <a class="reference internal" href="index.html#document-for-user/client"><span class="doc">这里</span></a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="classes-references">
<h2>Classes references - 类详细文档<a class="headerlink" href="#classes-references" title="永久链接至标题">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-for-user/index"></span><div class="section" id="classes-references">
<h3>Classes references - 类详细文档<a class="headerlink" href="#classes-references" title="永久链接至标题">¶</a></h3>
<div class="toctree-wrapper compound" id="for-user">
<span id="document-for-user/client"></span><div class="section" id="module-zhihu_oauth.client">
<span id="zhihuclient"></span><h4>ZhihuClient - 知乎客户端<a class="headerlink" href="#module-zhihu_oauth.client" title="永久链接至标题">¶</a></h4>
<dl class="class">
<dt id="zhihu_oauth.client.ZhihuClient">
<em class="property">class </em><code class="descclassname">zhihu_oauth.client.</code><code class="descname">ZhihuClient</code><span class="sig-paren">(</span><em>client_id=None</em>, <em>secret=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>client_id=None</em>, <em>secret=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>知乎客户端，这是获取所有类的入口。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>client_id</strong> (<em>str|unicode</em>) &#8211; 客户端 ID。</li>
<li><strong>secret</strong> (<em>str|unicode</em>) &#8211; 客户端 ID 对应的 SECRET KEY。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.need_captcha">
<code class="descname">need_captcha</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.need_captcha"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.need_captcha" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">注解</p>
<p>一般来说此方法不需要手动调用。</p>
<p>在调用 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.login" title="zhihu_oauth.client.ZhihuClient.login"><code class="xref py py-meth docutils literal"><span class="pre">login</span></code></a> 时捕获 <a class="reference internal" href="index.html#zhihu_oauth.exception.NeedCaptchaException" title="zhihu_oauth.exception.NeedCaptchaException"><code class="xref py py-class docutils literal"><span class="pre">NeedCaptchaException</span></code></a> 即可。</p>
<p class="last">而 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref py py-meth docutils literal"><span class="pre">login_in_terminal</span></code></a> 会自动处理需要验证码的情况。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">下次登录是否需要验证码。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref py py-class docutils literal"><span class="pre">UnexpectedResponseException</span></code></a> 知乎返回的数据和预期格式不符。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.get_captcha">
<code class="descname">get_captcha</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.get_captcha"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.get_captcha" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">如果需要验证码，则返回 bytes 型验证码，不需要则返回 None。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">None | bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref py py-class docutils literal"><span class="pre">UnexpectedResponseException</span></code></a> 知乎返回的数据和预期格式不符</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.login">
<code class="descname">login</code><span class="sig-paren">(</span><em>username</em>, <em>password</em>, <em>captcha=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.login"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.login" title="永久链接至目标">¶</a></dt>
<dd><p>登录知乎的主要方法。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>关于手机号登录</p>
<p class="last">手机号登录时请在手机号前加上 <code class="docutils literal"><span class="pre">+86</span></code></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> (<em>str|unicode</em>) &#8211; 邮箱或手机号。</li>
<li><strong>password</strong> (<em>str|unicode</em>) &#8211; 密码。</li>
<li><strong>captcha</strong> (<em>str|unicode</em>) &#8211; 验证码，可以为空。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">二元元组，第一个元素表示是否成功，第二个元素表示失败原因。</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first">tuple(bool, str)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#zhihu_oauth.exception.NeedCaptchaException" title="zhihu_oauth.exception.NeedCaptchaException"><code class="xref py py-class docutils literal"><span class="pre">NeedCaptchaException</span></code></a> 此次登录需要验证码</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.login_in_terminal">
<code class="descname">login_in_terminal</code><span class="sig-paren">(</span><em>username=None</em>, <em>password=None</em>, <em>use_getpass=True</em>, <em>captcha_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.login_in_terminal"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="永久链接至目标">¶</a></dt>
<dd><p>为在命令行模式下使用本库的用户提供的快捷登录方法。</p>
<p>在未提供 username 或 password 参数时会在终端中请求输入。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">此方法会自动处理验证码需要验证码情况。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> (<em>str|unicode</em>) &#8211; 邮箱或手机号。</li>
<li><strong>password</strong> (<em>str|unicode</em>) &#8211; 密码。</li>
<li><strong>use_getpass</strong> (<em>bool</em>) &#8211; 输入密码时是否使用密码模式（不回显输入字符），默认为 True。
提供此参数是因为在 Windows 环境下 IDE 的控制台可能由于某些原因，getpass 无法被
正常使用，此时提供 False 参数即可。（new in version &gt; 0.0.16）</li>
<li><strong>captcha_filename</strong> (<em>str|unicode</em>) &#8211; 如果需要输入验证码，
本参数指定验证码存放的文件名，如果不提供则使用默认文件名。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last"><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.login" title="zhihu_oauth.client.ZhihuClient.login"><code class="xref py py-meth docutils literal"><span class="pre">login</span></code></a></p>
</div>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.create_token">
<code class="descname">create_token</code><span class="sig-paren">(</span><em>filename</em>, <em>username=None</em>, <em>password=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.create_token"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.create_token" title="永久链接至目标">¶</a></dt>
<dd><p>另一个快捷方法，作用为调用 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref py py-meth docutils literal"><span class="pre">login_in_terminal</span></code></a></p>
<p>如果成功则将 token 储存文件中。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<em>str|unicode</em>) &#8211; token 保存的文件名</li>
<li><strong>username</strong> (<em>str|unicode</em>) &#8211; 邮箱或手机号</li>
<li><strong>password</strong> (<em>str|unicode</em>) &#8211; 密码</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last"><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.login" title="zhihu_oauth.client.ZhihuClient.login"><code class="xref py py-meth docutils literal"><span class="pre">login</span></code></a></p>
</div>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.load_token">
<code class="descname">load_token</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.load_token"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.load_token" title="永久链接至目标">¶</a></dt>
<dd><p>通过载入 token 文件来达到登录状态。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.save_token" title="zhihu_oauth.client.ZhihuClient.save_token"><code class="xref py py-meth docutils literal"><span class="pre">save_token</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>filename</strong> (<em>str|unicode</em>) &#8211; token 文件名。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">无返回值，也就是说其实不知道是否登录成功。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.save_token">
<code class="descname">save_token</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.save_token"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.save_token" title="永久链接至目标">¶</a></dt>
<dd><p>将通过登录获取到的 token 保存为文件，必须是已登录状态才能调用。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.load_token" title="zhihu_oauth.client.ZhihuClient.load_token"><code class="xref py py-meth docutils literal"><span class="pre">load_token</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>filename</strong> (<em>str|unicode</em>) &#8211; 将 token 储存为文件。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">无返回值。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.is_login">
<code class="descname">is_login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.is_login"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.is_login" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">是否已登录。但其实只是检查内部的 token 是否是 None。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.test_api">
<code class="descname">test_api</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>params=None</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.test_api"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.test_api" title="永久链接至目标">¶</a></dt>
<dd><p>开发时用的测试某个 API 返回的 JSON 用的便捷接口。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>str|unicode</em>) &#8211; HTTP 方式， GET or POST or OPTION, etc。</li>
<li><strong>url</strong> (<em>str|unicode</em>) &#8211; API 地址。</li>
<li><strong>params</strong> (<em>dict</em>) &#8211; GET 参数。</li>
<li><strong>data</strong> (<em>dict</em>) &#8211; POST 参数。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">访问结果。</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">request.Response</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.set_proxy">
<code class="descname">set_proxy</code><span class="sig-paren">(</span><em>proxy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.set_proxy"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.set_proxy" title="永久链接至目标">¶</a></dt>
<dd><p>设置 http 和 https 代理或者 sock5代理（requests 已经可以支持 socks 代理）</p>
<p>因为由 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 生成的知乎类对象和本对象使用同一
session，所以设置代理后，对所有由当前对象生成的知乎对象均会
使用设置的代理。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>如果需要使用 socks 代理，需要安装 pysocks</p>
<p class="last"><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pysocks&gt;=1.5.6,!=1.5.7</span></code></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>proxy</strong> (<em>str|unicode</em>) &#8211; 形如 &#8216;<a class="reference external" href="http://user:pass&#64;10.10.1.10:3128/">http://user:pass&#64;10.10.1.10:3128/</a>&#8216;
或者 &#8216;socks5://user:pass&#64;host:port&#8217;。
传入 None 表示清除代理设置。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.answer">
<code class="descname">answer</code><span class="sig-paren">(</span><em>aid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.answer"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.answer" title="永久链接至目标">¶</a></dt>
<dd><p>获取答案对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>aid</strong> (<em>int</em>) &#8211; 答案 ID。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/question/xxxxxx/answer/1234567">https://www.zhihu.com/question/xxxxxx/answer/1234567</a>
的答案 ID 是 1234567。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.article">
<code class="descname">article</code><span class="sig-paren">(</span><em>aid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.article"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.article" title="永久链接至目标">¶</a></dt>
<dd><p>获取文章对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>aid</strong> (<em>int</em>) &#8211; 文章 ID。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://zhuanlan.zhihu.com/p/1234567">https://zhuanlan.zhihu.com/p/1234567</a> 的文章 ID 是 1234567。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.collection">
<code class="descname">collection</code><span class="sig-paren">(</span><em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.collection"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.collection" title="永久链接至目标">¶</a></dt>
<dd><p>获取收藏夹对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>cid</strong> (<em>int</em>) &#8211; 收藏夹 ID</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/collection/1234567">https://www.zhihu.com/collection/1234567</a> 的收藏夹 ID 是 1234567。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><code class="xref any py py-class docutils literal"><span class="pre">Collection</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.column">
<code class="descname">column</code><span class="sig-paren">(</span><em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.column"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.column" title="永久链接至目标">¶</a></dt>
<dd><p>获取专栏对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>cid</strong> (<em>str|unicode</em>) &#8211; 专栏 ID，注意，类型是字符串。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://zhuanlan.zhihu.com/abcdefg">https://zhuanlan.zhihu.com/abcdefg</a> 的专栏 ID 是 abcdefg。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column" title="zhihu_oauth.zhcls.column.Column"><code class="xref any py py-class docutils literal"><span class="pre">Column</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.live">
<code class="descname">live</code><span class="sig-paren">(</span><em>lid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.live"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.live" title="永久链接至目标">¶</a></dt>
<dd><p>获取收 Live 对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>lid</strong> (<em>int</em>) &#8211; Live ID</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/lives/778748004768178176">https://www.zhihu.com/lives/778748004768178176</a>
的 Live ID 是 778748004768178176。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.live.Live" title="zhihu_oauth.zhcls.live.Live"><code class="xref any py py-class docutils literal"><span class="pre">Live</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.me">
<code class="descname">me</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.me"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.me" title="永久链接至目标">¶</a></dt>
<dd><p>获取当前登录的用户，需要 Client 是登录状态。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">Me</span></code> 类继承于 <code class="xref py py-class docutils literal"><span class="pre">People</span></code>，是一个不同于其他用户的类。
这个类用于提供各种操作，比如点赞，评论，私信等。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me" title="zhihu_oauth.zhcls.me.Me"><code class="xref any py py-class docutils literal"><span class="pre">Me</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.people">
<code class="descname">people</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.people"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.people" title="永久链接至目标">¶</a></dt>
<dd><p>获取用户对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>pid</strong> (<em>str|unicode</em>) &#8211; 用户 ID，注意，类型是字符串。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/people/abcdefg">https://www.zhihu.com/people/abcdefg</a> 的用户 ID 是 abcdefg。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.pin">
<code class="descname">pin</code><span class="sig-paren">(</span><em>pid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.pin"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.pin" title="永久链接至目标">¶</a></dt>
<dd><p>获取分享（Pin）对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>pid</strong> (<em>int</em>) &#8211; Pin ID，。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/pin/123123123123">https://www.zhihu.com/pin/123123123123</a> 的 Pin ID 是 123123123123。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.question">
<code class="descname">question</code><span class="sig-paren">(</span><em>qid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.question"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.question" title="永久链接至目标">¶</a></dt>
<dd><p>获取问题对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>qid</strong> (<em>int</em>) &#8211; 问题 ID。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/question/1234567">https://www.zhihu.com/question/1234567</a> 的问题 ID 是 1234567。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.topic">
<code class="descname">topic</code><span class="sig-paren">(</span><em>tid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.topic"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.topic" title="永久链接至目标">¶</a></dt>
<dd><p>获取话题对象，需要 Client 是登录状态。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>tid</strong> (<em>int</em>) &#8211; 话题 ID。</td>
</tr>
<tr class="field-even field"><th class="field-name">举例:</th><td class="field-body"><a class="reference external" href="https://www.zhihu.com/tipoc/1234567">https://www.zhihu.com/tipoc/1234567</a> 的话题 ID 是 1234567。</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic"><code class="xref any py py-class docutils literal"><span class="pre">Topic</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.from_url">
<code class="descname">from_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.from_url"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.from_url" title="永久链接至目标">¶</a></dt>
<dd><p>通过知乎的 URL 创建对象，需要 client 是登录状态。</p>
<p>对象的 URL 请参见对应方法的描述。如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 类的 URL 的描述在
<a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.answer" title="zhihu_oauth.client.ZhihuClient.answer"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.answer</span></code></a> 方法的文档里，其余类似。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>提示</p>
<p class="last">本方法也支持省略了开头的 <code class="docutils literal"><span class="pre">https://</span></code>，或者结尾有多余的 <code class="docutils literal"><span class="pre">/</span></code> 的 URL。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>url</strong> (<em>str|unicode</em>) &#8211; 知乎对象的网址</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">对应的知乎对象</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>query</em>, <em>search_type='GENERAL'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.search"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.search" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.client.ZhihuClient.search_unfold">
<code class="descname">search_unfold</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/client.html#ZhihuClient.search_unfold"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.search_unfold" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.client.ZhihuClient.lives">
<code class="descname">lives</code><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.lives" title="永久链接至目标">¶</a></dt>
<dd><p>所有 Live，内部只是封装了 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.lives_ongoing" title="zhihu_oauth.client.ZhihuClient.lives_ongoing"><code class="xref any py py-attr docutils literal"><span class="pre">lives_ongoing</span></code></a> 和 <a class="reference internal" href="#zhihu_oauth.client.ZhihuClient.lives_ended" title="zhihu_oauth.client.ZhihuClient.lives_ended"><code class="xref any py py-attr docutils literal"><span class="pre">lives_ended</span></code></a>
两个生成器的数据，作为一个快捷方法。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.client.ZhihuClient.lives_ended">
<code class="descname">lives_ended</code><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.lives_ended" title="永久链接至目标">¶</a></dt>
<dd><p>已经结束的 Live</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.client.ZhihuClient.lives_ongoing">
<code class="descname">lives_ongoing</code><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.lives_ongoing" title="永久链接至目标">¶</a></dt>
<dd><p>正在开放的 Live</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.client.ZhihuClient.live_tags">
<code class="descname">live_tags</code><a class="headerlink" href="#zhihu_oauth.client.ZhihuClient.live_tags" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/index"></span><div class="section" id="zhihu-classes">
<h4>Zhihu Classes - 知乎相关类<a class="headerlink" href="#zhihu-classes" title="永久链接至标题">¶</a></h4>
<div class="toctree-wrapper compound" id="for-user-zhcls">
<span id="document-for-user/zhcls/intro"></span><div class="section" id="intro">
<h5>Intro - 知乎类文档阅读说明<a class="headerlink" href="#intro" title="永久链接至标题">¶</a></h5>
<div class="section" id="usage">
<h6>Usage - 使用方法<a class="headerlink" href="#usage" title="永久链接至标题">¶</a></h6>
<p>所有知乎类都不建议手动构建，而应该使用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 提供的相应的
生成方法来创建。</p>
<p>如想得到一个答案对象，请使用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.answer" title="zhihu_oauth.client.ZhihuClient.answer"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.answer</span></code></a> 方法，其余类似。</p>
<p>每个类所需要的 ID 参数如何获取请参考 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 类对应方法的文档。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a></p>
</div>
</div>
<div class="section" id="normal-attr">
<span id="intro-normal-attr"></span><h6>Normal attr - 常规属性<a class="headerlink" href="#normal-attr" title="永久链接至标题">¶</a></h6>
<p>如果一个属性没有说明，则表示：</p>
<ul class="simple">
<li>它的名称已经把自己描述的足够清楚了。</li>
<li>如果它是个单数，表示直接通过 <code class="docutils literal"><span class="pre">.</span></code> 操作符，
能直接获取到基本类型 <code class="docutils literal"><span class="pre">(str,</span> <span class="pre">int,</span> <span class="pre">float,</span> <span class="pre">bool)</span></code> 的数据，或另一个知乎对象。</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>举例</p>
<ul class="last simple">
<li><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.voteup_count" title="zhihu_oauth.zhcls.answer.Answer.voteup_count"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.voteup_count</span></code></a> 表示一个答案获得的赞同数（很明显是个 <code class="docutils literal"><span class="pre">int</span></code>）。</li>
<li><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.author" title="zhihu_oauth.zhcls.answer.Answer.author"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.author</span></code></a> 表示答案的作者（很明显应该是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref py py-class docutils literal"><span class="pre">People</span></code></a> 类）。</li>
</ul>
</div>
</div>
<div class="section" id="streaming-json-attr-json">
<span id="intro-streaming-json"></span><h6>Streaming JSON attr - 流式 JSON 属性<a class="headerlink" href="#streaming-json-attr-json" title="永久链接至标题">¶</a></h6>
<p>如果我说明了一个属性的常见返回值，则表示</p>
<ul class="simple">
<li>它返回的是一个 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a> 对象，可以想像成一个 JS Object。</li>
<li>它的属性可通过 <code class="docutils literal"><span class="pre">.</span></code> 和 <code class="docutils literal"><span class="pre">[]</span></code> 操作符进行遍历。</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>举例</p>
<p><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.suggest_edit" title="zhihu_oauth.zhcls.answer.Answer.suggest_edit"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.suggest_edit</span></code></a> 的常见返回值是</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;为什么回答会被建议修改&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tip&#39;</span><span class="p">:</span> <span class="s1">&#39;作者修改内容通过后，回答会重新显示。如果一周内未得到有效修改，回答会自动折叠&#39;</span><span class="p">,</span>
    <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;回答被建议修改：</span><span class="se">\\</span><span class="s1">n不宜公开讨论的政治内容&#39;</span><span class="p">,</span>
    <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;zhihu://questions/24752645&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>表示我们可以</p>
<ul class="last simple">
<li>通过 <code class="docutils literal"><span class="pre">answer.suggest_edit.status</span></code> 取到 <code class="docutils literal"><span class="pre">True</span></code></li>
<li>通过 <code class="docutils literal"><span class="pre">answer.suggest_edit.reason</span></code> 取到 <code class="docutils literal"><span class="pre">'回答被建议修改：\n不宜公开讨论的政治内容'</span></code></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>再举例</p>
<p><a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.locations" title="zhihu_oauth.zhcls.people.People.locations"><code class="xref any py py-attr docutils literal"><span class="pre">People.locations</span></code></a> 的常见返回值是</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;天津，简称津，地处华北平原，balabala,</span>
        <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/19577238&#39;</span><span class="p">,</span>
        <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic4.zhimg.com/acad405e7_s.jpg&#39;</span><span class="p">,</span>
        <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;天津，简称津，地处华北平原 balabalabala&#39;</span><span class="p">,</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;天津&#39;</span><span class="p">,</span>
        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;19577238&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">],</span>
</pre></div>
</div>
<p>最外面是一个列表表示我们可以迭代它：</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">people</span><span class="o">.</span><span class="n">locations</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">excerpt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note" id="tips-for-conflict-with-keyword">
<p class="first admonition-title">注解</p>
<p>提示</p>
<p class="last">如果某个属性和 Python 的关键字冲突，请在属性名后面加上下划线 <code class="docutils literal"><span class="pre">_</span></code> 即可。</p>
</div>
<p>对了，如果你不喜欢用 <code class="docutils literal"><span class="pre">.</span></code> 操作符，而偏爱标准dict和list的操作模式，你可以使用
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON.raw_data" title="zhihu_oauth.zhcls.streaming.StreamingJSON.raw_data"><code class="xref any py py-meth docutils literal"><span class="pre">StreamingJSON.raw_data</span></code></a> 方法获取到内部数据。</p>
</div>
<div class="section" id="generator-attr">
<span id="intro-generator-attr"></span><h6>Generator attr - 生成器属性<a class="headerlink" href="#generator-attr" title="永久链接至标题">¶</a></h6>
<p>如果一个属性名是复数，又没有给出常见返回值，那么它是生成器属性。</p>
<p>这表示直接通过 <code class="docutils literal"><span class="pre">.</span></code> 操作符，能获取到一个生成器，生成它所表示的知乎对象列表。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>举例</p>
<ul class="last simple">
<li><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.voters" title="zhihu_oauth.zhcls.answer.Answer.voters"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.voters</span></code></a> 表示答案的所有点赞者（<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 对象的生成器）。</li>
<li><a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.answers" title="zhihu_oauth.zhcls.people.People.answers"><code class="xref any py py-attr docutils literal"><span class="pre">People.answers</span></code></a> 表示用户的所有答案（<a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 对象的生成器）。</li>
</ul>
</div>
<p>可以通过 <code class="docutils literal"><span class="pre">for</span> <span class="pre">in</span> <span class="pre">loop</span></code> 对它们进行迭代：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">answer</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">answers</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">answer</span><span class="o">.</span><span class="n">voteup_count</span>
</pre></div>
</div>
<p>某些属性可以通过 order_by 来指定排序，但是一般用不到。</p>
<p>目前发现的的用法见：<a class="reference internal" href="index.html#zhihu_oauth.zhcls.generator.BaseGenerator.order_by" title="zhihu_oauth.zhcls.generator.BaseGenerator.order_by"><code class="xref any py py-meth docutils literal"><span class="pre">BaseGenerator.order_by</span></code></a>。</p>
</div>
<div class="section" id="specification-compatible">
<h6>Specification &amp; Compatible - 规范 &amp; 兼容<a class="headerlink" href="#specification-compatible" title="永久链接至标题">¶</a></h6>
<p>这个库遵循以下原则：</p>
<ul class="simple">
<li>点赞一律用 vote，点赞者用 voter</li>
<li>收藏夹用 collection，收藏用 collect</li>
<li>某某某的数量一律用 <code class="docutils literal"><span class="pre">xxx_count</span></code>，<code class="docutils literal"><span class="pre">xxx</span></code> 使用单数形式</li>
<li>某某某的生成器一律用 <code class="docutils literal"><span class="pre">xxxs</span></code>，即 <code class="docutils literal"><span class="pre">xxx</span></code> 的复数形式</li>
</ul>
<p>例： <a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column.article_count" title="zhihu_oauth.zhcls.column.Column.article_count"><code class="xref any py py-attr docutils literal"><span class="pre">Column.article_count</span></code></a> 专栏的文章数</p>
<p>例： <a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column.articles" title="zhihu_oauth.zhcls.column.Column.articles"><code class="xref any py py-attr docutils literal"><span class="pre">Column.articles</span></code></a> 专栏所有文章的生成器</p>
<p>知乎返回的 JSON 大部分都很统一，比如用词的单复数，
用 vote 还是 like 表示点赞，等等这些。</p>
<p>但是就是有那么几个不合群。</p>
<p>如果你看到某个类有两个差不多的属性，他们的差别只是</p>
<ul class="simple">
<li>某一个属性多了个 s
（比如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column.article_count" title="zhihu_oauth.zhcls.column.Column.article_count"><code class="xref any py py-attr docutils literal"><span class="pre">Column.article_count</span></code></a> 和 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column.articles_count" title="zhihu_oauth.zhcls.column.Column.articles_count"><code class="xref any py py-attr docutils literal"><span class="pre">Column.articles_count</span></code></a>）</li>
<li>两个属性意思相同
（比如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.favorited_count" title="zhihu_oauth.zhcls.people.People.favorited_count"><code class="xref any py py-attr docutils literal"><span class="pre">People.favorited_count</span></code></a> 和 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.collected_count" title="zhihu_oauth.zhcls.people.People.collected_count"><code class="xref any py py-attr docutils literal"><span class="pre">People.collected_count</span></code></a>）</li>
</ul>
<p>那么：</p>
<ul class="simple">
<li>有 s 的版本是我为了兼容知乎的原始数据加上的别名。</li>
<li>其中一个属性是我强行修改成符合我自己规范的名字。</li>
</ul>
<p>这种做法只是为了兼容知乎原始数据，其实两个方法无任何区别（当然，除了名字）。</p>
</div>
</div>
<span id="document-for-user/zhcls/activity"></span><div class="section" id="module-zhihu_oauth.zhcls.activity">
<span id="activity"></span><h5>Activity - 用户动态<a class="headerlink" href="#module-zhihu_oauth.zhcls.activity" title="永久链接至标题">¶</a></h5>
<dl class="data">
<dt id="zhihu_oauth.zhcls.activity.ActType">
<code class="descclassname">zhihu_oauth.zhcls.activity.</code><code class="descname">ActType</code><em class="property"> = SimpleEnum({'COLLECT_ARTICLE', 'VOTEUP_ARTICLE', 'VOTEUP_ANSWER', 'FOLLOW_ROUNDTABLE', 'LIKE_PIN', 'COLLECT_ANSWER', 'CREATE_ARTICLE', 'FOLLOW_QUESTION', 'FOLLOW_COLLECTION', 'CREATE_PIN', 'FOLLOW_TOPIC', 'PUBLISH_LIVE', 'CREATE_ANSWER', 'FOLLOW_COLUMN', 'CREATE_QUESTION', 'JOIN_LIVE', 'VOTEUP_EBOOK'})</em><a class="headerlink" href="#zhihu_oauth.zhcls.activity.ActType" title="永久链接至目标">¶</a></dt>
<dd><p>ActType 是用于表示用户动态类型的枚举类，可供使用的常量有：</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="29%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">常量名</th>
<th class="head">说明</th>
<th class="head"><cite>target</cite> 属性类型</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>COLLECT_ANSWER</td>
<td>收藏答案</td>
<td>比较特殊，见下文</td>
</tr>
<tr class="row-odd"><td>COLLECT_ARTICLE</td>
<td>收藏文章</td>
<td>比较特殊，见下文</td>
</tr>
<tr class="row-even"><td>CREATE_ANSWER</td>
<td>回答问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-odd"><td>CREATE_ARTICLE</td>
<td>发表文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-even"><td>CREATE_PIN</td>
<td>发表分享</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
<tr class="row-odd"><td>CREATE_QUESTION</td>
<td>提出问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
<tr class="row-even"><td>FOLLOW_COLLECTION</td>
<td>关注收藏夹</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><code class="xref any py py-class docutils literal"><span class="pre">Collection</span></code></a></td>
</tr>
<tr class="row-odd"><td>FOLLOW_COLUMN</td>
<td>关注专栏</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column" title="zhihu_oauth.zhcls.column.Column"><code class="xref any py py-class docutils literal"><span class="pre">Column</span></code></a></td>
</tr>
<tr class="row-even"><td>FOLLOW_QUESTION</td>
<td>关注问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
<tr class="row-odd"><td>FOLLOW_ROUNDTABLE</td>
<td>关注圆桌</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a></td>
</tr>
<tr class="row-even"><td>FOLLOW_TOPIC</td>
<td>关注话题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic"><code class="xref any py py-class docutils literal"><span class="pre">Topic</span></code></a></td>
</tr>
<tr class="row-odd"><td>LIKE_PIN</td>
<td>赞了分享</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
<tr class="row-even"><td>JOIN_LIVE</td>
<td>参加 Live</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.live.Live" title="zhihu_oauth.zhcls.live.Live"><code class="xref any py py-class docutils literal"><span class="pre">Live</span></code></a></td>
</tr>
<tr class="row-odd"><td>PUBLISH_LIVE</td>
<td>举办 Live</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.live.Live" title="zhihu_oauth.zhcls.live.Live"><code class="xref any py py-class docutils literal"><span class="pre">Live</span></code></a></td>
</tr>
<tr class="row-even"><td>VOTEUP_ANSWER</td>
<td>赞同回答</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-odd"><td>VOTEUP_ARTICLE</td>
<td>赞同文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-even"><td>VOTEUP_EBOOK</td>
<td>赞了电子书</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a></td>
</tr>
</tbody>
</table>
<p>收藏答案和收藏文章的 Target 属性是一个 dict，结构如下：</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;answer/article&#39;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">Answer</span> <span class="nx">object</span><span class="o">&gt;</span> <span class="nx">or</span> <span class="o">&lt;</span><span class="nx">Article</span> <span class="nx">object</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s1">&#39;collection&#39;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">Collection</span> <span class="nx">object</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">answer/article</span></code> 表示被收藏的答案/文章，<code class="docutils literal"><span class="pre">collection</span></code> 表示被收藏进的收藏夹，因为只有这两个动作有两个
操作对象，所以特殊处理了一下。</p>
</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.activity.Activity">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.activity.</code><code class="descname">Activity</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/activity.html#Activity"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.activity.Activity.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/activity.html#Activity.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>表示用户的一条动态。</p>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.activity.Activity.type" title="zhihu_oauth.zhcls.activity.Activity.type"><code class="xref any py py-attr docutils literal"><span class="pre">type</span></code></a> 属性标识了动态的类型，其取值及意义请参见
<a class="reference internal" href="#zhihu_oauth.zhcls.activity.ActType" title="zhihu_oauth.zhcls.activity.ActType"><code class="xref any py py-data docutils literal"><span class="pre">ActType</span></code></a>。</p>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.activity.Activity.target" title="zhihu_oauth.zhcls.activity.Activity.target"><code class="xref any py py-attr docutils literal"><span class="pre">target</span></code></a> 属性表示这次动态操作的目标，根据
<cite>type</cite> 的不同，这个属性的类型也不同。但是基本都是
<cite>type</cite> 的最后一个单词表示的类型，请看下面的例子。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>举例</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span><span class="p">,</span> <span class="n">ActType</span> <span class="c1"># 记得要导入 ActType</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">ZhihuClient</span><span class="p">()</span>

<span class="c1"># Client 登录过程省略</span>

<span class="n">me</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">act</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">ActType</span><span class="o">.</span><span class="n">CREATE_ANSWER</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">上面这段代码只处理类型是创建答案的动态，此时 <cite>act.target</cite> 就是
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 类型，和 <cite>CREATE_ANSWER</cite> 的 <cite>ANSWER</cite> 对应。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.activity.Activity.action_text">
<code class="descname">action_text</code><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity.action_text" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.activity.Activity.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity.created_time" title="永久链接至目标">¶</a></dt>
<dd><p>用户动态的时间戳。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.activity.Activity.type">
<code class="descname">type</code><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity.type" title="永久链接至目标">¶</a></dt>
<dd><p>动态的类型。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.activity.ActType" title="zhihu_oauth.zhcls.activity.ActType"><code class="xref any py py-data docutils literal"><span class="pre">ActType</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.activity.Activity.target">
<code class="descname">target</code><a class="headerlink" href="#zhihu_oauth.zhcls.activity.Activity.target" title="永久链接至目标">¶</a></dt>
<dd><p>动态的操作目标。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.activity.Activity.__init__" title="zhihu_oauth.zhcls.activity.Activity.__init__"><code class="xref any py py-meth docutils literal"><span class="pre">Activity.__init__</span></code></a>, <a class="reference internal" href="#zhihu_oauth.zhcls.activity.ActType" title="zhihu_oauth.zhcls.activity.ActType"><code class="xref any py py-data docutils literal"><span class="pre">ActType</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<div class="section" id="id1">
<h6>辅助函数<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h6>
<p>因为用户动态比较复杂，我写了几个辅助函数来让开发效率更高。</p>
<p>首先是在获取用户动态的时候，合理利用 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.generator.ActivityGenerator.filter" title="zhihu_oauth.zhcls.generator.ActivityGenerator.filter"><code class="xref any py py-meth docutils literal"><span class="pre">ActivityGenerator.filter</span></code></a> 函数能够快速的获得需要的动态。</p>
<p>另外 <a class="reference internal" href="index.html#zhihu_oauth.helpers.act2str" title="zhihu_oauth.helpers.act2str"><code class="xref any py py-data docutils literal"><span class="pre">act2str</span></code></a> 和 <a class="reference internal" href="index.html#zhihu_oauth.helpers.ActivityFormatter" title="zhihu_oauth.helpers.ActivityFormatter"><code class="xref any py py-class docutils literal"><span class="pre">ActivityFormatter</span></code></a> 能把一个 <a class="reference internal" href="#zhihu_oauth.zhcls.activity.Activity" title="zhihu_oauth.zhcls.activity.Activity"><code class="xref any py py-class docutils literal"><span class="pre">Activity</span></code></a> 转换为字符串描述。</p>
</div>
</div>
<span id="document-for-user/zhcls/answer"></span><div class="section" id="answer">
<h5>Answer - 答案<a class="headerlink" href="#answer" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.answer"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.answer.Answer">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.answer.</code><code class="descname">Answer</code><span class="sig-paren">(</span><em>aid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/answer.html#Answer"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.author">
<code class="descname">author</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.author" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.can_comment">
<code class="descname">can_comment</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.can_comment" title="永久链接至目标">¶</a></dt>
<dd><p>大概表示允不允许当前用户评论吧。</p>
<p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.comment_count">
<code class="descname">comment_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.comment_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.comment_permission">
<code class="descname">comment_permission</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.comment_permission" title="永久链接至目标">¶</a></dt>
<dd><p>评论权限，现在已知有：</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">值(str)</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>all</td>
<td>允许所有人评论</td>
</tr>
<tr class="row-odd"><td>followee</td>
<td>允许答主关注的人评论</td>
</tr>
<tr class="row-even"><td>nobody</td>
<td>关闭评论</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.content">
<code class="descname">content</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.excerpt">
<code class="descname">excerpt</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.excerpt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.is_copyable">
<code class="descname">is_copyable</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.is_copyable" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.is_mine">
<code class="descname">is_mine</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.is_mine" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.question">
<code class="descname">question</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.question" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.suggest_edit">
<code class="descname">suggest_edit</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.suggest_edit" title="永久链接至目标">¶</a></dt>
<dd><p>答案是否处于「被建议修改」状态，常见返回值为：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;tip&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>

<span class="p">{</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;为什么回答会被建议修改&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tip&#39;</span><span class="p">:</span> <span class="s1">&#39;作者修改内容通过后，回答会重新显示。如果一周内未得到有效修改，回答会自动折叠&#39;</span><span class="p">,</span>
    <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;回答被建议修改：</span><span class="se">\n</span><span class="s1">不宜公开讨论的政治内容&#39;</span><span class="p">,</span>
    <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;zhihu://questions/24752645&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.thanks_count">
<code class="descname">thanks_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.thanks_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.voteup_count">
<code class="descname">voteup_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.voteup_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.collections">
<code class="descname">collections</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.collections" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.comments">
<code class="descname">comments</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.comments" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.answer.Answer.voters">
<code class="descname">voters</code><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.voters" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.answer.Answer.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>path='.'</em>, <em>filename=None</em>, <em>invalid_chars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/answer.html#Answer.save"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.answer.Answer.save" title="永久链接至目标">¶</a></dt>
<dd><p>保存答案到当前文件夹。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str|unicode</em>) &#8211; 目录名，可选。不提供的话会保存到当前目录。</li>
<li><strong>filename</strong> (<em>str|unicode</em>) &#8211; 文件名，可选。
不提供的话会使用答主名。注意不要带后缀名</li>
<li><strong>invalid_chars</strong> (<em>list</em><em>[</em><em>char</em><em>]</em><em></em>) &#8211; 非法字符传列表。
目录名和文件名都会使用这个列表过滤一遍。
如果不提供则会使用内置的列表。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">无返回值</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>TIPS</p>
<p>建议的使用方法：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 对于保存问题的所有答案</span>
<span class="k">for</span> <span class="n">answer</span> <span class="ow">in</span> <span class="n">question</span><span class="o">.</span><span class="n">answers</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">answer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="c1"># 对于保存收藏夹的所有答案</span>
<span class="k">for</span> <span class="n">answer</span> <span class="ow">in</span> <span class="n">collection</span><span class="o">.</span><span class="n">answers</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">answer</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span>
    <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">answer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">collection</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">因为这样会将答案保存在以问题标题（或者收藏夹名字）命名的文件夹里。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>TIPS</p>
<p class="last">对于一个问题下有多个匿名用户的情况，不要担心，会被自动命名为
匿名用户 - 001.html，匿名用户 - 002.html……</p>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">待处理</p>
<p class="last">优化存在重复文件时的算法……</p>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/article"></span><div class="section" id="article">
<h5>Article - 文章<a class="headerlink" href="#article" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.article"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.article.Article">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.article.</code><code class="descname">Article</code><span class="sig-paren">(</span><em>aid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/article.html#Article"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.author">
<code class="descname">author</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.author" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.can_comment">
<code class="descname">can_comment</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.can_comment" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.can_comment" title="zhihu_oauth.zhcls.answer.Answer.can_comment"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.can_comment</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.column">
<code class="descname">column</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.column" title="永久链接至目标">¶</a></dt>
<dd><p>文章所属专栏。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">当文章不属于任何专栏时值为 None，使用其属性前应先做检查。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.comment_count">
<code class="descname">comment_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.comment_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.comment_permission">
<code class="descname">comment_permission</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.comment_permission" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.comment_permission" title="zhihu_oauth.zhcls.answer.Answer.comment_permission"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.comment_permission</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.content">
<code class="descname">content</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.excerpt">
<code class="descname">excerpt</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.excerpt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.image_url">
<code class="descname">image_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.image_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.suggest_edit">
<code class="descname">suggest_edit</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.suggest_edit" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.suggest_edit" title="zhihu_oauth.zhcls.answer.Answer.suggest_edit"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.suggest_edit</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.voteup_count">
<code class="descname">voteup_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.voteup_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.article.Article.comments">
<code class="descname">comments</code><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.comments" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.article.Article.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>path='.'</em>, <em>filename=None</em>, <em>invalid_chars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/article.html#Article.save"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.article.Article.save" title="永久链接至目标">¶</a></dt>
<dd><p>除了默认文件名是文章标题外，和 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.save" title="zhihu_oauth.zhcls.answer.Answer.save"><code class="xref any py py-meth docutils literal"><span class="pre">Answer.save</span></code></a> 完全一致。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.save" title="zhihu_oauth.zhcls.answer.Answer.save"><code class="xref any py py-meth docutils literal"><span class="pre">Answer.save</span></code></a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>TIPS</p>
<p>建议的使用方法：</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">article</span> <span class="ow">in</span> <span class="n">column</span><span class="o">.</span><span class="n">articles</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
    <span class="n">article</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/collection"></span><div class="section" id="collection">
<h5>Collection - 收藏夹<a class="headerlink" href="#collection" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.collection"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.collection.Collection">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.collection.</code><code class="descname">Collection</code><span class="sig-paren">(</span><em>cid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/collection.html#Collection"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.answer_count">
<code class="descname">answer_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.answer_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.creator">
<code class="descname">creator</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.creator" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.comment_count">
<code class="descname">comment_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.comment_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.description">
<code class="descname">description</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.description" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.follower_count">
<code class="descname">follower_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.follower_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.is_public">
<code class="descname">is_public</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.is_public" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.answers">
<code class="descname">answers</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.answers" title="永久链接至目标">¶</a></dt>
<dd><p>获取收藏夹里的所有答案。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>无法被 shield</p>
<p>因为内部是调用 <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="zhihu_oauth.zhcls.collection.Collection.contents"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.contents</span></code></a> 的，
所以此生成器无法被 <a class="reference internal" href="index.html#zhihu_oauth.helpers.shield" title="zhihu_oauth.helpers.shield"><code class="xref any py py-func docutils literal"><span class="pre">shield</span></code></a> 保护。</p>
<p class="last">但是内部其实是用 shield 保护过 contents 的获取的，
如果这个生成器异常了那还是处理下吧。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.articles" title="zhihu_oauth.zhcls.collection.Collection.articles"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.articles</span></code></a>, <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="zhihu_oauth.zhcls.collection.Collection.contents"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.contents</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.articles">
<code class="descname">articles</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.articles" title="永久链接至目标">¶</a></dt>
<dd><p>获取收藏夹里的所有文章。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>无法被 shield</p>
<p>因为内部是调用 <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="zhihu_oauth.zhcls.collection.Collection.contents"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.contents</span></code></a> 的，
所以此生成器无法被 <a class="reference internal" href="index.html#zhihu_oauth.helpers.shield" title="zhihu_oauth.helpers.shield"><code class="xref any py py-func docutils literal"><span class="pre">shield</span></code></a> 保护。</p>
<p class="last">但是内部其实是用 shield 保护过 contents 的获取的，
如果这个生成器异常了那还是处理下吧。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.answers" title="zhihu_oauth.zhcls.collection.Collection.answers"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.answers</span></code></a>, <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="zhihu_oauth.zhcls.collection.Collection.contents"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.contents</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.comments">
<code class="descname">comments</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.comments" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.contents">
<code class="descname">contents</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="永久链接至目标">¶</a></dt>
<dd><p>新版知乎专栏支持收藏文章了，这个生成器生成的对象可能是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 也可能是
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a>，使用时要用 <code class="docutils literal"><span class="pre">isinstance</span></code> 判断类型后再获取对应对象的属性。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span><span class="p">,</span> <span class="n">Answer</span><span class="p">,</span> <span class="n">Article</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="mi">37770691</span><span class="p">)</span>

<span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">collection</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">Answer</span><span class="p">):</span>
        <span class="n">answer</span> <span class="o">=</span> <span class="n">content</span>
        <span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">Article</span><span class="p">):</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">content</span>
        <span class="k">print</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>如果你只需要答案或者只需要文章类型的数据，可以使用 <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.answers" title="zhihu_oauth.zhcls.collection.Collection.answers"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.answers</span></code></a>
或者 <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.articles" title="zhihu_oauth.zhcls.collection.Collection.articles"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.articles</span></code></a> 进行获取。</p>
<p>不过需要注意的是，这两个属性内部其实会调用 <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.contents" title="zhihu_oauth.zhcls.collection.Collection.contents"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.contents</span></code></a>，
然后只返回相应类型的对象。所以其实也是遍历了所有内容的，
效率与使用本函数然后自己判断类型一样。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.answers" title="zhihu_oauth.zhcls.collection.Collection.answers"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.answers</span></code></a>, <a class="reference internal" href="#zhihu_oauth.zhcls.collection.Collection.articles" title="zhihu_oauth.zhcls.collection.Collection.articles"><code class="xref any py py-attr docutils literal"><span class="pre">Collection.articles</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.collection.Collection.followers">
<code class="descname">followers</code><a class="headerlink" href="#zhihu_oauth.zhcls.collection.Collection.followers" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>注意！</p>
<p>知乎的这个 API 有问题，返回一些之后会将 is_end 设置为 True，
导致无法获取到所有的关注者。</p>
<p>并且此问题在知乎官方 Android APP 上也存在。你可以试着
找个很多人关注的收藏夹，然后查看关注者，一直往下拉。
大概加载 100 - 200（不固定，有时候一个都出不来）
之后就没法往下刷了。</p>
<p class="last">起码在我这个地区是这样的。欢迎各路少侠反馈。</p>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/column"></span><div class="section" id="column">
<h5>Column - 专栏<a class="headerlink" href="#column" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.column"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.column.Column">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.column.</code><code class="descname">Column</code><span class="sig-paren">(</span><em>cid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/column.html#Column"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.article_count">
<code class="descname">article_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.article_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.articles_count">
<code class="descname">articles_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.articles_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.author">
<code class="descname">author</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.author" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.comment_permission">
<code class="descname">comment_permission</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.comment_permission" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.description">
<code class="descname">description</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.description" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.follower_count">
<code class="descname">follower_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.follower_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.image_url">
<code class="descname">image_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.image_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.updated">
<code class="descname">updated</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.updated" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.articles">
<code class="descname">articles</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.articles" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.column.Column.followers">
<code class="descname">followers</code><a class="headerlink" href="#zhihu_oauth.zhcls.column.Column.followers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/comment"></span><div class="section" id="comment">
<h5>Comment - 评论<a class="headerlink" href="#comment" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<div class="topic">
<p class="topic-title first">评论的获取方法</p>
<p>评论类是不支持用评论 ID 来构造对象的，因为知乎并没有相关接口（或者是我没发现）</p>
<p>目前只能通过其他类的 <code class="docutils literal"><span class="pre">comments</span></code> 属性（比如
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.comments" title="zhihu_oauth.zhcls.answer.Answer.comments"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.comments</span></code></a>，<a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question.comments" title="zhihu_oauth.zhcls.question.Question.comments"><code class="xref any py py-attr docutils literal"><span class="pre">Question.comments</span></code></a>） 得到评论对象的迭代器。</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.comment"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.comment.Comment">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.comment.</code><code class="descname">Comment</code><span class="sig-paren">(</span><em>cid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/comment.html#Comment"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.allow_delete">
<code class="descname">allow_delete</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.allow_delete" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.allow_like">
<code class="descname">allow_like</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.allow_like" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.allow_reply">
<code class="descname">allow_reply</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.allow_reply" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.ancestor">
<code class="descname">ancestor</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.ancestor" title="永久链接至目标">¶</a></dt>
<dd><p>不知道是啥，貌似永远都是 False。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.author">
<code class="descname">author</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.author" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.content">
<code class="descname">content</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.is_author">
<code class="descname">is_author</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.is_author" title="永久链接至目标">¶</a></dt>
<dd><p>当前登录的用户是否是评论作者，也即表示是否是自己发送的评论。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.is_delete">
<code class="descname">is_delete</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.is_delete" title="永久链接至目标">¶</a></dt>
<dd><p>是否被删除？话说被删除了还能获取到？我没测试……</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.is_parent_author">
<code class="descname">is_parent_author</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.is_parent_author" title="永久链接至目标">¶</a></dt>
<dd><p>也没搞懂这个属性，貌似永远和 <a class="reference internal" href="#zhihu_oauth.zhcls.comment.Comment.is_author" title="zhihu_oauth.zhcls.comment.Comment.is_author"><code class="xref py py-meth docutils literal"><span class="pre">is_author</span></code></a> 保持一致。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.reply_to">
<code class="descname">reply_to</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.reply_to" title="永久链接至目标">¶</a></dt>
<dd><p>获取这条评论的父评论的作者，如果并没有回复谁则返回 None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People">People</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.resource_type">
<code class="descname">resource_type</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.resource_type" title="永久链接至目标">¶</a></dt>
<dd><p>是对什么东西的评论。</p>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">值(str)</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>answer</td>
<td>答案</td>
</tr>
<tr class="row-odd"><td>article</td>
<td>文章</td>
</tr>
<tr class="row-even"><td>question</td>
<td>问题</td>
</tr>
<tr class="row-odd"><td>favlist</td>
<td>收藏夹</td>
</tr>
<tr class="row-even"><td>pin</td>
<td>分享</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.vote_count">
<code class="descname">vote_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.vote_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.voting">
<code class="descname">voting</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.voting" title="永久链接至目标">¶</a></dt>
<dd><p>是否对这条评论点了赞。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.replies">
<code class="descname">replies</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.replies" title="永久链接至目标">¶</a></dt>
<dd><p>应该是用于实现「对话列表」的。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">回复本条评论的所有评论的列表（生成器）。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">collections.Iterable[<a class="reference internal" href="index.html#zhihu_oauth.zhcls.comment.Comment" title="zhihu_oauth.zhcls.comment.Comment">Comment</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.comment.Comment.conversation">
<code class="descname">conversation</code><a class="headerlink" href="#zhihu_oauth.zhcls.comment.Comment.conversation" title="永久链接至目标">¶</a></dt>
<dd><p>应该是用于实现「查看对话」的。</p>
<p>有的评论有这个属性，有个没有，我也没搞清楚规律。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">包含此条评论的对话，体现为评论列表（生成器）</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">collections.Iterable[<a class="reference internal" href="index.html#zhihu_oauth.zhcls.comment.Comment" title="zhihu_oauth.zhcls.comment.Comment">Comment</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/feed"></span><div class="section" id="module-zhihu_oauth.zhcls.feed">
<span id="feed"></span><h5>Feed - 首页信息流<a class="headerlink" href="#module-zhihu_oauth.zhcls.feed" title="永久链接至标题">¶</a></h5>
<dl class="data">
<dt id="zhihu_oauth.zhcls.feed.FeedType">
<code class="descclassname">zhihu_oauth.zhcls.feed.</code><code class="descname">FeedType</code><em class="property"> = SimpleEnum({'CARD', 'AD', 'QUESTION_FROM_TOPIC', 'ARTICLE_FROM_TOPIC', 'CREATE_QUESTION', 'VOTEUP_ANSWER', 'FOLLOW_ROUNDTABLE', 'CREATE_ARTICLE', 'CREATE_PIN', 'CREATE_ANSWER', 'FOLLOW_COLLECTION', 'JOIN_LIVE', 'COLLECT_ARTICLE', 'VOTEUP_ARTICLE', 'COLUMN_POPULAR_ARTICLE', 'COLLECT_ANSWER', 'FOLLOW_TOPIC', 'FOLLOW_COLUMN', 'EBOOK_FROM_TOPIC', 'LIKE_PIN', 'FOLLOW_QUESTION', 'ANSWER_FROM_TOPIC', 'VOTEUP_EBOOK'})</em><a class="headerlink" href="#zhihu_oauth.zhcls.feed.FeedType" title="永久链接至目标">¶</a></dt>
<dd><p>FeedType 是用于表示首页信息流单个 Feed 类型的枚举类，可供使用的常量有：</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="29%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">常量名</th>
<th class="head">说明</th>
<th class="head"><cite>target</cite> 属性类型</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>COLLECT_ANSWER</td>
<td>收藏答案</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-odd"><td>COLLECT_ARTICLE</td>
<td>收藏文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-even"><td>COLUMN_POPULAR_ARTICLE</td>
<td>热门专栏文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-odd"><td>CREATE_ANSWER</td>
<td>回答问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-even"><td>CREATE_ARTICLE</td>
<td>发表文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-odd"><td>CREATE_PIN</td>
<td>发表分享</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
<tr class="row-even"><td>CREATE_QUESTION</td>
<td>提出问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
<tr class="row-odd"><td>FOLLOW_COLLECTION</td>
<td>关注收藏夹</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><code class="xref any py py-class docutils literal"><span class="pre">Collection</span></code></a></td>
</tr>
<tr class="row-even"><td>FOLLOW_COLUMN</td>
<td>关注专栏</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.column.Column" title="zhihu_oauth.zhcls.column.Column"><code class="xref any py py-class docutils literal"><span class="pre">Column</span></code></a></td>
</tr>
<tr class="row-odd"><td>FOLLOW_QUESTION</td>
<td>关注问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
<tr class="row-even"><td>FOLLOW_ROUNDTABLE</td>
<td>关注圆桌</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a></td>
</tr>
<tr class="row-odd"><td>FOLLOW_TOPIC</td>
<td>关注话题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic"><code class="xref any py py-class docutils literal"><span class="pre">Topic</span></code></a></td>
</tr>
<tr class="row-even"><td>LIKE_PIN</td>
<td>赞了分享</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
<tr class="row-odd"><td>VOTEUP_ANSWER</td>
<td>赞同回答</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-even"><td>VOTEUP_ARTICLE</td>
<td>赞同文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-odd"><td>VOTEUP_EBOOK</td>
<td>赞了电子书</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a></td>
</tr>
<tr class="row-even"><td>ANSWER_FROM_TOPIC</td>
<td>来自话题的答案</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a></td>
</tr>
<tr class="row-odd"><td>ARTICLE_FROM_TOPIC</td>
<td>来自话题的文章</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a></td>
</tr>
<tr class="row-even"><td>EBOOK_FROM_TOPIC</td>
<td>来自话题的电子书</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a></td>
</tr>
<tr class="row-odd"><td>QUESTION_FROM_TOPIC</td>
<td>来自话题的问题</td>
<td><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a></td>
</tr>
<tr class="row-even"><td>ACTION_CARD</td>
<td>卡片式广告</td>
<td><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
<tr class="row-odd"><td>AD</td>
<td>简单广告</td>
<td><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
<p>上述 <code class="docutils literal"><span class="pre">ACTION_CARD</span></code> 型 Feed 的内容请参见 <a class="reference internal" href="#zhihu_oauth.zhcls.feed.Feed.promotions" title="zhihu_oauth.zhcls.feed.Feed.promotions"><code class="xref any py py-attr docutils literal"><span class="pre">Feed.promotions</span></code></a>；<code class="docutils literal"><span class="pre">AD</span></code>
型 Feed 内容参见 <a class="reference internal" href="#zhihu_oauth.zhcls.feed.Feed.ad" title="zhihu_oauth.zhcls.feed.Feed.ad"><code class="xref any py py-attr docutils literal"><span class="pre">Feed.ad</span></code></a>。</p>
</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.feed.Feed">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.feed.</code><code class="descname">Feed</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/feed.html#Feed"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed" title="永久链接至目标">¶</a></dt>
<dd><p>表示用户首页信息流里的单个卡片数据。用户一般无法手动构造此对象，而需要通过
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me.feeds" title="zhihu_oauth.zhcls.me.Me.feeds"><code class="xref any py py-attr docutils literal"><span class="pre">Me.feeds</span></code></a> 属性来获取 Feed Generator</p>
<p>使用示例：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span><span class="p">,</span> <span class="n">FeedType</span>

<span class="c1"># your login code</span>

<span class="n">me</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>

<span class="k">for</span> <span class="n">feed</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">feeds</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">feed</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">FeedType</span><span class="o">.</span><span class="n">VOTEUP_ANSWER</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">feed</span><span class="o">.</span><span class="n">action_text</span><span class="p">)</span>
</pre></div>
</div>
<p>或者使用 Feed Generator 的 filter 函数来获取指定类型的 Feed：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">feed</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">feeds</span><span class="o">.</span><span class="n">filter</span><span class="p">({</span>
    <span class="n">FeedType</span><span class="o">.</span><span class="n">VOTEUP_ANSWER</span><span class="p">,</span> <span class="n">FeedType</span><span class="o">.</span><span class="n">ANSWER_FROM_TOPIC</span><span class="p">,</span>
    <span class="n">FeedType</span><span class="o">.</span><span class="n">CREATE_ANSWER</span><span class="p">,</span> <span class="n">FeedType</span><span class="o">.</span><span class="n">COLLECT_ANSWER</span><span class="p">,</span>
<span class="p">}):</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">feed</span><span class="o">.</span><span class="n">target</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ans</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">ans</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ans</span><span class="o">.</span><span class="n">voteup_count</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="zhihu_oauth.zhcls.feed.Feed.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/feed.html#Feed.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.action_text">
<code class="descname">action_text</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.action_text" title="永久链接至目标">¶</a></dt>
<dd><p>描述此 Feed 的文字，如 「XXX 赞同了回答」，「XXX 发表了文章」</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.created_time" title="永久链接至目标">¶</a></dt>
<dd><p>Feed 时间戳</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.target">
<code class="descname">target</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.target" title="永久链接至目标">¶</a></dt>
<dd><p>Feed 的主要内容。</p>
<p><cite>target</cite> 在不同 <a class="reference internal" href="#zhihu_oauth.zhcls.feed.Feed.type" title="zhihu_oauth.zhcls.feed.Feed.type"><code class="xref any py py-attr docutils literal"><span class="pre">Feed.type</span></code></a> 下有不同的类型。</p>
<p>参见 <a class="reference internal" href="#zhihu_oauth.zhcls.feed.FeedType" title="zhihu_oauth.zhcls.feed.FeedType"><code class="xref any py py-data docutils literal"><span class="pre">FeedType</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.type">
<code class="descname">type</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.type" title="永久链接至目标">¶</a></dt>
<dd><p>Feed 的类型。</p>
<p>参见 <a class="reference internal" href="#zhihu_oauth.zhcls.feed.FeedType" title="zhihu_oauth.zhcls.feed.FeedType"><code class="xref any py py-data docutils literal"><span class="pre">FeedType</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.actors">
<code class="descname">actors</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.actors" title="永久链接至目标">¶</a></dt>
<dd><p>可以理解为 Feed 的来源（可能有多个），所以是一个 Generator。</p>
<p>对于 <code class="docutils literal"><span class="pre">XXX_FROM_TOPIC</span></code> 类型的 Feed，此属性为 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic"><code class="xref any py py-class docutils literal"><span class="pre">Topic</span></code></a> 对象，
其他类型时大多为 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 型。</p>
<p>卡片和广告型 Feed 没有此内容。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.promotions">
<code class="descname">promotions</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.promotions" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">ACTION_CARD</span></code> 型 Feed 专属属性，表示促销的内容列表，是一个 Generator</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.feed.Feed.ad">
<code class="descname">ad</code><a class="headerlink" href="#zhihu_oauth.zhcls.feed.Feed.ad" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">AD</span></code> 型 Feed 专属属性，表示广告内容。</p>
<p>因为应该没什么人用，所以直接返回了 JSON 内容的 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a> 封装</p>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/live"></span><div class="section" id="live">
<h5>Live 相关<a class="headerlink" href="#live" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.live"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.live.LiveBadge">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.live.</code><code class="descname">LiveBadge</code><span class="sig-paren">(</span><em>lbid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/live.html#LiveBadge"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveBadge" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveBadge.avatar_url">
<code class="descname">avatar_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveBadge.avatar_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveBadge.name">
<code class="descname">name</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveBadge.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.live.LiveTag">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.live.</code><code class="descname">LiveTag</code><span class="sig-paren">(</span><em>ltid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/live.html#LiveTag"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.available_count">
<code class="descname">available_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.available_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.created_at">
<code class="descname">created_at</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.created_at" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.live_count">
<code class="descname">live_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.live_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.name">
<code class="descname">name</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.score">
<code class="descname">score</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.score" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.lives_ongoing">
<code class="descname">lives_ongoing</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.lives_ongoing" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.lives_ended">
<code class="descname">lives_ended</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.lives_ended" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTag.lives">
<code class="descname">lives</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTag.lives" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.live.LiveTicket">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.live.</code><code class="descname">LiveTicket</code><span class="sig-paren">(</span><em>product_id</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/live.html#LiveTicket"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTicket.ID_FIELD_NAME">
<code class="descname">ID_FIELD_NAME</code><em class="property"> = 'product_id'</em><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket.ID_FIELD_NAME" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTicket.badge">
<code class="descname">badge</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket.badge" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTicket.id">
<code class="descname">id</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket.id" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTicket.price">
<code class="descname">price</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket.price" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.LiveTicket.price_unit">
<code class="descname">price_unit</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.LiveTicket.price_unit" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.live.Live">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.live.</code><code class="descname">Live</code><span class="sig-paren">(</span><em>lid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/live.html#Live"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.alert">
<code class="descname">alert</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.alert" title="永久链接至目标">¶</a></dt>
<dd><p>提示语，就是客户端里显示为淡蓝色背景的那一块文字。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.can_speak">
<code class="descname">can_speak</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.can_speak" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.created_at">
<code class="descname">created_at</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.created_at" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.description">
<code class="descname">description</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.description" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.ends_at">
<code class="descname">ends_at</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.ends_at" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.ends_in">
<code class="descname">ends_in</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.ends_in" title="永久链接至目标">¶</a></dt>
<dd><p>正数表示还剩多久结束，0 应该表示已经结束了，如果是负数表示…………表示啥呢？</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.fee">
<code class="descname">fee</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.fee" title="永久链接至目标">¶</a></dt>
<dd><p>费用（一般这是最低票价），不过数值是 x 100 的，比如 999 表示 9.99</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.fee_unit">
<code class="descname">fee_unit</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.fee_unit" title="永久链接至目标">¶</a></dt>
<dd><p>费用的单位，一般就是 RMB 吧…………</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.feedback_score">
<code class="descname">feedback_score</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.feedback_score" title="永久链接至目标">¶</a></dt>
<dd><p>反馈评分，应该是 0 - 5 吧。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.has_feedback">
<code class="descname">has_feedback</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.has_feedback" title="永久链接至目标">¶</a></dt>
<dd><p>是否有反馈？</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.is_admin">
<code class="descname">is_admin</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.is_admin" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.in_promotion">
<code class="descname">in_promotion</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.in_promotion" title="永久链接至目标">¶</a></dt>
<dd><p>是否处于促销中</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.is_muted">
<code class="descname">is_muted</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.is_muted" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.liked">
<code class="descname">liked</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.liked" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.liked_count">
<code class="descname">liked_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.liked_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.liked_num">
<code class="descname">liked_num</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.liked_num" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.note">
<code class="descname">note</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.note" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.purchasable">
<code class="descname">purchasable</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.purchasable" title="永久链接至目标">¶</a></dt>
<dd><p>可否购买？</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.role">
<code class="descname">role</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.role" title="永久链接至目标">¶</a></dt>
<dd><p>返回一个字符串，表示于 Live 的关系。</p>
<p>&#8216;visitor&#8217; 表示未参与 Live。</p>
<p>‘audience’ 表示参与了 Live，作为观众。</p>
<p>&#8216;&lt;一个我不知道的值&gt;&#8217; 表示是组织者，因为我没开过 Live，所以不知道是什么值。</p>
<p>&#8216;&lt;另一个我不知道的值&gt;&#8217; 表示是协作者，我也没协助过别人，所以也不知道 =。=</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.seat">
<code class="descname">seat</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.seat" title="永久链接至目标">¶</a></dt>
<dd><p>Live 参与情况</p>
<p>常见返回值：</p>
<p>做了两个 shortcut 属性 <cite>:any:`seat_max</cite> 和 <a class="reference internal" href="#zhihu_oauth.zhcls.live.Live.seat_taken" title="zhihu_oauth.zhcls.live.Live.seat_taken"><code class="xref any py py-attr docutils literal"><span class="pre">seat_taken</span></code></a>， 可以直接使用。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.seat_max">
<code class="descname">seat_max</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.seat_max" title="永久链接至目标">¶</a></dt>
<dd><p>最大参与人数，其实是从 <a class="reference internal" href="#zhihu_oauth.zhcls.live.Live.seat" title="zhihu_oauth.zhcls.live.Live.seat"><code class="xref any py py-attr docutils literal"><span class="pre">seat</span></code></a> 属性里取的。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.seat_taken">
<code class="descname">seat_taken</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.seat_taken" title="永久链接至目标">¶</a></dt>
<dd><p>已参与人数，其实是从 <a class="reference internal" href="#zhihu_oauth.zhcls.live.Live.seat" title="zhihu_oauth.zhcls.live.Live.seat"><code class="xref any py py-attr docutils literal"><span class="pre">seat</span></code></a> 属性里取的。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.speaker">
<code class="descname">speaker</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.speaker" title="永久链接至目标">¶</a></dt>
<dd><p>演讲者，<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 对象。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.starts_at">
<code class="descname">starts_at</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.starts_at" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.subject">
<code class="descname">subject</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.subject" title="永久链接至目标">¶</a></dt>
<dd><p>Live 的主题，其实就是标题，所以有同功能的属性 <a class="reference internal" href="#zhihu_oauth.zhcls.live.Live.title" title="zhihu_oauth.zhcls.live.Live.title"><code class="xref any py py-attr docutils literal"><span class="pre">Live.title</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.title" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.zhcls.live.Live.subject" title="zhihu_oauth.zhcls.live.Live.subject"><code class="xref any py py-attr docutils literal"><span class="pre">subject</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.cospeakers">
<code class="descname">cospeakers</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.cospeakers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.participants">
<code class="descname">participants</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.participants" title="永久链接至目标">¶</a></dt>
<dd><p>参与 Live 的人，这个生成器用法比较奇特，请看下面的例子：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">live</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">live</span><span class="p">(</span><span class="mi">789426202925346816</span><span class="p">)</span>

<span class="k">for</span> <span class="n">role</span><span class="p">,</span> <span class="n">badge</span><span class="p">,</span> <span class="n">people</span> <span class="ow">in</span> <span class="n">live</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="n">badge</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">people</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>其中 role 为 &#8216;audience&#8217; 表示观众，除了这个值暂时没发现别的取值。</p>
<p>badge 为一个 <a class="reference internal" href="#zhihu_oauth.zhcls.live.LiveBadge" title="zhihu_oauth.zhcls.live.LiveBadge"><code class="xref any py py-class docutils literal"><span class="pre">LiveBadge</span></code></a> 对象，一般能用到的也就 id 和 name 属性。</p>
<p>第三个 people 就是标准的 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 对象了。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.related">
<code class="descname">related</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.related" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.tags">
<code class="descname">tags</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.tags" title="永久链接至目标">¶</a></dt>
<dd><p>返回 <a class="reference internal" href="#zhihu_oauth.zhcls.live.LiveTag" title="zhihu_oauth.zhcls.live.LiveTag"><code class="xref any py py-class docutils literal"><span class="pre">LiveTag</span></code></a> 对象的生成器，但目前看来应该每个 Live 只有一个 Tag。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.live.Live.tickets">
<code class="descname">tickets</code><a class="headerlink" href="#zhihu_oauth.zhcls.live.Live.tickets" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">此接口无法用于当前登录用户已参与的 Live。当强行调用时，
此函数将产生一个警告并且不会有任何返回。</p>
</div>
<p>正常情况下返回的是 <a class="reference internal" href="#zhihu_oauth.zhcls.live.LiveTicket" title="zhihu_oauth.zhcls.live.LiveTicket"><code class="xref any py py-class docutils literal"><span class="pre">LiveTicket</span></code></a> 对象的生成器。</p>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/me"></span><div class="section" id="me">
<h5>Me - 当前用户<a class="headerlink" href="#me" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.me"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.me.Me">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.me.</code><code class="descname">Me</code><span class="sig-paren">(</span><em>pid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>pid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 的子类，表示当前登录的用户。
除了提供用户的基本信息外，还提供各种用户操作
（点赞，评论，收藏，私信、删除等）。</p>
<img src="_images/inheritance-1c721dde759ff59897a1e05f5878edcb734a214c.png" alt="Inheritance diagram of Me" usemap="#inheritanceabd2974cec" class="inheritance"/>
<map id="inheritanceabd2974cec" name="inheritanceabd2974cec">
<area shape="rect" id="node1" href="index.html#zhihu_oauth.zhcls.base.Base" target="_top" title="zhihu_oauth.zhcls.base.Base" alt="" coords="17,5,224,31"/>
<area shape="rect" id="node3" href="index.html#zhihu_oauth.zhcls.people.People" target="_top" title="zhihu_oauth.zhcls.people.People" alt="" coords="5,79,236,104"/>
<area shape="rect" id="node2" href="#zhihu_oauth.zhcls.me.Me" target="_top" title="zhihu_oauth.zhcls.me.Me" alt="" coords="29,152,213,177"/>
</map>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">People</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.created_at">
<code class="descname">created_at</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.created_at" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.draft_count">
<code class="descname">draft_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.draft_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.email">
<code class="descname">email</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.email" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.friendly_score">
<code class="descname">friendly_score</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.friendly_score" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.has_daily_recommend_permission">
<code class="descname">has_daily_recommend_permission</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.has_daily_recommend_permission" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.is_active">
<code class="descname">is_active</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.is_active" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.is_baned">
<code class="descname">is_baned</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.is_baned" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.is_force_renamed">
<code class="descname">is_force_renamed</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.is_force_renamed" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.is_locked">
<code class="descname">is_locked</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.is_locked" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.is_moments_user">
<code class="descname">is_moments_user</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.is_moments_user" title="永久链接至目标">¶</a></dt>
<dd><p>不知道是啥。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.phone_no">
<code class="descname">phone_no</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.phone_no" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.uid">
<code class="descname">uid</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.uid" title="永久链接至目标">¶</a></dt>
<dd><p>没什么用的东西。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.feeds">
<code class="descname">feeds</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.feeds" title="永久链接至目标">¶</a></dt>
<dd><p>用户信息流，参见 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.feed.Feed" title="zhihu_oauth.zhcls.feed.Feed"><code class="xref any py py-class docutils literal"><span class="pre">Feed</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.following_collections">
<code class="descname">following_collections</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.following_collections" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>注意</p>
<p>这一方法是 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me" title="zhihu_oauth.zhcls.me.Me"><code class="xref any py py-class docutils literal"><span class="pre">Me</span></code></a> 类独有的，其父类 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 类没有此方法。</p>
<p class="last">根本原因是知乎并不允许获取除自己（登录用户）以外用户关注的收藏夹，
至于为什么，我哪知道呀 QAQ</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.me.Me.whispers">
<code class="descname">whispers</code><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.whispers" title="永久链接至目标">¶</a></dt>
<dd><p>私信列表</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.vote">
<code class="descname">vote</code><span class="sig-paren">(</span><em>what</em>, <em>op='up'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.vote"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.vote" title="永久链接至目标">¶</a></dt>
<dd><p>投票操作。也就是赞同，反对，或者清除（取消赞同和反对）。</p>
<p>操作对象可以是答案，文章，分享和评论。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>what</strong> &#8211; 要点赞的对象，可以是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 或 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a>
或 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.comment.Comment" title="zhihu_oauth.zhcls.comment.Comment"><code class="xref any py py-class docutils literal"><span class="pre">Comment</span></code></a> 或 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a> 对象。</li>
<li><strong>op</strong> (<em>str|unicode</em>) &#8211; 对于答案可取值 &#8216;up&#8217;, &#8216;down&#8217;, &#8216;clear&#8217;，
分别表示赞同、反对和清除。
对于文章，评论和分享，只能取 &#8216;up&#8217; 和 &#8216;clear&#8217;。默认值是 &#8216;up&#8217;。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">表示结果的二元组，第一项表示是否成功，第二项表示原因。</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first">(bool, str)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref any py py-exc docutils literal"><span class="pre">UnexpectedResponseException</span></code></a>
当服务器回复和预期不符，不知道是否成功时。</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.thanks">
<code class="descname">thanks</code><span class="sig-paren">(</span><em>answer</em>, <em>thanks=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.thanks"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.thanks" title="永久链接至目标">¶</a></dt>
<dd><p>感谢或者取消感谢答案。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>answer</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><em>Answer</em></a>) &#8211; 要感谢的答案</li>
<li><strong>thanks</strong> (<em>bool</em>) &#8211; 如果是想取消感谢，请设置为 False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.unhelpful">
<code class="descname">unhelpful</code><span class="sig-paren">(</span><em>answer</em>, <em>unhelpful=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.unhelpful"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.unhelpful" title="永久链接至目标">¶</a></dt>
<dd><p>给答案点没有帮助，或者取消没有帮助。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>answer</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><em>Answer</em></a>) &#8211; 要操作的答案</li>
<li><strong>unhelpful</strong> (<em>bool</em>) &#8211; 如果是想撤销没有帮助，请设置为 False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.follow">
<code class="descname">follow</code><span class="sig-paren">(</span><em>what</em>, <em>follow=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.follow"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.follow" title="永久链接至目标">¶</a></dt>
<dd><p>关注或者取消关注问题/话题/用户/专栏/收藏夹/Live。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>what</strong> &#8211; 操作对象</li>
<li><strong>follow</strong> (<em>bool</em>) &#8211; 要取消关注的话把这个设置成 False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.block">
<code class="descname">block</code><span class="sig-paren">(</span><em>what</em>, <em>block=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.block"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.block" title="永久链接至目标">¶</a></dt>
<dd><p>屏蔽用户</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>what</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><em>People</em></a>) &#8211; 操作对象，用户</li>
<li><strong>block</strong> (<em>bool</em>) &#8211; 如果要取消屏蔽请设置为 False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>what</em>, <em>collection</em>, <em>collect=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.collect"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.collect" title="永久链接至目标">¶</a></dt>
<dd><p>收藏答案/文章进收藏夹。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">就算你提供的是别人的收藏夹也会返回成功……但是操作其实是无效的</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>what</strong> (<em>Answer|Article</em>) &#8211; 要收藏的答案</li>
<li><strong>collection</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><em>Collection</em></a>) &#8211; 要加入哪个收藏夹</li>
<li><strong>collect</strong> (<em>bool</em>) &#8211; 如果想要取消收藏请设置为 False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.message">
<code class="descname">message</code><span class="sig-paren">(</span><em>who</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.message"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.message" title="永久链接至目标">¶</a></dt>
<dd><p>发送私信。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>who</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><em>People</em></a>) &#8211; 接收者</li>
<li><strong>content</strong> (<em>str|unicode</em>) &#8211; 私信内容</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.comment">
<code class="descname">comment</code><span class="sig-paren">(</span><em>what</em>, <em>content</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.comment"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.comment" title="永久链接至目标">¶</a></dt>
<dd><p>向答案，文章，问题，收藏夹，Pin 发送评论</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>奇怪</p>
<p>让我很诧异的是，就算「想要回复的评论」不属于「想要评论的主体」，
知乎的 API 也会返回执行成功。而且经过测试，这条回复真的有效，
会出现在评论主体的评论列表里。暂时不知道被评论用户的会不会收到消息。</p>
<p class="last">另外，莫名其妙的还可以回复自己的评论……</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>what</strong> &#8211; 向哪里发送评论，可以是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a>
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><code class="xref any py py-class docutils literal"><span class="pre">Collection</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></li>
<li><strong>content</strong> (<em>str|unicode</em>) &#8211; 评论内容</li>
<li><strong>parent</strong> (<a class="reference internal" href="index.html#zhihu_oauth.zhcls.comment.Comment" title="zhihu_oauth.zhcls.comment.Comment"><em>Comment</em></a>) &#8211; 想要回复的评论，默认值为 None，则为正常的添加评论</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.me.Me.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/me.html#Me.delete"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.me.Me.delete" title="永久链接至目标">¶</a></dt>
<dd><p>删除……一些东西，目前可以删除答案，评论，收藏夹，文章，Pin。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">返回值和可能的异常同 <a class="reference internal" href="#zhihu_oauth.zhcls.me.Me.vote" title="zhihu_oauth.zhcls.me.Me.vote"><code class="xref any py py-meth docutils literal"><span class="pre">vote</span></code></a> 方法</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">请注意，本方法没有经过完整的测试，加上删除操作不可撤销，
所以使用时请谨慎。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>what</strong> &#8211; 要删除的对象，可以是 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.comment.Comment" title="zhihu_oauth.zhcls.comment.Comment"><code class="xref any py py-class docutils literal"><span class="pre">Comment</span></code></a>,
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.collection.Collection" title="zhihu_oauth.zhcls.collection.Collection"><code class="xref any py py-class docutils literal"><span class="pre">Collection</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.article.Article" title="zhihu_oauth.zhcls.article.Article"><code class="xref any py py-class docutils literal"><span class="pre">Article</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/people"></span><div class="section" id="people">
<h5>People - 用户<a class="headerlink" href="#people" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<div class="topic">
<p class="topic-title first">关于用户关注的收藏夹</p>
<p>由于知乎的 API 不允许获取其他用户关注的专栏（APP 上也没法查看到），所以暂时将
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me.following_collections" title="zhihu_oauth.zhcls.me.Me.following_collections"><code class="xref any py py-attr docutils literal"><span class="pre">following_collections</span></code></a> 移动到了 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.me.Me" title="zhihu_oauth.zhcls.me.Me"><code class="xref any py py-class docutils literal"><span class="pre">Me</span></code></a> 类中。</p>
</div>
<dl class="class">
<dt id="zhihu_oauth.zhcls.people.People">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.people.</code><code class="descname">People</code><span class="sig-paren">(</span><em>pid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/people.html#People"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.people.People" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.over">
<code class="descname">over</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.over" title="永久链接至目标">¶</a></dt>
<dd><p>尝试获取用户信息，如果出错返回 True，没出错返回 False。</p>
<p>一般来说出错的情况只有「被知乎反屏蔽系统限制」……所以这函数起名叫 over =。=</p>
<p>调用结果如果是 True，则可使用 <a class="reference internal" href="#zhihu_oauth.zhcls.people.People.over_reason" title="zhihu_oauth.zhcls.people.People.over_reason"><code class="xref any py py-attr docutils literal"><span class="pre">over_reason</span></code></a> 函数获取原因。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>例子</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">follower</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">followers</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">follower</span><span class="o">.</span><span class="n">over</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">follower</span><span class="o">.</span><span class="n">over_reason</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="k">print</span><span class="p">(</span><span class="n">follower</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># ... process follower data</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>也可以不用此函数，用 <code class="docutils literal"><span class="pre">try...catch</span></code> 来处理也行</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zhihu_oauth</span> <span class="kn">import</span> <span class="n">ZhihuClient</span><span class="p">,</span> <span class="n">GetDataErrorException</span>

<span class="k">for</span> <span class="n">follower</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">followers</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># get and process user data</span>
    <span class="k">except</span> <span class="n">GetDataErrorException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Get data error&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">是否被限制</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.over_reason">
<code class="descname">over_reason</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.over_reason" title="永久链接至目标">¶</a></dt>
<dd><p>获取无法得到用户信息的原因。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">此方法只能在 <a class="reference internal" href="#zhihu_oauth.zhcls.people.People.over" title="zhihu_oauth.zhcls.people.People.over"><code class="xref any py py-attr docutils literal"><span class="pre">over</span></code></a> 方法调用结果为 True 之后才能调用。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.answer_count">
<code class="descname">answer_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.answer_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.article_count">
<code class="descname">article_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.article_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.articles_count">
<code class="descname">articles_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.articles_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.avatar_url">
<code class="descname">avatar_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.avatar_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.badge">
<code class="descname">badge</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.badge" title="永久链接至目标">¶</a></dt>
<dd><p>用户的徽章信息，获取到的是 <a class="reference internal" href="#zhihu_oauth.zhcls.people.Badge" title="zhihu_oauth.zhcls.people.Badge"><code class="xref any py py-class docutils literal"><span class="pre">Badge</span></code></a> 对象，使用方法请看 <a class="reference internal" href="#zhihu_oauth.zhcls.people.Badge" title="zhihu_oauth.zhcls.people.Badge"><code class="xref any py py-class docutils literal"><span class="pre">Badge</span></code></a> 类的文档。</p>
<p>目前包括「个人认证」，「话题优秀回答者」，「已认证机构」三种，
我也不知道有没有更多的呀，如果发现这个功能有 Bug 或者还有更多类型的徽章，
请到 Github 里提 Issue 或者直接联系我。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.Badge" title="zhihu_oauth.zhcls.people.Badge">Badge</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.cached_badge">
<code class="descname">cached_badge</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.cached_badge" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.business">
<code class="descname">business</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.business" title="永久链接至目标">¶</a></dt>
<dd><p>用户所在行业。</p>
<p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;19619368&#39;</span><span class="p">,</span>
    <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/19619368&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
    <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic1.zhimg.com/e82bab09c_s.jpg&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;计算机软件&#39;</span><span class="p">,</span>
    <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>使用属性时必须先判断是否有效，如</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;people.business:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">business</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.collected_count">
<code class="descname">collected_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.collected_count" title="永久链接至目标">¶</a></dt>
<dd><p>被收藏次数。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.collection_count">
<code class="descname">collection_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.collection_count" title="永久链接至目标">¶</a></dt>
<dd><p>收藏夹数量。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.column_count">
<code class="descname">column_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.column_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.columns_count">
<code class="descname">columns_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.columns_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.description">
<code class="descname">description</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.description" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.educations">
<code class="descname">educations</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.educations" title="永久链接至目标">¶</a></dt>
<dd><p>教育信息。</p>
<p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;major&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;计算机专业。&lt;br&gt;大众认为会是唯一会“修电脑”的专业。&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;19639658&#39;</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/19639658&#39;</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
            <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic2.zhimg.com/7e2fe4615_s.jpg&#39;</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;计算机科学与技术&#39;</span><span class="p">,</span>
            <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;计算机专业。大众认为会是唯一会“修电脑”的专业。&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s1">&#39;school&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;1234567&#39;</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/1234567&#39;</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
            <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic4.zhimg.com/8e6y3xd47_s.jpg&#39;</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;XX 大学&#39;</span><span class="p">,</span>
            <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>使用属性时必须先判断存不存在，如:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">education</span> <span class="ow">in</span> <span class="n">people</span><span class="o">.</span><span class="n">educations</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;school&#39;</span> <span class="ow">in</span> <span class="n">education</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="n">education</span><span class="o">.</span><span class="n">school</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="s1">&#39;major&#39;</span> <span class="ow">in</span> <span class="n">education</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="n">education</span><span class="o">.</span><span class="n">major</span><span class="o">.</span><span class="n">name</span><span class="s1">&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.employments">
<code class="descname">employments</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.employments" title="永久链接至目标">¶</a></dt>
<dd><p>职业信息。</p>
<p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/19551336&#39;</span><span class="p">,</span>
            <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic3.zhimg.com/4eac47b76_s.jpg&#39;</span><span class="p">,</span>
            <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;测试&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;19551336&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s1">&#39;company&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic1.zhimg.com/e82bab09c_s.jpg&#39;</span><span class="p">,</span>
            <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Gayhub&#39;</span><span class="p">,</span>
            <span class="s1">&#39;experience &#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">],</span>
</pre></div>
</div>
<p>使用属性时必须先判断存不存在，如:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">employment</span> <span class="ow">in</span> <span class="n">people</span><span class="o">.</span><span class="n">employments</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;company&#39;</span> <span class="ow">in</span> <span class="n">employment</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="n">employment</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="s1">&#39;job&#39;</span> <span class="ow">in</span> <span class="n">employment</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="n">employment</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="s1">&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.favorite_count">
<code class="descname">favorite_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.favorite_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.favorited_count">
<code class="descname">favorited_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.favorited_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.follower_count">
<code class="descname">follower_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.follower_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_column_count">
<code class="descname">following_column_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_column_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_count">
<code class="descname">following_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_question_count">
<code class="descname">following_question_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_question_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_topic_count">
<code class="descname">following_topic_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_topic_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.gender">
<code class="descname">gender</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.gender" title="永久链接至目标">¶</a></dt>
<dd><p>性别。</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">值(int)</th>
<th class="head">说明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>女</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>男</td>
</tr>
<tr class="row-even"><td>-1</td>
<td>未填</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>关于未填性别</p>
<p>目前版本的知乎 API 貌似未填性别的用户这个值也会变成 1</p>
<p class="last">已经向知乎反馈了 Bug，但是不知道什么时候才会修。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.headline">
<code class="descname">headline</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.headline" title="永久链接至目标">¶</a></dt>
<dd><p>就是那个显示在名字后面的，和签名类似的东西。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.hosted_live_count">
<code class="descname">hosted_live_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.hosted_live_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.independent_articles_count">
<code class="descname">independent_articles_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.independent_articles_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.is_bind_sina">
<code class="descname">is_bind_sina</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.is_bind_sina" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.is_blocking">
<code class="descname">is_blocking</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.is_blocking" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.is_follower">
<code class="descname">is_follower</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.is_follower" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">此人是否关注当前登录用户。对于当前登录用户值为 False。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.is_following">
<code class="descname">is_following</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.is_following" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">当前登录用户是否已关注此人。对于当前登录用户值为 False。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.live_count">
<code class="descname">live_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.live_count" title="永久链接至目标">¶</a></dt>
<dd><p>包括参与的和组织的 Live。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.locations">
<code class="descname">locations</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.locations" title="永久链接至目标">¶</a></dt>
<dd><p>常见返回值。</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;introduction&#39;</span><span class="p">:</span> <span class="s1">&#39;天津，简称津，地处华北平原，balabala,</span>
        <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/topics/19577238&#39;</span><span class="p">,</span>
        <span class="s1">&#39;avatar_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://pic4.zhimg.com/acad405e7_s.jpg&#39;</span><span class="p">,</span>
        <span class="s1">&#39;excerpt&#39;</span><span class="p">:</span> <span class="s1">&#39;天津，简称津，地处华北平原 balabalabala&#39;</span><span class="p">,</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;topic&#39;</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;天津&#39;</span><span class="p">,</span>
        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;19577238&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">],</span>
</pre></div>
</div>
<p>使用属性时基本不用判断存不存在，如:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">people</span><span class="o">.</span><span class="n">locations</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">+=</span> <span class="n">location</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.name">
<code class="descname">name</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.participated_live_count">
<code class="descname">participated_live_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.participated_live_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.pin_count">
<code class="descname">pin_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.pin_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.question_count">
<code class="descname">question_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.question_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.shared_count">
<code class="descname">shared_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.shared_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.sina_weibo_name">
<code class="descname">sina_weibo_name</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.sina_weibo_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.sina_weibo_url">
<code class="descname">sina_weibo_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.sina_weibo_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.thanked_count">
<code class="descname">thanked_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.thanked_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.voteup_count">
<code class="descname">voteup_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.voteup_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.activities">
<code class="descname">activities</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.activities" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.answers">
<code class="descname">answers</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.answers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.articles">
<code class="descname">articles</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.articles" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.collections">
<code class="descname">collections</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.collections" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.columns">
<code class="descname">columns</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.columns" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.followers">
<code class="descname">followers</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.followers" title="永久链接至目标">¶</a></dt>
<dd><p>貌似知乎 API 有个限制，只允许获取前 5020 个粉丝，这好烦阿……</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_columns">
<code class="descname">following_columns</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_columns" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_questions">
<code class="descname">following_questions</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_questions" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.following_topics">
<code class="descname">following_topics</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.following_topics" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.followings">
<code class="descname">followings</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.followings" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.lives">
<code class="descname">lives</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.lives" title="永久链接至目标">¶</a></dt>
<dd><p>举办和参加的 Live</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.liked_lives">
<code class="descname">liked_lives</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.liked_lives" title="永久链接至目标">¶</a></dt>
<dd><p>喜爱的 Live</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">此接口未测试，不保证可用性。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.pins">
<code class="descname">pins</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.pins" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.People.questions">
<code class="descname">questions</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.People.questions" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.people.Badge">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.people.</code><code class="descname">Badge</code><span class="sig-paren">(</span><em>badge</em>, <em>org</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/people.html#Badge"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.IDENTITY">
<code class="descname">IDENTITY</code><em class="property"> = 'identity'</em><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.IDENTITY" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.BEST_ANSWERER">
<code class="descname">BEST_ANSWERER</code><em class="property"> = 'best_answerer'</em><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.BEST_ANSWERER" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.ORGANIZATION">
<code class="descname">ORGANIZATION</code><em class="property"> = 'organization'</em><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.ORGANIZATION" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.has_badge">
<code class="descname">has_badge</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.has_badge" title="永久链接至目标">¶</a></dt>
<dd><p>是否有徽章。</p>
<p>有「个人认证」，「话题最佳回答者」，「已认证机构」 徽章中的**任何一个**就返回 <code class="docutils literal"><span class="pre">True</span></code>。
没有徽章返回 <code class="docutils literal"><span class="pre">False</span></code>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.has_identity">
<code class="descname">has_identity</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.has_identity" title="永久链接至目标">¶</a></dt>
<dd><p>是否有「个人认证」徽章。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.is_best_answerer">
<code class="descname">is_best_answerer</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.is_best_answerer" title="永久链接至目标">¶</a></dt>
<dd><p>是否有「最佳回答者」徽章。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.is_organization">
<code class="descname">is_organization</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.is_organization" title="永久链接至目标">¶</a></dt>
<dd><p>是否为「已认证机构」。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.identity">
<code class="descname">identity</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.identity" title="永久链接至目标">¶</a></dt>
<dd><p>「个人认证」的描述。</p>
<p>如果没有个人认证返回 <code class="docutils literal"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.topics">
<code class="descname">topics</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.topics" title="永久链接至目标">¶</a></dt>
<dd><p>是哪些话题的最佳回答者，返回的是话题的迭代器。</p>
<p>可以这样用：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">people</span><span class="o">.</span><span class="n">badge</span><span class="o">.</span><span class="n">topics</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">topic</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">Iterable[<a class="reference internal" href="index.html#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic">Topic</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.org_name">
<code class="descname">org_name</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.org_name" title="永久链接至目标">¶</a></dt>
<dd><p>认证的机构名称，绝大多数情况是公司名称。</p>
<p>如果不是认证机构返回 <code class="docutils literal"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.org_home_page">
<code class="descname">org_home_page</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.org_home_page" title="永久链接至目标">¶</a></dt>
<dd><p>认证的机构主页。</p>
<p>如果不是认证机构返回 <code class="docutils literal"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.people.Badge.org_industry">
<code class="descname">org_industry</code><a class="headerlink" href="#zhihu_oauth.zhcls.people.Badge.org_industry" title="永久链接至目标">¶</a></dt>
<dd><p>认证的机构所在行业。</p>
<p>如果不是认证机构返回 <code class="docutils literal"><span class="pre">None</span></code>。</p>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/pin"></span><div class="section" id="pin">
<h5>Pin - 分享<a class="headerlink" href="#pin" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<dl class="class">
<dt id="zhihu_oauth.zhcls.pin.Pin">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.pin.</code><code class="descname">Pin</code><span class="sig-paren">(</span><em>pid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/pin.html#Pin"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.author">
<code class="descname">author</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.author" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.comment_count">
<code class="descname">comment_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.comment_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.comment_permission">
<code class="descname">comment_permission</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.comment_permission" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.excerpt_title">
<code class="descname">excerpt_title</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.excerpt_title" title="永久链接至目标">¶</a></dt>
<dd><p>简要标题文字</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.like_count">
<code class="descname">like_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.like_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.contents">
<code class="descname">contents</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.contents" title="永久链接至目标">¶</a></dt>
<dd><p>因为一个分享里含有多个内容，所以 contents 属性是迭代器，需要这样使用：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">someone</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ActType</span><span class="o">.</span><span class="n">LINK_PIN</span><span class="p">):</span>
    <span class="n">pin</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">target</span>
    <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="n">pin</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
        <span class="c1"># do something with pc</span>
</pre></div>
</div>
<p>迭代器返回 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent" title="zhihu_oauth.zhcls.pin.PinContent"><code class="xref any py py-class docutils literal"><span class="pre">PinContent</span></code></a> 类型的对象，具体用法参看
<a class="reference internal" href="#zhihu_oauth.zhcls.pin._pin_content_type_map" title="zhihu_oauth.zhcls.pin._pin_content_type_map"><code class="xref any py py-data docutils literal"><span class="pre">_pin_content_type_map</span></code></a> 和 any:<cite>PinContent</cite>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.content_html">
<code class="descname">content_html</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.content_html" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.comments">
<code class="descname">comments</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.comments" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.Pin.voters">
<code class="descname">voters</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.Pin.voters" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-zhihu_oauth.zhcls.pin"></span><dl class="data">
<dt id="zhihu_oauth.zhcls.pin._pin_content_type_map">
<code class="descclassname">zhihu_oauth.zhcls.pin.</code><code class="descname">_pin_content_type_map</code><em class="property"> = {'link': 'LINK', 'text': 'TEXT', 'quote': 'QUOTE', 'image': 'IMAGE'}</em><a class="headerlink" href="#zhihu_oauth.zhcls.pin._pin_content_type_map" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent" title="zhihu_oauth.zhcls.pin.PinContent"><code class="xref any py py-class docutils literal"><span class="pre">PinContent</span></code></a> 的类型，每种类型能够使用的属性都不一样，具体请看下表：</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="25%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">类型</th>
<th class="head">属性</th>
<th class="head">含义</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>TEXT</td>
<td>text</td>
<td>用户对分享的评论文字</td>
</tr>
<tr class="row-odd"><td rowspan="2">IMAGE</td>
<td>src</td>
<td>图片地址</td>
</tr>
<tr class="row-even"><td>width, height</td>
<td>图片宽高</td>
</tr>
<tr class="row-odd"><td rowspan="3">LINK</td>
<td>title</td>
<td>网页的标题</td>
</tr>
<tr class="row-even"><td>url</td>
<td>网页地址</td>
</tr>
<tr class="row-odd"><td>image_url</td>
<td>网页的 ICON 地址</td>
</tr>
<tr class="row-even"><td>QUOTE</td>
<td>quote</td>
<td>引用的文字</td>
</tr>
<tr class="row-odd"><td rowspan="4">通用</td>
<td>type</td>
<td>类型，可用 is PcType.TEXT 判断</td>
</tr>
<tr class="row-even"><td>subtype</td>
<td>表示内容中包含的知乎对象类型，
参见 <a class="reference internal" href="#zhihu_oauth.zhcls.pin._subtype_zhihu_obj_map" title="zhihu_oauth.zhcls.pin._subtype_zhihu_obj_map"><code class="xref any py py-data docutils literal"><span class="pre">_subtype_zhihu_obj_map</span></code></a></td>
</tr>
<tr class="row-odd"><td>obj</td>
<td>分享内容是知乎相关链接的话
可使用此属性获取到对应知乎类对象</td>
</tr>
<tr class="row-even"><td>content</td>
<td>获取主要的数据
TEXT -&gt; text, LINK -&gt; url
IMAGE -&gt; src, QUOTE -&gt; quote</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.zhcls.pin._subtype_zhihu_obj_map">
<code class="descclassname">zhihu_oauth.zhcls.pin.</code><code class="descname">_subtype_zhihu_obj_map</code><em class="property"> = {'问题': 'QUESTION', '收藏夹': 'COLLECTION', '专栏': 'COLUMN', 'Live': 'LIVE', '个人主页': 'PEOPLE', '文章': 'ARTICLE', 'none': 'NONE', '回答': 'ANSWER', '话题': 'TOPIC'}</em><a class="headerlink" href="#zhihu_oauth.zhcls.pin._subtype_zhihu_obj_map" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent.obj_type" title="zhihu_oauth.zhcls.pin.PinContent.obj_type"><code class="xref any py py-attr docutils literal"><span class="pre">PinContent.obj_type</span></code></a> 的取值枚举。</p>
<p>使用方法大概如下：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">someone</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ActType</span><span class="o">.</span><span class="n">LIKE_PIN</span><span class="p">):</span>
    <span class="n">pin</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">target</span>
    <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">pin</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">obj_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">PCType</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.zhcls.pin._type_content_method_map">
<code class="descclassname">zhihu_oauth.zhcls.pin.</code><code class="descname">_type_content_method_map</code><em class="property"> = {'QUOTE': 'quote', 'TEXT': 'text', 'LINK': 'url', 'IMAGE': 'src'}</em><a class="headerlink" href="#zhihu_oauth.zhcls.pin._type_content_method_map" title="永久链接至目标">¶</a></dt>
<dd><p>从 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent" title="zhihu_oauth.zhcls.pin.PinContent"><code class="xref any py py-class docutils literal"><span class="pre">PinContent</span></code></a> 的类型对应到 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent.content" title="zhihu_oauth.zhcls.pin.PinContent.content"><code class="xref any py py-attr docutils literal"><span class="pre">PinContent.content</span></code></a> 属性需要使用的方法名</p>
</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.pin.PinContent">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.pin.</code><code class="descname">PinContent</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/pin.html#PinContent"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent" title="永久链接至目标">¶</a></dt>
<dd><p>PinContent 是表示分享的内容的类，因为其类型很多，所以单独成类，设计理念和
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.Activity" title="zhihu_oauth.zhcls.activity.Activity"><code class="xref any py py-class docutils literal"><span class="pre">Activity</span></code></a> 类似。</p>
<p>每一个 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.Pin" title="zhihu_oauth.zhcls.pin.Pin"><code class="xref any py py-class docutils literal"><span class="pre">Pin</span></code></a> 可能含有多个 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent" title="zhihu_oauth.zhcls.pin.PinContent"><code class="xref any py py-class docutils literal"><span class="pre">PinContent</span></code></a>，
一般第一个是用户自对自己分享的东西的评论，余下的是 TA 分享的东西。</p>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent" title="zhihu_oauth.zhcls.pin.PinContent"><code class="xref any py py-class docutils literal"><span class="pre">PinContent</span></code></a> 主要有四个类型，具体请看 <a class="reference internal" href="#zhihu_oauth.zhcls.pin._pin_content_type_map" title="zhihu_oauth.zhcls.pin._pin_content_type_map"><code class="xref any py py-data docutils literal"><span class="pre">_pin_content_type_map</span></code></a>。</p>
<p>使用方法如下：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ActType</span><span class="o">.</span><span class="n">LIKE_PIN</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">act</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">content</span><span class="o">.</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">PCType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">content</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">PCType</span><span class="o">.</span><span class="n">QUOTE</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">quote</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">content</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">PCType</span><span class="o">.</span><span class="n">LINK</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">content</span><span class="o">.</span><span class="n">image_url</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">content</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="n">PCType</span><span class="o">.</span><span class="n">IMAGE</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">src</span><span class="p">,</span> <span class="n">content</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">content</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>或者使用 <a class="reference internal" href="#zhihu_oauth.zhcls.pin.PinContent.content" title="zhihu_oauth.zhcls.pin.PinContent.content"><code class="xref any py py-attr docutils literal"><span class="pre">PinContent.content</span></code></a> 获取对于每种类型的主要内容。
参见 <a class="reference internal" href="#zhihu_oauth.zhcls.pin._type_content_method_map" title="zhihu_oauth.zhcls.pin._type_content_method_map"><code class="xref any py py-data docutils literal"><span class="pre">_type_content_method_map</span></code></a></p>
<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.text">
<code class="descname">text</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.text" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.src">
<code class="descname">src</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.src" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.width">
<code class="descname">width</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.width" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.height">
<code class="descname">height</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.height" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.url">
<code class="descname">url</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.image_url">
<code class="descname">image_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.image_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.quote">
<code class="descname">quote</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.quote" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.type">
<code class="descname">type</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.obj_type">
<code class="descname">obj_type</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.obj_type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.content">
<code class="descname">content</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.pin.PinContent.obj">
<code class="descname">obj</code><a class="headerlink" href="#zhihu_oauth.zhcls.pin.PinContent.obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/question"></span><div class="section" id="question">
<h5>Question - 问题<a class="headerlink" href="#question" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.question"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.question.Question">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.question.</code><code class="descname">Question</code><span class="sig-paren">(</span><em>qid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/question.html#Question"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.allow_delete">
<code class="descname">allow_delete</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.allow_delete" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.answer_count">
<code class="descname">answer_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.answer_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.comment_count">
<code class="descname">comment_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.comment_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.excerpt">
<code class="descname">excerpt</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.excerpt" title="永久链接至目标">¶</a></dt>
<dd><p>知乎返回的 json 里这一项叫做 except.... 也是醉了</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.follower_count">
<code class="descname">follower_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.follower_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.detail">
<code class="descname">detail</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.detail" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.redirection">
<code class="descname">redirection</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.redirection" title="永久链接至目标">¶</a></dt>
<dd><p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;to&#39;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/questions/19570036&#39;</span><span class="p">,</span>
        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">19570036</span><span class="p">,</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;question&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;什么是「问题重定向」？如何正确使用该功能解决重复问题？&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;from&#39;</span><span class="p">:</span>
    <span class="p">[</span>
        <span class="p">{</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/questions/19772082&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">19772082</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;question&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;知乎上有重复的问题吗？&#39;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://api.zhihu.com/questions/20830682&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">20830682</span><span class="p">,</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;question&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;各位知友以为同一问题重复出现，知乎应如何应对？&#39;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>在使用 from 属性时遇到语法错误？请看 <a class="reference internal" href="index.html#tips-for-conflict-with-keyword"><span class="std std-ref">说明</span></a></p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.status">
<code class="descname">status</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.status" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.suggest_edit">
<code class="descname">suggest_edit</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.suggest_edit" title="永久链接至目标">¶</a></dt>
<dd><p>常见返回值：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="s1">&#39;, reason&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>

<span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;reason&#39;</span><span class="p">:</span> <span class="s1">&#39;问题表意不明&#39;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.answers">
<code class="descname">answers</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.answers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.comments">
<code class="descname">comments</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.comments" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.followers">
<code class="descname">followers</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.followers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.question.Question.topics">
<code class="descname">topics</code><a class="headerlink" href="#zhihu_oauth.zhcls.question.Question.topics" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span id="document-for-user/zhcls/topic"></span><div class="section" id="topic">
<h5>Topic - 话题<a class="headerlink" href="#topic" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<span class="target" id="module-zhihu_oauth.zhcls.topic"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.topic.Topic">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.topic.</code><code class="descname">Topic</code><span class="sig-paren">(</span><em>tid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/topic.html#Topic"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.avatar_url">
<code class="descname">avatar_url</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.avatar_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.best_answer_count">
<code class="descname">best_answer_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.best_answer_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.best_answers_count">
<code class="descname">best_answers_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.best_answers_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.excerpt">
<code class="descname">excerpt</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.excerpt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.father_count">
<code class="descname">father_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.father_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.follower_count">
<code class="descname">follower_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.follower_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.followers_count">
<code class="descname">followers_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.followers_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.index">
<code class="descname">index</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.index" title="永久链接至目标">¶</a></dt>
<dd><p>话题索引</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.zhcls.topic.TopicIndex" title="zhihu_oauth.zhcls.topic.TopicIndex"><code class="xref any py py-class docutils literal"><span class="pre">TopicIndex</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.introduction">
<code class="descname">introduction</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.introduction" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.name">
<code class="descname">name</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.parent_count">
<code class="descname">parent_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.parent_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.question_count">
<code class="descname">question_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.question_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.questions_count">
<code class="descname">questions_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.questions_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.unanswered_count">
<code class="descname">unanswered_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.unanswered_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.activities">
<code class="descname">activities</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.activities" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a> 和 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 的混合迭代器，使用时注意判断。</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">topic</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">act</span><span class="p">,</span> <span class="n">Answer</span><span class="p">):</span>
        <span class="c1"># pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">act</span><span class="p">,</span> <span class="n">Question</span><span class="p">))</span>
        <span class="c1"># pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.best_answers">
<code class="descname">best_answers</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.best_answers" title="永久链接至目标">¶</a></dt>
<dd><p>精华回答</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.best_answerers">
<code class="descname">best_answerers</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.best_answerers" title="永久链接至目标">¶</a></dt>
<dd><p>好像叫，最佳回答者吧……</p>
<p>best_answerers……知乎真会起名字……</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.children">
<code class="descname">children</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.children" title="永久链接至目标">¶</a></dt>
<dd><p>子话题</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.followers">
<code class="descname">followers</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.followers" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.parents">
<code class="descname">parents</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.parents" title="永久链接至目标">¶</a></dt>
<dd><p>父话题</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.Topic.unanswered_questions">
<code class="descname">unanswered_questions</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.Topic.unanswered_questions" title="永久链接至目标">¶</a></dt>
<dd><p>其实基本上就等于「所有问题」，知乎客户端上的所有问题选项卡就是用的这个接口。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.topic.TopicIndex">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.topic.</code><code class="descname">TopicIndex</code><span class="sig-paren">(</span><em>tiid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/topic.html#TopicIndex"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndex" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.TopicIndex.id">
<code class="descname">id</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndex.id" title="永久链接至目标">¶</a></dt>
<dd><p>没什么用，获取到的其实是对应 Topic 的 ID</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.TopicIndex.sections">
<code class="descname">sections</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndex.sections" title="永久链接至目标">¶</a></dt>
<dd><p>话题索引分为各个部分，这个属性是各个部分的迭代器。</p>
<p>用法示例：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">topic</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">sections</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
    <span class="c1"># Other operator of section</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.zhcls.topic.TopicIndexSection" title="zhihu_oauth.zhcls.topic.TopicIndexSection"><code class="xref any py py-class docutils literal"><span class="pre">TopicIndexSection</span></code></a> 的迭代器</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.TopicIndex.editors">
<code class="descname">editors</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndex.editors" title="永久链接至目标">¶</a></dt>
<dd><div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">people</span> <span class="ow">in</span> <span class="n">topic</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># Other operator of people</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">索引编辑者（<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a> 对象）的迭代器。</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.topic.TopicIndexSection">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.topic.</code><code class="descname">TopicIndexSection</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/topic.html#TopicIndexSection"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndexSection" title="永久链接至目标">¶</a></dt>
<dd><p>自身是一个 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question" title="zhihu_oauth.zhcls.question.Question"><code class="xref any py py-class docutils literal"><span class="pre">Question</span></code></a> 对象的迭代器，附带了 title 属性和另一个相关话题的迭代器。</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">topic</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">sections</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">question</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">section</span><span class="o">.</span><span class="n">related_topics</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">topic</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.TopicIndexSection.title">
<code class="descname">title</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndexSection.title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.topic.TopicIndexSection.related_topics">
<code class="descname">related_topics</code><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndexSection.related_topics" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.zhcls.topic.Topic" title="zhihu_oauth.zhcls.topic.Topic"><code class="xref any py py-class docutils literal"><span class="pre">Topic</span></code></a> 对象的迭代器</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.topic.TopicIndexSection.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zhihu_oauth.zhcls.topic.TopicIndexSection.next" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>话题索引的获取完整例子和输出参见 <a class="reference external" href="https://github.com/7sDream/zhihu-oauth/issues/67#issuecomment-296392977">Issue #67</a> 。</p>
</div>
<span id="document-for-user/zhcls/whisper_and_message"></span><div class="section" id="whisper-message">
<h5>Whisper &amp; Message - 私信会话和私信消息<a class="headerlink" href="#whisper-message" title="永久链接至标题">¶</a></h5>
<div class="topic">
<p class="topic-title first">注意</p>
<p>请先查看 <a class="reference internal" href="index.html#document-for-user/zhcls/intro"><span class="doc">说明</span></a> 了解一下知乎相关类的文档的阅读方法。
否则你会看不懂下面的东西的…………</p>
</div>
<div class="section" id="example">
<h6>Example - 用法示例<a class="headerlink" href="#example" title="永久链接至标题">¶</a></h6>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># 省略登录步骤</span>

<span class="n">me</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>

<span class="k">for</span> <span class="n">whisper</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">whispers</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Whisper with&quot;</span><span class="p">,</span> <span class="n">whisper</span><span class="o">.</span><span class="n">who</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Allow_reply&#39;</span><span class="p">,</span> <span class="n">whisper</span><span class="o">.</span><span class="n">allow_reply</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Unread count&#39;</span><span class="p">,</span> <span class="n">whisper</span><span class="o">.</span><span class="n">unread_count</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Updated time&#39;</span><span class="p">,</span> <span class="n">whisper</span><span class="o">.</span><span class="n">updated_time</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Snippet&#39;</span><span class="p">,</span> <span class="n">whisper</span><span class="o">.</span><span class="n">snippet</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">whisper</span><span class="o">.</span><span class="n">messages</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;{sender} to {receiver}: {content}&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-zhihu_oauth.zhcls.whisper">
<span id="class-ref"></span><h6>Class Ref - 类文档<a class="headerlink" href="#module-zhihu_oauth.zhcls.whisper" title="永久链接至标题">¶</a></h6>
<dl class="class">
<dt id="zhihu_oauth.zhcls.whisper.Whisper">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.whisper.</code><code class="descname">Whisper</code><span class="sig-paren">(</span><em>wid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/whisper.html#Whisper"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper" title="永久链接至目标">¶</a></dt>
<dd><p>唔，其实就是「和某人的所有消息」。</p>
<p>为这个东西命名我想了半天……最后群里的一个小姐姐说叫 Whisper 吧，我觉得很可以诶~</p>
<p>后来发现知乎接口里把这个叫做 Thread，嗯，不想改，我就是这么任性……</p>
<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.allow_reply">
<code class="descname">allow_reply</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.allow_reply" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.snippet">
<code class="descname">snippet</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.snippet" title="永久链接至目标">¶</a></dt>
<dd><p>最后一次私信的摘要</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.updated_time">
<code class="descname">updated_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.updated_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.unread_count">
<code class="descname">unread_count</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.unread_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.who">
<code class="descname">who</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.who" title="永久链接至目标">¶</a></dt>
<dd><p>参与此私信会话的另一个知乎用户</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.whisper.Whisper.messages">
<code class="descname">messages</code><a class="headerlink" href="#zhihu_oauth.zhcls.whisper.Whisper.messages" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-zhihu_oauth.zhcls.message"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.message.Message">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.message.</code><code class="descname">Message</code><span class="sig-paren">(</span><em>mid</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/message.html#Message"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message" title="永久链接至目标">¶</a></dt>
<dd><dl class="attribute">
<dt id="zhihu_oauth.zhcls.message.Message.created_time">
<code class="descname">created_time</code><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message.created_time" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.message.Message.content">
<code class="descname">content</code><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message.content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.message.Message.sender">
<code class="descname">sender</code><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message.sender" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.message.Message.receiver">
<code class="descname">receiver</code><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message.receiver" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.message.Message.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>template='[{time}] {sender} --&gt; {receiver}: {content}'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/message.html#Message.format"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.message.Message.format" title="永久链接至目标">¶</a></dt>
<dd><p>格式化输出消息</p>
<p><code class="docutils literal"><span class="pre">{time}</span></code> 时间戳；<code class="docutils literal"><span class="pre">{sender}</span></code> 发送者用户名；<code class="docutils literal"><span class="pre">{receiver}</span></code> 接收者用户名；
<code class="docutils literal"><span class="pre">{content}</span></code> 消息内容</p>
<p>用法参见示例。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>template</strong> (<em>str</em>) &#8211; 格式化模板</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">格式化后的字符串</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>
<span id="document-for-user/search"></span><div class="section" id="search">
<h4>Search - 搜索<a class="headerlink" href="#search" title="永久链接至标题">¶</a></h4>
<p>知乎的搜索功能通过 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.search" title="zhihu_oauth.client.ZhihuClient.search"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.search</span></code></a> 方法提供。</p>
<p>目前知乎提供了 6 个搜索方式， <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchType" title="zhihu_oauth.zhcls.search.SearchType"><code class="xref any py py-data docutils literal"><span class="pre">SearchType</span></code></a> 枚举常量表示这六种方式，作为参数传递给 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.search" title="zhihu_oauth.client.ZhihuClient.search"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.search</span></code></a> 方法。</p>
<p>方式与枚举常量对应关系如下：</p>
<span class="target" id="module-zhihu_oauth.zhcls.search"></span><dl class="data">
<dt id="zhihu_oauth.zhcls.search.SearchType">
<code class="descclassname">zhihu_oauth.zhcls.search.</code><code class="descname">SearchType</code><em class="property"> = SimpleEnum({'LIVE', 'GENERAL', 'COLUMN', 'PEOPLE', 'TOPIC'})</em><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchType" title="永久链接至目标">¶</a></dt>
<dd><table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="21%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">常量名</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GENERAL</td>
<td>综合搜索</td>
<td><ul class="first last simple">
<li>见下备注</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>PEOPLE</td>
<td>搜索用户</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>TOPIC</td>
<td>搜索话题</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>COLUMN</td>
<td>搜索专栏</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>LIVE</td>
<td>搜索 Live</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>EBOOK</td>
<td>搜索电子书</td>
<td>现在电子书类还没写，所以此常量暂时不能使用</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>综合搜索是最复杂的一个，但是只有它能搜索到问题和答案。
一般情况下综合搜索会返回几个除了问题和答案类型之外的 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="zhihu_oauth.zhcls.search.SearchResultSection"><code class="xref any py py-class docutils literal"><span class="pre">SearchResultSection</span></code></a>，
然后返回 Answer，Article，Question 型的 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a>，具体处理方法看后面文档吧。</li>
</ul>
</dd></dl>

<p>搜索的常见用法：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;程序&#39;</span><span class="p">,</span> <span class="n">SearchType</span><span class="o">.</span><span class="n">COLUMN</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;7sDream&#39;</span><span class="p">,</span> <span class="n">SearchType</span><span class="o">.</span><span class="n">PEOPLE</span><span class="p">)</span>
</pre></div>
</div>
<p>除了 <code class="docutils literal"><span class="pre">SearchType.GENERAL</span></code> 方式，其他方式的搜索都会返回 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 对象的迭代器。</p>
<p>可用属性如下：</p>
<dl class="class">
<dt id="zhihu_oauth.zhcls.search.SearchResult">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.search.</code><code class="descname">SearchResult</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResult"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.search.SearchResult.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResult.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.search.SearchResult.highlight_title">
<code class="descname">highlight_title</code><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult.highlight_title" title="永久链接至目标">¶</a></dt>
<dd><p>标题，其中搜索关键词被高亮，是 HTML 格式的字符串，特殊字符被 escape 了，高亮的部分在 &lt;em&gt; 标签之间。
print 出来的话不是很好读……</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.search.SearchResult.highlight_desc">
<code class="descname">highlight_desc</code><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult.highlight_desc" title="永久链接至目标">¶</a></dt>
<dd><p>description，搜索结果的内容。
同 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult.highlight_title" title="zhihu_oauth.zhcls.search.SearchResult.highlight_title"><code class="xref any py py-attr docutils literal"><span class="pre">highlight_title</span></code></a>。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.search.SearchResult.obj">
<code class="descname">obj</code><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult.obj" title="永久链接至目标">¶</a></dt>
<dd><p>搜索结果对应的知乎类对象，可能是各种类型，使用前需要自行判断，</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.search.SearchResult.raw_data">
<code class="descname">raw_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResult.raw_data"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResult.raw_data" title="永久链接至目标">¶</a></dt>
<dd><p>返回搜索结果的原始数据的拷贝，是个 dict。</p>
</dd></dl>

</dd></dl>

<p>所以一般这样用：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;程序&#39;</span><span class="p">,</span> <span class="n">SearchType</span><span class="o">.</span><span class="n">COLUMN</span><span class="p">):</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">obj</span>
    <span class="k">print</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">column</span><span class="o">.</span><span class="n">author</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># do something with `column`</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">程序员实验室</span> <span class="n">Wayne</span> <span class="n">Shi</span>
<span class="n">程序员达达</span> <span class="n">达达</span>
<span class="n">程序人生</span> <span class="n">hi大头鬼hi</span>
<span class="n">程序员的自我修养</span> <span class="n">luckystar</span>
<span class="n">反转程序猿</span> <span class="n">大房</span>
<span class="n">程序员作战手册</span> <span class="n">Jim</span> <span class="n">Jin</span>
<span class="n">红客联盟</span> <span class="n">小食妹</span>
<span class="n">非著名程序员</span> <span class="n">loonggg</span>
</pre></div>
</div>
<p>其他类型的搜索的用法也类似，就不赘述了。</p>
<p>而 <code class="docutils literal"><span class="pre">SearchType.GENERAL</span></code> 方式的搜索也是迭代器，但可能返回 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 和 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="zhihu_oauth.zhcls.search.SearchResultSection"><code class="xref any py py-class docutils literal"><span class="pre">SearchResultSection</span></code></a> 对象。
<a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="zhihu_oauth.zhcls.search.SearchResultSection"><code class="xref any py py-class docutils literal"><span class="pre">SearchResultSection</span></code></a> 对象除了自身有一些属性（见下）之外，本身也是个 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 的迭代器：</p>
<dl class="class">
<dt id="zhihu_oauth.zhcls.search.SearchResultSection">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.search.</code><code class="descname">SearchResultSection</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResultSection"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.search.SearchResultSection.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResultSection.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResultSection.__init__" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="zhihu_oauth.zhcls.search.SearchResultSection"><code class="xref any py py-class docutils literal"><span class="pre">SearchResultSection</span></code></a> 对象是可迭代的，<code class="docutils literal"><span class="pre">for</span> <span class="pre">xxx</span> <span class="pre">in</span> <span class="pre">results</span></code>
一般会生成 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 型数据。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.search.SearchResultSection.type">
<code class="descname">type</code><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResultSection.type" title="永久链接至目标">¶</a></dt>
<dd><p>表示这一 Section 里的 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 的知乎类对象是什么类型。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">str|unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.search.SearchResultSection.has_more">
<code class="descname">has_more</code><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResultSection.has_more" title="永久链接至目标">¶</a></dt>
<dd><p>如果用 type 类型进行搜索，能否得到更多结果。</p>
<p>比如：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;people&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_more</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
<p>那么表示：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">,</span> <span class="n">SearchType</span><span class="o">.</span><span class="n">PEOPLE</span><span class="p">)</span>
</pre></div>
</div>
<p>能获取到此 Section 的更多结果。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.search.SearchResultSection.raw_data">
<code class="descname">raw_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/search.html#SearchResultSection.raw_data"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.search.SearchResultSection.raw_data" title="永久链接至目标">¶</a></dt>
<dd><p>同 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult.raw_data" title="zhihu_oauth.zhcls.search.SearchResult.raw_data"><code class="xref any py py-meth docutils literal"><span class="pre">SearchResult.raw_data</span></code></a></p>
</dd></dl>

</dd></dl>

<p>这样用起来就有点麻烦，你得判断迭代器返回的是那种对象，大概就要这样写：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;panda&quot;</span><span class="p">,</span> <span class="n">search_type</span><span class="o">=</span><span class="n">SearchType</span><span class="o">.</span><span class="n">GENERAL</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">SearchResultSection</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;search result list:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="c1"># do something with r</span>
            <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># result is SearchResult object</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">result</span>
        <span class="c1"># do something with r</span>
        <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">highlight_title</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">highlight_desc</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>结果如下：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>topic search result list:
&lt;zhihu_oauth.zhcls.topic.Topic object at 0x7f19e9c1ce48&gt;
--------------------
column search result list:
&lt;zhihu_oauth.zhcls.column.Column object at 0x7f19e9c1ce48&gt;
--------------------
people search result list:
&lt;zhihu_oauth.zhcls.people.People object at 0x7f19e9c1ce48&gt;
&lt;zhihu_oauth.zhcls.people.People object at 0x7f19e9c1ceb8&gt;
&lt;zhihu_oauth.zhcls.people.People object at 0x7f19e9c1ce80&gt;
--------------------
你有哪些收藏来反复看的&lt;em&gt;大熊猫&lt;/em&gt;（&lt;em&gt;panda&lt;/em&gt;）的图片？ &lt;em&gt;熊猫&lt;/em&gt;&lt;em&gt;panda&lt;/em&gt;的尾巴是白色的白色的白色的,重说三,看到好多&lt;em&gt;熊猫&lt;/em&gt;玩偶都把&lt;em&gt;熊猫&lt;/em&gt;尾巴做成黑色的,就连功夫&lt;em&gt;熊猫&lt;/em&gt;里阿宝的尾巴都是黑色的,我觉得有必要科普一下哦,对了,图片来自ipanda,
&lt;zhihu_oauth.zhcls.answer.Answer object at 0x7f19e9c1cef0&gt;
--------------------
如何评价&lt;em&gt;熊猫&lt;/em&gt;tv狼人杀新节目&lt;em&gt;panda&lt;/em&gt;kill？ 10月22日局更新.就第一集而言个人分析仅供参考.首先十二位玩家一一点评.1号鼠大王:比上一季进步了,当民的时候站边,发言都阳光了很多,没有被抗推就是不错的进步,但是当狼的时候依然会紧张状态不稳,第三
&lt;zhihu_oauth.zhcls.answer.Answer object at 0x7f19e9c1cef0&gt;
--------------------
# ... 未完 ...
</pre></div>
</div>
<p>由于这样写不是很方便，所以提供了 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.search_unfold" title="zhihu_oauth.client.ZhihuClient.search_unfold"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.search_unfold</span></code></a> 方法，他会自动将 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResultSection" title="zhihu_oauth.zhcls.search.SearchResultSection"><code class="xref any py py-class docutils literal"><span class="pre">SearchResultSection</span></code></a> 展开，生成 <a class="reference internal" href="#zhihu_oauth.zhcls.search.SearchResult" title="zhihu_oauth.zhcls.search.SearchResult"><code class="xref any py py-class docutils literal"><span class="pre">SearchResult</span></code></a> 型的对象，用法：</p>
<div class="highlight-Python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">search_unfold</span><span class="p">(</span><span class="s2">&quot;panda&quot;</span><span class="p">):</span>
    <span class="c1"># result is SearchResult object</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">result</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">highlight_title</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">highlight_desc</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;zhihu_oauth.zhcls.topic.Topic object at 0x7f6ffa42bf60&gt;
--------------------
我吃掉了一辆奔驰
&lt;zhihu_oauth.zhcls.column.Column object at 0x7f6ffa42bf60&gt;
--------------------

&lt;zhihu_oauth.zhcls.people.People object at 0x7f6ffa42bf60&gt;
--------------------

&lt;zhihu_oauth.zhcls.people.People object at 0x7f6ffa42bf60&gt;
--------------------

&lt;zhihu_oauth.zhcls.people.People object at 0x7f6ffa42bf60&gt;
--------------------
你有哪些收藏来反复看的&lt;em&gt;大熊猫&lt;/em&gt;（&lt;em&gt;panda&lt;/em&gt;）的图片？ &lt;em&gt;熊猫&lt;/em&gt;&lt;em&gt;panda&lt;/em&gt;的尾巴是白色的白色的白色的,重说三,看到好多&lt;em&gt;熊猫&lt;/em&gt;玩偶都把&lt;em&gt;熊猫&lt;/em&gt;尾巴做成黑色的,就连功夫&lt;em&gt;熊猫&lt;/em&gt;里阿宝的尾巴都是黑色的,我觉得有必要科普一下哦,对了,图片来自ipanda,
&lt;zhihu_oauth.zhcls.answer.Answer object at 0x7f6ffa42bf60&gt;
--------------------
如何评价&lt;em&gt;熊猫&lt;/em&gt;tv狼人杀新节目&lt;em&gt;panda&lt;/em&gt;kill？ 10月22日局更新.就第一集而言个人分析仅供参考.首先十二位玩家一一点评.1号鼠大王:比上一季进步了,当民的时候站边,发言都阳光了很多,没有被抗推就是不错的进步,但是当狼的时候依然会紧张状态不稳,第三
&lt;zhihu_oauth.zhcls.answer.Answer object at 0x7f6ffa42bef0&gt;
--------------------
如何评价11.5 &lt;em&gt;panda&lt;/em&gt;kill 各位的表现？ 其实这一期我感觉没有分析的必要,因为这一期总体上就是上一集坏现象进一步恶化后形成的的&amp;quot;进阶版大乱斗&amp;quot;,重复的话我觉得没必要再说了,这里随手放个上一期回答的链接~如何评价10.29 pandakill
&lt;zhihu_oauth.zhcls.answer.Answer object at 0x7f6ffa42bf28&gt;
--------------------
# ... 未完 ... 最前面那些空行是因为 `highlight_title` 和 `highlight_desc` 属性都是空。
</pre></div>
</div>
<p>推荐在综合搜索时使用 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.search_unfold" title="zhihu_oauth.client.ZhihuClient.search_unfold"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.search_unfold</span></code></a> 方法，注意，此方法不支持设置搜索类型，也就是说只支持综合搜索。</p>
</div>
<span id="document-for-user/exception"></span><div class="section" id="exception">
<h4>Exception - 异常<a class="headerlink" href="#exception" title="永久链接至标题">¶</a></h4>
<img src="_images/inheritance-9204dc98fd63f62b4f8c5d15fc0f1640d51c7f90.png" alt="Inheritance diagram of zhihu_oauth.exception" usemap="#inheritance04f141836c" class="inheritance"/>
<map id="inheritance04f141836c" name="inheritance04f141836c">
<area shape="rect" id="node1" href="#zhihu_oauth.exception.CantGetTicketsWarning" target="_top" title="CantGetTicketsWarning" alt="" coords="2,35,79,47"/>
<area shape="rect" id="node2" href="#zhihu_oauth.exception.ZhihuWarning" target="_top" title="ZhihuWarning" alt="" coords="104,2,154,14"/>
<area shape="rect" id="node7" href="#zhihu_oauth.exception.IgnoreErrorDataWarning" target="_top" title="IgnoreErrorDataWarning" alt="" coords="90,35,168,47"/>
<area shape="rect" id="node3" href="#zhihu_oauth.exception.GetDataErrorException" target="_top" title="GetDataErrorException" alt="" coords="281,69,357,80"/>
<area shape="rect" id="node4" href="#zhihu_oauth.exception.UnexpectedResponseException" target="_top" title="UnexpectedResponseException" alt="" coords="269,35,369,47"/>
<area shape="rect" id="node5" href="#zhihu_oauth.exception.IdMustBeIntException" target="_top" title="IdMustBeIntException" alt="" coords="380,35,451,47"/>
<area shape="rect" id="node6" href="#zhihu_oauth.exception.ZhihuException" target="_top" title="ZhihuException" alt="" coords="515,2,570,14"/>
<area shape="rect" id="node8" href="#zhihu_oauth.exception.NeedCaptchaException" target="_top" title="NeedCaptchaException" alt="" coords="463,35,540,47"/>
<area shape="rect" id="node9" href="#zhihu_oauth.exception.NeedLoginException" target="_top" title="NeedLoginException" alt="" coords="550,35,619,47"/>
<area shape="rect" id="node11" href="#zhihu_oauth.exception.UnimplementedException" target="_top" title="UnimplementedException" alt="" coords="681,35,766,47"/>
</map>
<span class="target" id="module-zhihu_oauth.exception"></span><dl class="attribute">
<dt id="zhihu_oauth.exception.MyJSONDecodeError">
<code class="descclassname">zhihu_oauth.exception.</code><code class="descname">MyJSONDecodeError</code><a class="headerlink" href="#zhihu_oauth.exception.MyJSONDecodeError" title="永久链接至目标">¶</a></dt>
<dd><p>在 Py3 下是 json.JSONDecodeError。</p>
<p>在 Py2 下是 BaseException，因为 Py2 的 json 模块没有提供解析异常。</p>
<p><code class="xref py py-class docutils literal"><span class="pre">JSONDecodeError</span></code> 的别名</p>
</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.ZhihuException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">ZhihuException</code><a class="reference internal" href="_modules/zhihu_oauth/exception.html#ZhihuException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.ZhihuException" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.UnexpectedResponseException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">UnexpectedResponseException</code><span class="sig-paren">(</span><em>url</em>, <em>res</em>, <em>expect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#UnexpectedResponseException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.UnexpectedResponseException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.UnexpectedResponseException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>res</em>, <em>expect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#UnexpectedResponseException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.UnexpectedResponseException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>服务器回复了和预期格式不符的数据</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> (<em>str|unicode</em>) &#8211; 当前尝试访问的网址</li>
<li><strong>res</strong> (<em>request.Response</em>) &#8211; 服务器的回复</li>
<li><strong>expect</strong> (<em>str|unicode</em>) &#8211; 一个用来说明期望服务器回复的数据格式的字符串</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.UnimplementedException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">UnimplementedException</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#UnimplementedException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.UnimplementedException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.UnimplementedException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#UnimplementedException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.UnimplementedException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>处理当前遇到的情况的代码还未实现，只是开发的时候用于占位</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">一般用户不用管这个异常</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>what</strong> (<em>str|unicode</em>) &#8211; 用来描述当前遇到的情况</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.GetDataErrorException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">GetDataErrorException</code><span class="sig-paren">(</span><em>url</em>, <em>res</em>, <em>expect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#GetDataErrorException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.GetDataErrorException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.GetDataErrorException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>res</em>, <em>expect</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#GetDataErrorException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.GetDataErrorException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref py py-class docutils literal"><span class="pre">UnexpectedResponseException</span></code></a> 的子类，
尝试获取服务器给出的错误信息。如果获取失败则显示父类的出错信息。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref py py-class docutils literal"><span class="pre">UnexpectedResponseException</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.NeedCaptchaException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">NeedCaptchaException</code><a class="reference internal" href="_modules/zhihu_oauth/exception.html#NeedCaptchaException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.NeedCaptchaException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.NeedCaptchaException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#NeedCaptchaException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.NeedCaptchaException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>登录过程需要验证码</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.NeedLoginException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">NeedLoginException</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#NeedLoginException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.NeedLoginException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.NeedLoginException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#NeedLoginException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.NeedLoginException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>使用某方法需要登录而当前客户端未登录</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>what</strong> (<em>str|unicode</em>) &#8211; 当前试图调用的方法名</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.IdMustBeIntException">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">IdMustBeIntException</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#IdMustBeIntException"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.IdMustBeIntException" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.IdMustBeIntException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#IdMustBeIntException.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.IdMustBeIntException.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>获取对应的知乎类时，试图传递不是整数型的 ID</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>func</strong> (<em>function</em>) &#8211; 当前试图调用的方法名</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.ZhihuWarning">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">ZhihuWarning</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#ZhihuWarning"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.ZhihuWarning" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.ZhihuWarning.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#ZhihuWarning.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.ZhihuWarning.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.IgnoreErrorDataWarning">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">IgnoreErrorDataWarning</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#IgnoreErrorDataWarning"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.IgnoreErrorDataWarning" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.IgnoreErrorDataWarning.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#IgnoreErrorDataWarning.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.IgnoreErrorDataWarning.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="zhihu_oauth.exception.CantGetTicketsWarning">
<em class="property">exception </em><code class="descclassname">zhihu_oauth.exception.</code><code class="descname">CantGetTicketsWarning</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#CantGetTicketsWarning"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.CantGetTicketsWarning" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.exception.CantGetTicketsWarning.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/exception.html#CantGetTicketsWarning.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.exception.CantGetTicketsWarning.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span id="document-for-user/helpers"></span><div class="section" id="id1">
<h4>一些辅助函数<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h4>
<div class="section" id="id2">
<h5>生成器护盾（误<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h5>
<p>由于知乎有很多列表型数据，比如用户的关注者，问题的答案，专栏的文章，等等。这些数据在
知乎的 API 里是通过统一的分页逻辑来一段一段的发送的。（详细说明请看：<a class="reference internal" href="index.html#generator"><span class="std std-ref">Paging data process - 多页数据处理</span></a>）</p>
<p>所以在用 <code class="docutils literal"><span class="pre">for...in</span> <span class="pre">loop</span></code> 获取这些数据的时候由于网络或者知乎的原因可能出现异常，
但是因为是生成器，如果你在外部 <code class="docutils literal"><span class="pre">try...catch</span></code> 处理异常的话，就又需要从头开始获取数据了……</p>
<p>所以知乎的分页数据生成器提供了 jump 函数，方便你处理完异常之后跳到上次的地方继续获取数据……（见 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.generator.BaseGenerator.jump" title="zhihu_oauth.zhcls.generator.BaseGenerator.jump"><code class="xref any py py-meth docutils literal"><span class="pre">BaseGenerator.jump</span></code></a>）</p>
<p>但是这样还是很麻烦 =。=，所以我写了个辅助函数 shield 来处理这个问题。</p>
<p>如果下面的说明和例子看不懂的话……点开右边的 <code class="docutils literal"><span class="pre">[源代码]</span></code> 按钮，看看源码你就懂了……</p>
<dl class="function">
<dt id="zhihu_oauth.helpers.shield">
<code class="descclassname">zhihu_oauth.helpers.</code><code class="descname">shield</code><span class="sig-paren">(</span><em>inner</em>, <em>durability=3</em>, <em>start_at=0</em>, <em>action='EXCEPTION'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/helpers.html#shield"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.helpers.shield" title="永久链接至目标">¶</a></dt>
<dd><p>shield 函数用于自动处理知乎的各种生成器
（如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.followers" title="zhihu_oauth.zhcls.people.People.followers"><code class="xref any py py-attr docutils literal"><span class="pre">People.followers</span></code></a>, <a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question.answers" title="zhihu_oauth.zhcls.question.Question.answers"><code class="xref any py py-attr docutils literal"><span class="pre">Question.answers</span></code></a>） 在获取分页数据时出错的情况。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">用户动态的生成器因为获取方式比较特殊，无法被 shield 保护</p>
</div>
<p>用法：</p>
<p>比如我们想获取关注了某个专栏的用户分别关注了哪些话题……</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;zijingnotes&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">shield</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">followers</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">SHIELD_ACTION</span><span class="o">.</span><span class="n">PASS</span><span class="p">):</span>
    <span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Start proc user&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">over</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">over_reason</span><span class="p">)</span>
        <span class="k">continue</span>
    <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">shield</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">following_topics</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Add topic&#39;</span><span class="p">,</span> <span class="n">topic</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">topic</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>

<span class="c1"># output result</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>inner</strong> &#8211; 需要被保护的生成器</li>
<li><strong>durability</strong> (<em>int</em>) &#8211; 耐久度，表示获取同一数据最多连续出错几次</li>
<li><strong>start_at</strong> (<em>int</em>) &#8211; 从第几个数据开始获取</li>
<li><strong>action</strong> &#8211; 当耐久度消耗完后的动作，参见 <a class="reference internal" href="#zhihu_oauth.helpers.SHIELD_ACTION" title="zhihu_oauth.helpers.SHIELD_ACTION"><code class="xref any py py-data docutils literal"><span class="pre">SHIELD_ACTION</span></code></a>，默认动作是抛出异常</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">新的生成器……</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.helpers.SHIELD_ACTION">
<code class="descclassname">zhihu_oauth.helpers.</code><code class="descname">SHIELD_ACTION</code><em class="property"> = SimpleEnum({'PASS', 'STOP', 'EXCEPTION'})</em><a class="headerlink" href="#zhihu_oauth.helpers.SHIELD_ACTION" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id3">
<h5>时间戳转换<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h5>
<dl class="function">
<dt id="zhihu_oauth.helpers.ts2str">
<code class="descclassname">zhihu_oauth.helpers.</code><code class="descname">ts2str</code><span class="sig-paren">(</span><em>ts</em>, <em>fmt=None</em>, <em>offset=8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/helpers.html#ts2str"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.helpers.ts2str" title="永久链接至目标">¶</a></dt>
<dd><p>将时间戳转换为表示时间的字符串。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>ts</strong> (<em>int</em>) &#8211; 精确到秒的 unix timestamp</li>
<li><strong>fmt</strong> &#8211; 格式化文本，默认值 <code class="docutils literal"><span class="pre">%Y-%m-%d</span> <span class="pre">%H:%M:%S</span></code></li>
<li><strong>offset</strong> &#8211; 当前时区偏移，单位小时，默认为 8 小时</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">时间戳转换为时间的字符串表示</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id4">
<h5>用户动态格式化<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h5>
<dl class="data">
<dt id="zhihu_oauth.helpers.act2str">
<code class="descclassname">zhihu_oauth.helpers.</code><code class="descname">act2str</code><em class="property"> = &lt;zhihu_oauth.helpers.ActivityFormatter object&gt;</em><a class="headerlink" href="#zhihu_oauth.helpers.act2str" title="永久链接至目标">¶</a></dt>
<dd><p>一个将 <code class="docutils literal"><span class="pre">xxx.activities</span></code> 返回的 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.Activity" title="zhihu_oauth.zhcls.activity.Activity"><code class="xref any py py-class docutils literal"><span class="pre">Activity</span></code></a> 或 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a>
对象转换为可读的字符串的辅助函数。例子：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">guxizhao</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">people</span><span class="p">(</span><span class="s1">&#39;guxizhao&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">guxizhao</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ts2str</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">created_time</span><span class="p">),</span> <span class="n">act2str</span><span class="p">(</span><span class="n">act</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>结果</p>
<p>2016-12-08 01:18:20 顾惜朝关注了问题
「如何评价美剧《西部世界》（Westworld）第一季第十集（S01E10）?」</p>
<p>2016-12-07 23:18:02 顾惜朝赞同了回答
「如何看待民生银行性骚扰事件？」 by 「meta」</p>
<p>2016-12-07 13:20:32 顾惜朝赞了文章
「冒牌高校教授，正版绝命毒师」</p>
<p>2016-12-07 10:59:43 顾惜朝赞同了回答
「你最喜欢的故事是什么？」 by 「胡不归」</p>
<p>2016-12-07 01:30:51 顾惜朝赞了文章
「专访 | 关于《西部世界》季终集，死过一千次的泰迪这样说」</p>
<p>2016-12-06 20:23:59 顾惜朝赞同了回答
「如何看待知乎上「一知半解」也要强行回答的回答者？」 by 「河森堡」</p>
<p>2016-12-06 01:57:30 顾惜朝关注了收藏夹 「你丫竟然在图片里下毒？！！」
2016-12-05 22:23:25 顾惜朝赞同了回答
「《你的名字。》中彗星碎片撞击地面的影响是否合理？」 by 「Macro kuo」</p>
<p class="last">2016-12-04 00:36:24 顾惜朝赞了文章 「Google Earth: 这才是真·情怀」</p>
</div>
<p>如果想自定义描述模板，请参见 <a class="reference internal" href="#zhihu_oauth.helpers.ActivityFormatter" title="zhihu_oauth.helpers.ActivityFormatter"><code class="xref any py py-class docutils literal"><span class="pre">ActivityFormatter</span></code></a> 类。</p>
</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.helpers.ActivityFormatter">
<em class="property">class </em><code class="descclassname">zhihu_oauth.helpers.</code><code class="descname">ActivityFormatter</code><a class="reference internal" href="_modules/zhihu_oauth/helpers.html#ActivityFormatter"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.helpers.ActivityFormatter" title="永久链接至目标">¶</a></dt>
<dd><p>这是将 Activity 转换为字符串的辅助类，一般情况下不需要使用，直接使用辅助函数
<a class="reference internal" href="#zhihu_oauth.helpers.act2str" title="zhihu_oauth.helpers.act2str"><code class="xref any py py-data docutils literal"><span class="pre">act2str</span></code></a> 即可。</p>
<p>如果你需要自定义格式化模板，请参考下面的用法：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyActivityFormatter</span><span class="p">(</span><span class="n">ActivityFormatter</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_name</span> <span class="o">=</span> <span class="n">user_name</span>

    <span class="k">def</span> <span class="nf">like_pin_formatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">act</span><span class="p">):</span>
        <span class="n">content_summary</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span>
        <span class="k">return</span> <span class="s1">&#39;{i} 赞了 {act.target.author.name} 的分享： {content}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_name</span><span class="p">,</span> <span class="n">act</span><span class="o">=</span><span class="n">act</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">content_summary</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">create_pin_formatter</span> <span class="o">=</span> <span class="s1">&#39;{act.action_text} 一些东西&#39;</span>

<span class="n">guxizhao</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">people</span><span class="p">(</span><span class="s1">&#39;guxizhao&#39;</span><span class="p">)</span>

<span class="n">formatter</span> <span class="o">=</span> <span class="n">MyActivityFormatter</span><span class="p">(</span><span class="n">guxizhao</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">guxizhao</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ts2str</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">created_time</span><span class="p">),</span> <span class="n">formatter</span><span class="p">(</span><span class="n">act</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>执行结果</p>
<p>除了发表分享和对分享点赞这两个类型的 Activity 之外，其他类型的格式化结果均和
<a class="reference internal" href="#zhihu_oauth.helpers.act2str" title="zhihu_oauth.helpers.act2str"><code class="xref any py py-data docutils literal"><span class="pre">act2str</span></code></a> 函数一致。</p>
<p>ActType.LIKE_PIN 类型的会被转换成 <code class="docutils literal"><span class="pre">xxx</span> <span class="pre">赞同了</span> <span class="pre">yyy</span> <span class="pre">的分享：&lt;分享内容的前20字&gt;</span></code></p>
<p class="last">ActType.CREATE_PIN 类型的会被转换成 <code class="docutils literal"><span class="pre">xxx</span> <span class="pre">分享了</span> <span class="pre">一些东西</span></code></p>
</div>
<p>简单来说就是你可以继承 <a class="reference internal" href="#zhihu_oauth.helpers.ActivityFormatter" title="zhihu_oauth.helpers.ActivityFormatter"><code class="xref any py py-class docutils literal"><span class="pre">ActivityFormatter</span></code></a> 类，然后定义一些函数或者常量，名称是
ActType 类型的小写形式 + <code class="docutils literal"><span class="pre">_formatter</span></code>。</p>
<p>如果它是个函数，需要接受一个 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.ActType" title="zhihu_oauth.zhcls.activity.ActType"><code class="xref any py py-data docutils literal"><span class="pre">ActType</span></code></a> 或者 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a> 对象，
返回一个字符串模板。如果直接是个变量那就直接被当成模板使用。</p>
<p>模板里一律用 <code class="docutils literal"><span class="pre">act</span></code> 代表 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.Activity" title="zhihu_oauth.zhcls.activity.Activity"><code class="xref any py py-class docutils literal"><span class="pre">Activity</span></code></a> 对象。</p>
</dd></dl>

</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="developer-references">
<h2>Developer references - 开发人员参考<a class="headerlink" href="#developer-references" title="永久链接至标题">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-for-dev/index"></span><div class="section" id="developer-references">
<h3>Developer references - 开发人员参考<a class="headerlink" href="#developer-references" title="永久链接至标题">¶</a></h3>
<div class="toctree-wrapper compound" id="for-dev">
<span id="document-for-dev/utils"></span><div class="section" id="utils-setting">
<h4>Utils &amp; Setting - 辅助函数和默认配置<a class="headerlink" href="#utils-setting" title="永久链接至标题">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">这个模块只是把一些常用的辅助方法单独成文件而已，并不提供接口。
纯用户（对实现不感兴趣的同学们）就不用看后面的啦。</p>
</div>
<span class="target" id="module-zhihu_oauth.utils"></span><dl class="function">
<dt id="zhihu_oauth.utils.need_login">
<code class="descclassname">zhihu_oauth.utils.</code><code class="descname">need_login</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/utils.html#need_login"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.utils.need_login" title="永久链接至目标">¶</a></dt>
<dd><p>装饰器。作用于 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 中的某些方法，
强制它们必须在登录状态下才能被使用。</p>
</dd></dl>

<span class="target" id="module-zhihu_oauth.setting"></span><dl class="data">
<dt id="zhihu_oauth.setting.DEFAULT_CAPTCHA_FILENAME">
<code class="descclassname">zhihu_oauth.setting.</code><code class="descname">DEFAULT_CAPTCHA_FILENAME</code><em class="property"> = 'captcha.gif'</em><a class="headerlink" href="#zhihu_oauth.setting.DEFAULT_CAPTCHA_FILENAME" title="永久链接至目标">¶</a></dt>
<dd><p>请求验证码后储存文件名的默认值，现在的值是当前目录下的 captcha.gif。</p>
<p>仅在 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref py py-meth docutils literal"><span class="pre">ZhihuClient.login_in_terminal</span></code></a> 中被使用。</p>
</dd></dl>

</div>
<span id="document-for-dev/oauth/index"></span><div class="section" id="login-oauth-oauth">
<h4>Login &amp; OAuth - 登录与 OAuth 验证<a class="headerlink" href="#login-oauth-oauth" title="永久链接至标题">¶</a></h4>
<p>这里准备写一些知乎 OAuth 登录过程的详解，不过果然还是等我先把文档写完吧。</p>
<img src="_images/inheritance-46e7d9c47ac9d11ff53bc18bcf1e4cb908f82330.png" alt="Inheritance diagram of zhihu_oauth.oauth.BeforeLoginAuth, zhihu_oauth.oauth.ZhihuOAuth" usemap="#inheritanceee7a2fa5a9" class="inheritance"/>
<map id="inheritanceee7a2fa5a9" name="inheritanceee7a2fa5a9">
<area shape="rect" id="node1" title="Base class that all auth implementations derive from" alt="" coords="281,5,459,31"/>
<area shape="rect" id="node3" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" target="_top" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" alt="" coords="191,79,549,104"/>
<area shape="rect" id="node2" href="index.html#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth" target="_top" title="zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth" alt="" coords="5,152,375,177"/>
<area shape="rect" id="node4" href="index.html#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" target="_top" title="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" alt="" coords="399,152,703,177"/>
</map>
<div class="toctree-wrapper compound">
<span id="document-for-dev/oauth/game"></span><div class="section" id="game-walkthrough">
<h5>Game walkthrough - 游戏攻略<a class="headerlink" href="#game-walkthrough" title="永久链接至标题">¶</a></h5>
<p>本来想的是写一篇博客的，但是果然还是不要太张扬，写在文档里算了。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>关于准备工作</p>
<p class="last">貌似知乎不知道怎么更改了 SSL 的加密方法，使用 Packet Capture 会影响到知乎 APP 的正常运作，现在推荐
使用 Fiddler 代替 Packet Capture，并设置 SSL 解密方法为 <cite>&lt;client&gt;,ssl3,tls1.2</cite>。
或者使用 Burp Suite 也可以。</p>
</div>
<div class="section" id="instruction">
<h6>Instruction  - 教学关<a class="headerlink" href="#instruction" title="永久链接至标题">¶</a></h6>
<p>你需要：</p>
<ul class="simple">
<li>一台 Android 设备（我用的是 Nexus 7， 6.0.1，CM 13）</li>
<li>一台电脑，系统随意，有 Android Studio 最好，没有也行</li>
<li>支持 HTTPS 的抓包工具（我用的是 Android 上的 Packet Capture）</li>
<li>APK 反编译工具（我用的是 jadx）</li>
</ul>
<p>在 Android 设备上安装上知乎客户端，如果已经安装了的话就强行停止，
然后清除数据和缓存。</p>
</div>
<div class="section" id="start-the-game">
<h6>Start the game - 开始游戏<a class="headerlink" href="#start-the-game" title="永久链接至标题">¶</a></h6>
<p>打开 Packet Capture，首次运行的话应该会让你安装证书（为了解密 SSL 流量）。
如果这一步遇到什么凭证问题，设置一下 Android 的锁屏密码什么的大概就可以，
不行的话就 Google 一下你的设备型号 + 问题描述，自己去解决吧。</p>
<p>证书安装完毕后点击 Packet Capture 的右上角绿三角开始抓包。</p>
<p>打开知乎客户端，按照正常的流程登录。</p>
<p>切回 Packet Capture，点开抓包列表，大概是这样一个情况。</p>
<img alt="_images/explore-1.png" src="_images/explore-1.png" />
<p>往下找，直到找到第一次知乎 APP 与 60 开头 IP 的有数据 SSL 通信，大概在最下面。</p>
<img alt="_images/explore-2.png" src="_images/explore-2.png" />
<div class="section" id="mission-1-need-captcha">
<span id="mission-one"></span><h7>Mission 1 : Need Captcha? - 第一关：需要验证码么？<a class="headerlink" href="#mission-1-need-captcha" title="永久链接至标题">¶</a></h7>
<p>点开最早的一次通信，然后点击右上角的 HTML 图标。忽略掉 recommendation，setting，
以及 topstory（估计是封面图） 等请求，找到第一个关键请求：captcha，如下：</p>
<img alt="_images/explore-3.png" src="_images/explore-3.png" />
<p>上图中重要的地方我都用红色框起来了。从上到下编号为 0-5 好了。</p>
<p>0 + 3 可以看出请求的地址是：<a class="reference external" href="https://api.zhihu.com/captcha">https://api.zhihu.com/captcha</a></p>
<p>2 是表示当前 APP 和手机的一些信息的，是不是必须我没测试，但我是模拟了这几个
header 的。参见：<a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref any py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a>。</p>
<p>4 很重要，里面记录的是你的验证码会话。如果在后面登录的时候不带这些 Cookies 的话，
服务器会提示你验证码会话不正确之类的错误。当然辣，requests 的 Session 会自动处理
Cookies 的，不用太在意。</p>
<p>1 是最重要的验证信息。如果没有这个 header 项，
直接请求 API 的话服务器是会回给你错误信息的。</p>
<p>比如直接在浏览器里访问的话会是这样：</p>
<img alt="_images/explore-4.png" src="_images/explore-4.png" />
<p>正确的返回值应该是像上上图的框 5 那样，一个带有 <code class="docutils literal"><span class="pre">show_captcha</span></code> 键的 JSON 数据。
键值的意义是 「下次登录是否需要输入验证码」。</p>
<p>由于这里是 False，也为了简化登录流程的介绍，下面都以 <code class="docutils literal"><span class="pre">show_captcha=False</span></code> 为前提。</p>
<p>（如果你对验证码的处理方式很感兴趣，恭喜你，发现了 <a class="reference internal" href="#hidden-mission"><span class="std std-ref">隐藏关</span></a>）</p>
</div>
<div class="section" id="mission-2-login">
<h7>Mission 2 : Login - 第二关：登录<a class="headerlink" href="#mission-2-login" title="永久链接至标题">¶</a></h7>
<p>按照第一关的方式轻车熟路的找到第二个请求 sign_in（也许要返回到之前的通信列表界面，
点进另一个列表项）：</p>
<img alt="_images/explore-5.png" src="_images/explore-5.png" />
<p>好吧，很明显的两坨红色就是我的邮箱和密码了，不要管它们，继续看那些红框。</p>
<p>0：这是一个 POST 请求，地址是 <a class="reference external" href="https://api.zhihu.com/sign_in">https://api.zhihu.com/sign_in</a></p>
<p>1：和请求验证码的时候一致，其实没登录的情况下这个参数都一样。
由于这个验证在没登录的情况下都是存在的，所以我把它变成了一个类，
参见：<a class="reference internal" href="index.html#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth" title="zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth"><code class="xref any py py-class docutils literal"><span class="pre">BeforeLoginAuth</span></code></a></p>
<p>2：这些就是登录参数了。</p>
<p>在讲参数之前我们来看看 Cookies，你会发现它和询问是否需要验证码之后服务器返回的
Cookies 一样。注意这里一定要匹配，如果不匹配则登录操作是不会通过的。
然前面也说过了 Session 会自动处理的，所以也不用太在意。</p>
<p>好了来说重头戏，登录的参数。我把它用 Python 字典的形式写在下面（调整了一下参数位置）：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="s1">&#39;example@emxample.com&#39;</span><span class="p">,</span>
    <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="s1">&#39;123456&#39;</span><span class="p">,</span>
    <span class="s1">&#39;client_id&#39;</span><span class="p">:</span> <span class="s1">&#39;8d5..............&#39;</span><span class="p">,</span>
    <span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="s1">&#39;password&#39;</span><span class="p">,</span>
    <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;com.zhihu.android&#39;</span><span class="p">,</span>
    <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="s1">&#39;1460165233&#39;</span><span class="p">,</span>
    <span class="s1">&#39;signature&#39;</span><span class="p">:</span> <span class="s1">&#39;8ad..............&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>前面两项不用多说，用户名和密码。我只试了邮箱，但是手机号也可以。</p>
<p>第三项叫做 <code class="docutils literal"><span class="pre">client_id</span></code>，你可以和框 1 对比一下，就会发现其实他俩是一样的。
这其实就是 OAuth 里需要申请的，表示一个应用的 APPID 值，
如果你开发过微博的第三方应用，或者在你建的网站上使用了第三方登录功能，
应该不会对这个概念感到陌生。所有的（这个版本的） Android
知乎客户端的这个值都是一样的。</p>
<p>第四项是……恩，你大概当作授权类型把。<code class="docutils literal"><span class="pre">password</span></code> 表示我们通过提供用户账户的密码
来获取用户令牌。其他的方式大概还有 OAuth 登录（就是像微博那样弹个小网页让你登录），
第三方登录（通过微博，QQ什么的），这里我们只讲密码型登录。</p>
<p>第五项叫做 source，表示登录请求的来源，可以看出值其实就是 APK 的包名。</p>
<p>第六项 timestamp，时间戳，表示当前时间。用来使每次登录请求的基础数据都不同，
方便 signature 签名加密用的。（在下一小节会详细介绍的）</p>
<p>最后一项是最重要的，请求的签名。如果你在知乎 APP 上多试几次，
就会发现这个值每次都不同。它是用来保证安全性的，因为你既不知道签名的计算方法，
又不知道加密的参数，所以你没法伪造登录请求。</p>
<p>下一小节介绍的就是签名加密算法的探寻过程。</p>
</div>
<div class="section" id="mission-3-encrypted-signature">
<h7>Mission 3: Encrypted signature - 第三关：被加密的签名<a class="headerlink" href="#mission-3-encrypted-signature" title="永久链接至标题">¶</a></h7>
<p>为了破解这个签名，我费了挺大功夫的，大概一晚上加一早上吧……
这里就省略掉我试过的错误的方法（虽然这些试错的价值才是最大的），直击正确的途径。</p>
<p>首先我们用 jadx 拆掉 APK（记得打开反混淆），导入 Android Studio。（没有 Android Studio
的话也可以在 jadx 里直接查看）。导入之后大概如下图：</p>
<img alt="_images/explore-6.png" src="_images/explore-6.png" />
<p>然后打开 <code class="docutils literal"><span class="pre">/com/zhihu/android/api/module/Authorisation.java</span></code>
（别问我是怎么知道的，我当然是一点一点找的啊……我又没有文章可以看）。</p>
<p>翻到 <code class="docutils literal"><span class="pre">createBaseAuthorisation</span></code> 这个方法，代码如下：</p>
pre {
  white-space: pre-wrap;
}<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">static</span> <span class="n">Authorisation</span> <span class="nf">createBaseAuthorisation</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">GrantType</span> <span class="n">grantType</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="o">);</span>
    <span class="n">Authorisation</span> <span class="n">authorisation</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Authorisation</span><span class="o">();</span>
    <span class="n">authorisation</span><span class="o">.</span><span class="na">clientId</span> <span class="o">=</span> <span class="s">&quot;8d5227e0aaaa4797a763ac64e0c3b8&quot;</span><span class="o">;</span>
    <span class="n">authorisation</span><span class="o">.</span><span class="na">source</span> <span class="o">=</span> <span class="n">SystemUtils</span><span class="o">.</span><span class="na">m18405c</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
<span class="hll">    <span class="n">authorisation</span><span class="o">.</span><span class="na">signature</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">a</span><span class="o">(</span>
</span><span class="hll">        <span class="n">grantType</span> <span class="o">+</span>
</span><span class="hll">        <span class="s">&quot;8d5227e0aaaa4797a763ac64e0c3b8&quot;</span> <span class="o">+</span>
</span><span class="hll">        <span class="n">authorisation</span><span class="o">.</span><span class="na">source</span> <span class="o">+</span>
</span><span class="hll">        <span class="n">timestamp</span><span class="o">,</span>
</span><span class="hll">        <span class="s">&quot;ecbefbf6b17e47ecb9035107866380&quot;</span>
</span><span class="hll">    <span class="o">);</span>
</span>    <span class="n">authorisation</span><span class="o">.</span><span class="na">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">authorisation</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>注意被标注的 6 到 12 行，这就是签名的加密算法。</p>
<p>我们可以看到，有一个叫做 <code class="docutils literal"><span class="pre">b.a</span></code> 的函数，接受两个参数，第一个是一堆字符串的拼接，
第二个是固定的字符串（其实就是 客户端的 SECRET）。</p>
<p>通过上一段对参数的解释，我们可以看到，除了 <code class="docutils literal"><span class="pre">timestamp</span></code> 之外，其他的都是固定的，
所以一第一个参数就是：</p>
<p><code class="docutils literal"><span class="pre">“password8d5227e0aaaa4797a763ac64e0c3b8com.zhihu.android”</span></code></p>
<p>后面再加上 <code class="docutils literal"><span class="pre">timestamp</span></code> 的值，</p>
<p>然后，最重要的来了，加密方法是什么。</p>
<p>我尝试了把第二个参数拼接到第一个参数的末尾和开头，然后再分别用 md5，sha1，先 md5
再 sha1，先 sha1 再 md5，以第二个参数为盐的 md5 和 sha1。反正都不对……</p>
<p>然后我就陷入了深深的迷茫中。洗把脸冷静了一会之后我想……知乎还算个比较跟潮流的公司，
去查查 Google 的 OAuth 文档说不定能有收获。（别问我当时怎么想的！
我也不知道为啥就觉的知乎应该会跟着 Google 的流程走……）</p>
<p>然后我找到了 Google OAuth 的签名文档（对 Google 的文档感兴趣的话点<a class="reference external" href="https://developers.google.com/maps/documentation/static-maps/get-api-key#url-">这里</a>）</p>
<p>于是我就猜想是不是知乎也是用的 hmac.sha1 叻……然后就成功了，嗯，说起来就是这么简单……</p>
<p>签名代码参见：<a class="reference internal" href="index.html#zhihu_oauth.oauth.utils.login_signature" title="zhihu_oauth.oauth.utils.login_signature"><code class="xref any py py-func docutils literal"><span class="pre">login_signature</span></code></a>。</p>
</div>
<div class="section" id="last-hint-get-token">
<h7>Last hint: Get token - 最后一击：获取令牌<a class="headerlink" href="#last-hint-get-token" title="永久链接至标题">¶</a></h7>
<p>在了解了签名加密算法之后，剩下的工作就很简单了，模拟成客户端把登录请求发过去就行。</p>
<p>以下是客户端返回的结果。</p>
<img alt="_images/explore-7.png" src="_images/explore-7.png" />
<p>由于返回结果涉及到账户安全信息，所以马赛克比较多，凑合着看哈。</p>
<p>最重要的是那个 <code class="docutils literal"><span class="pre">access_token</span></code> 项，登录后的每个请求都需要这个令牌进行验证。</p>
<p>阿，对了，那个 cookies 里的东西貌似并不是很重要，我没有手动添加进 Session，
所有的功能也能成功完成。</p>
<p>有关令牌的保存和使用，请看 <a class="reference internal" href="index.html#zhihu_oauth.oauth.token.ZhihuToken" title="zhihu_oauth.oauth.token.ZhihuToken"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuToken</span></code></a> 类 和 <a class="reference internal" href="index.html#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" title="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth"><code class="xref any py py-class docutils literal"><span class="pre">ZhihuOAuth</span></code></a> 类。</p>
<p>下面是一次登录传成功后的一次 API 请求头：</p>
<img alt="_images/explore-8.png" src="_images/explore-8.png" />
<p>注意红框部分的 <code class="docutils literal"><span class="pre">Bearer</span></code>，这是 OAuth2 的一种 token type 方式，
如果你想了解它的定义，可以看看 <a class="reference external" href="https://tools.ietf.org/html/rfc6750">RFC 6750</a>。</p>
<p>后面那被我打了马赛克的地方就是上上图中的 <code class="docutils literal"><span class="pre">access_token</span></code> 值。
你用有效的 <code class="docutils literal"><span class="pre">access_token</span></code> 进行验证，服务器才会允许你获取数据。</p>
<p>服务器的回复我就不贴了。</p>
<p>至此，知乎 APP 的 OAuth 过程就解析完毕辣！下面的附加关卡是给兴趣浓厚的同学们准备的。</p>
</div>
<div class="section" id="hidden-mission-process-captcha">
<span id="hidden-mission"></span><h7>Hidden mission: Process captcha - 隐藏关卡：验证码处理<a class="headerlink" href="#hidden-mission-process-captcha" title="永久链接至标题">¶</a></h7>
<p><a class="reference internal" href="#mission-one"><span class="std std-ref">Mission 1 : Need Captcha? - 第一关：需要验证码么？</span></a> 里说到了验证码的问题。</p>
<p>知乎 OAuth 的验证码策略是这样的。</p>
<ol class="arabic simple">
<li>每次登录前必须使用 <code class="docutils literal"><span class="pre">GET</span></code>  方式调用 <code class="docutils literal"><span class="pre">captcha</span></code> API 获取自己此次登录需不需要验证码。
知乎的服务器根据你最近的登录频繁程度，上次登录结果等来决定是否需要你输入验证码。
不管最后结果是需要还是不需要，服务器会在数据库里存你的验证码 Session 然后用
<code class="docutils literal"><span class="pre">Set-Cookies</span> <span class="pre">HTTP</span> <span class="pre">header</span></code> 的方式给你 <code class="docutils literal"><span class="pre">Session</span> <span class="pre">ID</span></code>。</li>
<li>如果需要验证码则继续往下执行，不需要则转 6。</li>
<li>请求使用 <code class="docutils literal"><span class="pre">PUT</span></code> 方式调用 <code class="docutils literal"><span class="pre">captcha</span></code> API，（记得带上上一步发给你的 Cookies）
获取到的是 base64 编码的一张 gif 图片。</li>
<li>使用 <code class="docutils literal"><span class="pre">POST</span></code> 方式调用 <code class="docutils literal"><span class="pre">captcha</span></code> API，<code class="docutils literal"><span class="pre">data</span></code> 设置为 <code class="docutils literal"><span class="pre">{'captcha'='abcd'}</span></code>
（当然也得记得带上 Cookies）</li>
<li>如果验证码输入正确，服务器会在你的验证码 Session 里写上验证成功。如果输入失败
你就得重新转到步骤 3，成功的话继续往下。</li>
<li>用正常方式使用 <code class="docutils literal"><span class="pre">sign_up</span></code> API 登录即可（带上 Cookies）。</li>
</ol>
<p>知乎所有关于验证码的操作都使用同一个 API，用不同的 HTTP Verb 把功能区分开，我觉得挺有意思的。</p>
<p>我代码里有关登录和注册码相关逻辑处理，请看下面几个函数：</p>
<ul class="simple">
<li><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login" title="zhihu_oauth.client.ZhihuClient.login"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.login</span></code></a></li>
<li><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.need_captcha" title="zhihu_oauth.client.ZhihuClient.need_captcha"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.need_captcha</span></code></a></li>
<li><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.get_captcha" title="zhihu_oauth.client.ZhihuClient.get_captcha"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.get_captcha</span></code></a></li>
<li><a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient.login_in_terminal" title="zhihu_oauth.client.ZhihuClient.login_in_terminal"><code class="xref any py py-meth docutils literal"><span class="pre">ZhihuClient.login_in_terminal</span></code></a></li>
</ul>
</div>
</div>
<div class="section" id="finale">
<h6>Finale - 大结局<a class="headerlink" href="#finale" title="永久链接至标题">¶</a></h6>
<p>好啦，游戏攻略就写到这里……快去自己玩玩呗？</p>
<p>（完）</p>
<p>2016.04.09 初稿。
2016.08.30 修改一些格式和用词小问题。</p>
</div>
</div>
<span id="document-for-dev/oauth/android"></span><div class="section" id="module-zhihu_oauth.oauth.im_android">
<span id="imzhihuandroidclient-android-app"></span><h5>ImZhihuAndroidClient - 模拟官方 Android APP<a class="headerlink" href="#module-zhihu_oauth.oauth.im_android" title="永久链接至标题">¶</a></h5>
<dl class="class">
<dt id="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient">
<em class="property">class </em><code class="descclassname">zhihu_oauth.oauth.im_android.</code><code class="descname">ImZhihuAndroidClient</code><span class="sig-paren">(</span><em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em>, <em>uuid=None</em>, <em>ua=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/im_android.html#ImZhihuAndroidClient"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em>, <em>uuid=None</em>, <em>ua=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/im_android.html#ImZhihuAndroidClient.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__" title="永久链接至目标">¶</a></dt>
<dd><img src="_images/inheritance-d65c882a0ce69d3daed17d539f43793dd3fb00a2.png" alt="Inheritance diagram of ImZhihuAndroidClient" usemap="#inheritance0267b50d45" class="inheritance"/>
<map id="inheritance0267b50d45" name="inheritance0267b50d45">
<area shape="rect" id="node1" title="Base class that all auth implementations derive from" alt="" coords="96,5,273,31"/>
<area shape="rect" id="node2" href="#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" target="_top" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" alt="" coords="5,79,364,104"/>
</map>
<p>这个 Auth 类用于模拟一些 Android 上的知乎官方客户端的特殊参数</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>api_version</strong> (<em>str|unicode</em>) &#8211; 所用 API 版本</li>
<li><strong>app_version</strong> (<em>str|unicode</em>) &#8211; 客户端(APK) 版本</li>
<li><strong>app_build</strong> (<em>str|unicode</em>) &#8211; APP 类型？</li>
<li><strong>app_za</strong> (<em>str|unicode</em>) &#8211; APP 杂项，是一个 urlencoded 的 params dict</li>
<li><strong>uuid</strong> (<em>str|unicode</em>) &#8211; 暂时不知道是什么</li>
<li><strong>ua</strong> (<em>str|unicode</em>) &#8211; User-Agent，新 API 会验证 UA 了</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/im_android.html#ImZhihuAndroidClient.__call__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">requests 会自动调用这个方法</p>
</div>
<p>此函数在 PreparedRequest 的 HTTP header
里加上了模拟 Android 客户端所需要的附加属性</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">自动添加的属性参见 <a class="reference internal" href="#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-dev/oauth/before_login"></span><div class="section" id="module-zhihu_oauth.oauth.before_login_auth">
<span id="beforeloginauth"></span><h5>BeforeLoginAuth - 登录前使用的基础验证方式<a class="headerlink" href="#module-zhihu_oauth.oauth.before_login_auth" title="永久链接至标题">¶</a></h5>
<dl class="class">
<dt id="zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth">
<em class="property">class </em><code class="descclassname">zhihu_oauth.oauth.before_login_auth.</code><code class="descname">BeforeLoginAuth</code><span class="sig-paren">(</span><em>client_id</em>, <em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em>, <em>uuid=None</em>, <em>ua=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/before_login_auth.html#BeforeLoginAuth"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>client_id</em>, <em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em>, <em>uuid=None</em>, <em>ua=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/before_login_auth.html#BeforeLoginAuth.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth.__init__" title="永久链接至目标">¶</a></dt>
<dd><img src="_images/inheritance-e6f6c4e9b6775f3c58b5859216e34106913f5c45.png" alt="Inheritance diagram of BeforeLoginAuth" usemap="#inheritance5a42661892" class="inheritance"/>
<map id="inheritance5a42661892" name="inheritance5a42661892">
<area shape="rect" id="node1" title="Base class that all auth implementations derive from" alt="" coords="43,5,127,31"/>
<area shape="rect" id="node3" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" target="_top" title="ImZhihuAndroidClient" alt="" coords="5,79,165,104"/>
<area shape="rect" id="node2" href="#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth" target="_top" title="BeforeLoginAuth" alt="" coords="21,152,149,177"/>
</map>
<p>这个 Auth 在 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a>
的基础上加上了发送 <code class="docutils literal"><span class="pre">client_id</span></code> 的功能。表示登录之前的基础验证。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>client_id</strong> (<em>str|unicode</em>) &#8211; 客户端 ID</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">以下参数的文档参见 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__"><code class="xref py py-meth docutils literal"><span class="pre">ImZhihuAndroidClient.__init__</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>api_version</strong> (<em>str|unicode</em>) &#8211; </li>
<li><strong>app_version</strong> (<em>str|unicode</em>) &#8211; </li>
<li><strong>app_build</strong> (<em>str|unicode</em>) &#8211; </li>
<li><strong>app_za</strong> (<em>str|unicode</em>) &#8211; </li>
<li><strong>uuid</strong> (<em>str|unicode</em>) &#8211; </li>
<li><strong>ua</strong> (<em>str|unicode</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/before_login_auth.html#BeforeLoginAuth.__call__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.before_login_auth.BeforeLoginAuth.__call__" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">requests 会自动调用这个方法</p>
</div>
<p>此函数在 PreparedRequest 的 HTTP header
里加上了 HTTP Authorization 头，值为 CLIENT_ID。</p>
<p>由于是 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 的子类，也会自动加上描述 APP 信息的头。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__"><code class="xref py py-meth docutils literal"><span class="pre">ImZhihuAndroidClient.__call__</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-dev/oauth/oauth"></span><div class="section" id="module-zhihu_oauth.oauth.zhihu_oauth">
<span id="zhihuoauth-oauth"></span><h5>ZhihuOAuth - 登录后使用的 OAuth 验证方式<a class="headerlink" href="#module-zhihu_oauth.oauth.zhihu_oauth" title="永久链接至标题">¶</a></h5>
<dl class="class">
<dt id="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth">
<em class="property">class </em><code class="descclassname">zhihu_oauth.oauth.zhihu_oauth.</code><code class="descname">ZhihuOAuth</code><span class="sig-paren">(</span><em>token</em>, <em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/zhihu_oauth.html#ZhihuOAuth"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>token</em>, <em>api_version=None</em>, <em>app_version=None</em>, <em>app_build=None</em>, <em>app_za=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/zhihu_oauth.html#ZhihuOAuth.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth.__init__" title="永久链接至目标">¶</a></dt>
<dd><img src="_images/inheritance-d49fc49d484536e506f6776754188dd1642dfe87.png" alt="Inheritance diagram of ZhihuOAuth" usemap="#inheritancec13a31c777" class="inheritance"/>
<map id="inheritancec13a31c777" name="inheritancec13a31c777">
<area shape="rect" id="node1" title="Base class that all auth implementations derive from" alt="" coords="96,5,273,31"/>
<area shape="rect" id="node2" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" target="_top" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" alt="" coords="5,79,364,104"/>
<area shape="rect" id="node3" href="#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" target="_top" title="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth" alt="" coords="33,152,337,177"/>
</map>
<p>这个 Auth 在 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a>
的基础上加上了发送 token 的功能。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>token</strong> (<a class="reference internal" href="index.html#zhihu_oauth.oauth.token.ZhihuToken" title="zhihu_oauth.oauth.token.ZhihuToken"><em>ZhihuToken</em></a>) &#8211; 成功登录后得到的 Token</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">以下参数的文档参见 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__"><code class="xref py py-meth docutils literal"><span class="pre">ImZhihuAndroidClient.__init__</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>api_version</strong> &#8211; </li>
<li><strong>app_version</strong> &#8211; </li>
<li><strong>app_build</strong> &#8211; </li>
<li><strong>app_za</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/zhihu_oauth.html#ZhihuOAuth.__call__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.zhihu_oauth.ZhihuOAuth.__call__" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">requests 会自动调用这个方法</p>
</div>
<p>此函数在 PreparedRequest 的 HTTP header
里加上了 HTTP Authorization 头，值为登录成功后 Zhihu 发的 access_token。</p>
<p>由于是 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 的子类，也会自动加上描述 APP 信息的头。</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__call__"><code class="xref py py-meth docutils literal"><span class="pre">ImZhihuAndroidClient.__call__</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-dev/oauth/token"></span><div class="section" id="module-zhihu_oauth.oauth.token">
<span id="zhihutoken-oauth"></span><h5>ZhihuToken - OAuth 令牌<a class="headerlink" href="#module-zhihu_oauth.oauth.token" title="永久链接至标题">¶</a></h5>
<dl class="class">
<dt id="zhihu_oauth.oauth.token.ZhihuToken">
<em class="property">class </em><code class="descclassname">zhihu_oauth.oauth.token.</code><code class="descname">ZhihuToken</code><span class="sig-paren">(</span><em>user_id</em>, <em>uid</em>, <em>access_token</em>, <em>expires_in</em>, <em>token_type</em>, <em>refresh_token</em>, <em>cookie</em>, <em>lock_in=None</em>, <em>unlock_ticket=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>user_id</em>, <em>uid</em>, <em>access_token</em>, <em>expires_in</em>, <em>token_type</em>, <em>refresh_token</em>, <em>cookie</em>, <em>lock_in=None</em>, <em>unlock_ticket=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>知乎令牌。</p>
<p>尽量不要直接使用这个类，而是用 <a class="reference internal" href="#zhihu_oauth.oauth.token.ZhihuToken.from_str" title="zhihu_oauth.oauth.token.ZhihuToken.from_str"><code class="xref py py-meth docutils literal"><span class="pre">ZhihuToken.from_str</span></code></a> 或
<code class="xref py py-meth docutils literal"><span class="pre">ZhihuToken.form_dict</span></code> 或
<a class="reference internal" href="#zhihu_oauth.oauth.token.ZhihuToken.from_file" title="zhihu_oauth.oauth.token.ZhihuToken.from_file"><code class="xref py py-meth docutils literal"><span class="pre">ZhihuToken.from_file</span></code></a> 方法来构造。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">本类仅在 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 类内使用，一般用户不需要了解。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>user_id</strong> (<em>str|unicode</em>) &#8211; 用户 ID</li>
<li><strong>uid</strong> (<em>int</em>) &#8211; 某个数字型用户 ID，貌似没啥用</li>
<li><strong>access_token</strong> (<em>str|unicode</em>) &#8211; 最重要的访问令牌</li>
<li><strong>expires_in</strong> (<em>int</em>) &#8211; 过期时间</li>
<li><strong>token_type</strong> (<em>str|unicode</em>) &#8211; 令牌类型</li>
<li><strong>refresh_token</strong> (<em>str|unicode</em>) &#8211; 刷新令牌</li>
<li><strong>cookie</strong> (<em>str|unicode</em>) &#8211; 登录成功后需要加上这段 Cookies</li>
<li><strong>lock_in</strong> (<em>int</em>) &#8211; 不知道用处</li>
<li><strong>unlock_ticket</strong> (<em>str|unicode</em>) &#8211; 不知道用处</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.from_str">
<em class="property">static </em><code class="descname">from_str</code><span class="sig-paren">(</span><em>json_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken.from_str"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.from_str" title="永久链接至目标">¶</a></dt>
<dd><p>从字符串读取 token。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>json_str</strong> (<em>str|unicode</em>) &#8211; 一个合法的代表知乎 Token 的 JSON 字符串</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.oauth.token.ZhihuToken" title="zhihu_oauth.oauth.token.ZhihuToken"><code class="xref py py-class docutils literal"><span class="pre">ZhihuToken</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">引发:</th><td class="field-body"><strong>ValueError</strong> &#8211; 提供的参数不合法时</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.from_dict">
<em class="property">static </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken.from_dict"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.from_dict" title="永久链接至目标">¶</a></dt>
<dd><p>从字典读取 token。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>json_dict</strong> (<em>dict</em>) &#8211; 一个代表知乎 Token 的字典</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.oauth.token.ZhihuToken" title="zhihu_oauth.oauth.token.ZhihuToken"><code class="xref py py-class docutils literal"><span class="pre">ZhihuToken</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">引发:</th><td class="field-body"><strong>ValueError</strong> &#8211; 提供的参数不合法时</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.from_file">
<em class="property">static </em><code class="descname">from_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken.from_file"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.from_file" title="永久链接至目标">¶</a></dt>
<dd><p>从文件读取 token。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>filename</strong> (<em>str|unicode</em>) &#8211; 文件名</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body"><a class="reference internal" href="#zhihu_oauth.oauth.token.ZhihuToken" title="zhihu_oauth.oauth.token.ZhihuToken"><code class="xref py py-class docutils literal"><span class="pre">ZhihuToken</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/token.html#ZhihuToken.save"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.save" title="永久链接至目标">¶</a></dt>
<dd><p>将 token 保存成文件。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>filename</strong> (<em>str|unicode</em>) &#8211; 文件名</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">无返回值</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.user_id">
<code class="descname">user_id</code><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.user_id" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">获取用户 ID</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.type">
<code class="descname">type</code><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.type" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">获取验证类型</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.oauth.token.ZhihuToken.token">
<code class="descname">token</code><a class="headerlink" href="#zhihu_oauth.oauth.token.ZhihuToken.token" title="永久链接至目标">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">获取访问令牌</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-dev/oauth/utils_setting"></span><div class="section" id="utils-setting">
<h5>Utils &amp; Setting - 辅助函数和默认配置<a class="headerlink" href="#utils-setting" title="永久链接至标题">¶</a></h5>
<div class="section" id="module-zhihu_oauth.oauth.utils">
<span id="utils"></span><h6>utils - 工具<a class="headerlink" href="#module-zhihu_oauth.oauth.utils" title="永久链接至标题">¶</a></h6>
<dl class="function">
<dt id="zhihu_oauth.oauth.utils.login_signature">
<code class="descclassname">zhihu_oauth.oauth.utils.</code><code class="descname">login_signature</code><span class="sig-paren">(</span><em>data</em>, <em>secret</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/oauth/utils.html#login_signature"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.oauth.utils.login_signature" title="永久链接至目标">¶</a></dt>
<dd><p>为登录请求附加签名。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>dict</em>) &#8211; POST 数据</li>
<li><strong>secret</strong> (<em>str|unicode</em>) &#8211; APP SECRET</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">经过签名后的 dict， 增加了 timestamp 和 signature 两项</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-zhihu_oauth.oauth.setting">
<span id="setting"></span><h6>setting - 默认配置<a class="headerlink" href="#module-zhihu_oauth.oauth.setting" title="永久链接至标题">¶</a></h6>
<dl class="data">
<dt id="zhihu_oauth.oauth.setting.ZHIHU_API_ROOT">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">ZHIHU_API_ROOT</code><em class="property"> = 'https://api.zhihu.com'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.ZHIHU_API_ROOT" title="永久链接至目标">¶</a></dt>
<dd><p>知乎 API 的根目录</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.CLIENT_ID">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">CLIENT_ID</code><em class="property"> = '8d5227e0aaaa4797a763ac64e0c3b8'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.CLIENT_ID" title="永久链接至目标">¶</a></dt>
<dd><p>默认的 CLIENT ID。
如果 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 构造时没有提供 CLIENT ID，则使用这个值。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.APP_SECRET">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">APP_SECRET</code><em class="property"> = 'ecbefbf6b17e47ecb9035107866380'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.APP_SECRET" title="永久链接至目标">¶</a></dt>
<dd><p>默认的 SECRET。
如果 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 构造时没有提供 SECRET，则使用这个值。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.API_VERSION">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">API_VERSION</code><em class="property"> = '3.0.54'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.API_VERSION" title="永久链接至目标">¶</a></dt>
<dd><p>模拟 Android 官方客户端使用的参数，表示使用的 API 版本。
如果 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 构造时没有提供 api_version，则使用这个值。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.APP_VERSION">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">APP_VERSION</code><em class="property"> = '4.18.0'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.APP_VERSION" title="永久链接至目标">¶</a></dt>
<dd><p>模拟 Android 官方客户端使用的参数，表示使用的 APP 版本。
如果 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 构造时没有提供 app_version，则使用这个值。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.APP_BUILD">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">APP_BUILD</code><em class="property"> = 'release'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.APP_BUILD" title="永久链接至目标">¶</a></dt>
<dd><p>模拟 Android 官方客户端使用的参数，表示使用的 APP 的 Build 类型。
如果 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 构造时没有提供 app_build，则使用这个值。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.UUID">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">UUID</code><em class="property"> = 'AHBCVBVCDAtLBfZCo1SYbPj8SgivYjqcGCs='</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.UUID" title="永久链接至目标">¶</a></dt>
<dd><p>新加的一个东西，暂时不知道是啥的 ID</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.DEFAULT_UA">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">DEFAULT_UA</code><em class="property"> = 'Futureve/4.18.0 Mozilla/5.0 (Linux; Android 6.0; Google Nexus 5 - 6.0.0 - API 23 - 1080x1920 Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/44.0.2403.119 Mobile Safari/537.36 Google-HTTP-Java-Client/1.22.0 (gzip)'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.DEFAULT_UA" title="永久链接至目标">¶</a></dt>
<dd><p>新版本的 API 开始检查 UA了。</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.APP_ZA">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">APP_ZA</code><em class="property"> = 'Model=Google+Nexus+5+-+6.0.0+-+API+23+-+1080x1920&amp;Width=1080&amp;Height=1920&amp;VersionCode=477&amp;Installer=Google+Play&amp;Release=6.0&amp;VersionName=4.18.0&amp;OS=Android'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.APP_ZA" title="永久链接至目标">¶</a></dt>
<dd><p>模拟 Android 官方客户端使用的参数，表示使用的 APP 的 杂项数据。
如果 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient"><code class="xref py py-class docutils literal"><span class="pre">ImZhihuAndroidClient</span></code></a> 构造时没有提供 app_za，则使用这个值。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>它是一个 url encode 后的 dict</p>
<p class="last">参见 <a class="reference internal" href="index.html#zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__" title="zhihu_oauth.oauth.im_android.ImZhihuAndroidClient.__init__"><code class="xref py py-meth docutils literal"><span class="pre">ImZhihuAndroidClient.__init__</span></code></a></p>
</div>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.CAPTCHA_URL">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">CAPTCHA_URL</code><em class="property"> = 'https://api.zhihu.com/captcha'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.CAPTCHA_URL" title="永久链接至目标">¶</a></dt>
<dd><p>验证码相关</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">GET:</th><td class="field-body">是否需要验证码</td>
</tr>
<tr class="field-even field"><th class="field-name">PUT:</th><td class="field-body">获取验证码</td>
</tr>
<tr class="field-odd field"><th class="field-name">POST:</th><td class="field-body">提交验证码</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.LOGIN_URL">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">LOGIN_URL</code><em class="property"> = 'https://api.zhihu.com/sign_in'</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.LOGIN_URL" title="永久链接至目标">¶</a></dt>
<dd><p>OAuth 登录地址</p>
</dd></dl>

<dl class="data">
<dt id="zhihu_oauth.oauth.setting.LOGIN_DATA">
<code class="descclassname">zhihu_oauth.oauth.setting.</code><code class="descname">LOGIN_DATA</code><em class="property"> = {'source': 'com.zhihu.android', 'grant_type': 'password', 'client_id': '', 'username': '', 'timestamp': '', 'password': '', 'signature': ''}</em><a class="headerlink" href="#zhihu_oauth.oauth.setting.LOGIN_DATA" title="永久链接至目标">¶</a></dt>
<dd><p>登录数据格式。需要填充的只有用户名和密码。</p>
<p><cite>client_id</cite> 会由 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 填写。</p>
<p><cite>timestamp</cite> 和 <cite>signature</cite> 会由 <a class="reference internal" href="index.html#zhihu_oauth.client.ZhihuClient" title="zhihu_oauth.client.ZhihuClient"><code class="xref py py-class docutils literal"><span class="pre">ZhihuClient</span></code></a> 内部调用的
<a class="reference internal" href="#zhihu_oauth.oauth.utils.login_signature" title="zhihu_oauth.oauth.utils.login_signature"><code class="xref py py-func docutils literal"><span class="pre">login_signature</span></code></a> 自动填写。</p>
</dd></dl>

</div>
</div>
</div>
</div>
<span id="document-for-dev/zhcls/index"></span><div class="section" id="zhihu-classes-structure">
<h4>Zhihu classes structure - 知乎类结构<a class="headerlink" href="#zhihu-classes-structure" title="永久链接至标题">¶</a></h4>
<div class="toctree-wrapper compound">
<span id="document-for-dev/zhcls/base"></span><div class="section" id="base">
<h5>Base - 基础类<a class="headerlink" href="#base" title="永久链接至标题">¶</a></h5>
<p>Base 类是所有知乎数据相关类的基类，网络请求仅在 <a class="reference internal" href="#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类和
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.generator.BaseGenerator" title="zhihu_oauth.zhcls.generator.BaseGenerator"><code class="xref any py py-class docutils literal"><span class="pre">BaseGenerator</span></code></a> 类中实现。</p>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类提供了可以重载的函数
函数让子类可以自定义网络请求的 URL，method，params，data 等参数。</p>
<img src="_images/inheritance-44ba7792368c403a3aa3e4f88deca398e6386453.png" alt="Inheritance diagram of zhihu_oauth.zhcls.base, zhihu_oauth.zhcls.answer, zhihu_oauth.zhcls.article, zhihu_oauth.zhcls.collection, zhihu_oauth.zhcls.column, zhihu_oauth.zhcls.comment, zhihu_oauth.zhcls.people, zhihu_oauth.zhcls.me, zhihu_oauth.zhcls.question, zhihu_oauth.zhcls.topic" usemap="#inheritance46a8527f09" class="inheritance"/>
<map id="inheritance46a8527f09" name="inheritance46a8527f09">
<area shape="rect" id="node1" href="index.html#zhihu_oauth.zhcls.answer.Answer" target="_top" title="Answer" alt="" coords="5,67,66,88"/>
<area shape="rect" id="node2" href="#zhihu_oauth.zhcls.base.Base" target="_top" title="Base" alt="" coords="349,5,410,26"/>
<area shape="rect" id="node3" href="index.html#zhihu_oauth.zhcls.article.Article" target="_top" title="Article" alt="" coords="86,67,147,88"/>
<area shape="rect" id="node5" href="index.html#zhihu_oauth.zhcls.collection.Collection" target="_top" title="Collection" alt="" coords="168,67,240,88"/>
<area shape="rect" id="node6" href="index.html#zhihu_oauth.zhcls.column.Column" target="_top" title="Column" alt="" coords="261,67,322,88"/>
<area shape="rect" id="node7" href="index.html#zhihu_oauth.zhcls.comment.Comment" target="_top" title="Comment" alt="" coords="343,67,417,88"/>
<area shape="rect" id="node9" href="index.html#zhihu_oauth.zhcls.people.People" target="_top" title="People" alt="" coords="438,67,499,88"/>
<area shape="rect" id="node10" href="index.html#zhihu_oauth.zhcls.question.Question" target="_top" title="Question" alt="" coords="520,67,587,88"/>
<area shape="rect" id="node11" href="index.html#zhihu_oauth.zhcls.topic.Topic" target="_top" title="Topic" alt="" coords="608,67,669,88"/>
<area shape="rect" id="node12" href="index.html#zhihu_oauth.zhcls.topic.TopicIndex" target="_top" title="TopicIndex" alt="" coords="690,67,763,88"/>
<area shape="rect" id="node4" href="index.html#zhihu_oauth.zhcls.people.Badge" target="_top" title="Badge" alt="" coords="431,5,492,26"/>
<area shape="rect" id="node8" href="index.html#zhihu_oauth.zhcls.me.Me" target="_top" title="Me" alt="" coords="438,129,499,151"/>
<area shape="rect" id="node13" href="index.html#zhihu_oauth.zhcls.topic.TopicIndexSection" target="_top" title="自身是一个 :any:`Question` 对象的迭代器，附带了 title 属性和另一个相关话题的迭代器。" alt="" coords="513,5,627,26"/>
</map>
<span class="target" id="module-zhihu_oauth.zhcls.base"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.base.Base">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.base.</code><code class="descname">Base</code><span class="sig-paren">(</span><em>zhihu_obj_id</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>zhihu_obj_id</em>, <em>cache</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base.__init__" title="永久链接至目标">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">注解</p>
<p>Cache 与 Data</p>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类的 <code class="docutils literal"><span class="pre">cache</span></code> 参数表示已知的属性值。一般由另一个对象的
JSON 数据中的一个属性充当。</p>
<p>比如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer.author" title="zhihu_oauth.zhcls.answer.Answer.author"><code class="xref any py py-attr docutils literal"><span class="pre">Answer.author</span></code></a> 方法，由于在请求 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.answer.Answer" title="zhihu_oauth.zhcls.answer.Answer"><code class="xref any py py-class docutils literal"><span class="pre">Answer</span></code></a> 的数据时，
原始 JSON 数据中就有关于作者的一些简单信息。比如 name，id，headline。
在使用此方法时就会将这些不完整的数据传递到 <code class="docutils literal"><span class="pre">answer</span></code> 对象 （类型为
<a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People" title="zhihu_oauth.zhcls.people.People"><code class="xref any py py-class docutils literal"><span class="pre">People</span></code></a>）的 <code class="docutils literal"><span class="pre">cache</span></code> 中。这样一来，在执行
<code class="docutils literal"><span class="pre">answer.author.name</span></code> 时，取出名字的操作可以省去一次网络请求。</p>
<p class="last"><a class="reference internal" href="index.html#zhihu_oauth.zhcls.normal.normal_attr" title="zhihu_oauth.zhcls.normal.normal_attr"><code class="xref any py py-func docutils literal"><span class="pre">normal_attr</span></code></a>，<a class="reference internal" href="index.html#zhihu_oauth.zhcls.other.other_obj" title="zhihu_oauth.zhcls.other.other_obj"><code class="xref any py py-func docutils literal"><span class="pre">other_obj</span></code></a> 和 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.streaming.streaming" title="zhihu_oauth.zhcls.streaming.streaming"><code class="xref any py py-func docutils literal"><span class="pre">streaming</span></code></a> 装饰器都会
优先使用 <code class="docutils literal"><span class="pre">cache</span></code> 中的数据，当获取失败时才会调用
<a class="reference internal" href="#zhihu_oauth.zhcls.base.Base._get_data" title="zhihu_oauth.zhcls.base.Base._get_data"><code class="xref any py py-meth docutils literal"><span class="pre">_get_data</span></code></a> 方法请求数据。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>zhihu_obj_id</strong> &#8211; 构建知乎对象所用的 ID</li>
<li><strong>cache</strong> (<em>dict</em>) &#8211; 缓存数据，就是已知的这个对象的属性集</li>
<li><strong>session</strong> &#8211; 网络请求 Session</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.base.Base.id">
<code class="descname">id</code><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base.id" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base._get_data">
<code class="descname">_get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base._get_data"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base._get_data" title="永久链接至目标">¶</a></dt>
<dd><p>调用知乎 API 接口获取数据的主要方法。</p>
<p>url 从 <a class="reference internal" href="#zhihu_oauth.zhcls.base.Base._build_url" title="zhihu_oauth.zhcls.base.Base._build_url"><code class="xref any py py-meth docutils literal"><span class="pre">_build_url</span></code></a> 中获取。</p>
<p>method 从 <a class="reference internal" href="#zhihu_oauth.zhcls.base.Base._method" title="zhihu_oauth.zhcls.base.Base._method"><code class="xref any py py-meth docutils literal"><span class="pre">_method</span></code></a> 中获取。</p>
<p>params 从 <a class="reference internal" href="#zhihu_oauth.zhcls.base.Base._build_params" title="zhihu_oauth.zhcls.base.Base._build_params"><code class="xref any py py-meth docutils literal"><span class="pre">_build_params</span></code></a> 中获取。</p>
<p>data 从 <a class="reference internal" href="#zhihu_oauth.zhcls.base.Base._build_data" title="zhihu_oauth.zhcls.base.Base._build_data"><code class="xref any py py-meth docutils literal"><span class="pre">_build_data</span></code></a> 中获取。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">当返回的数据无法被解析成 JSON
或 JSON 中含有 &#8216;message&#8217; 字段时，会抛出 <a class="reference internal" href="index.html#zhihu_oauth.exception.GetDataErrorException" title="zhihu_oauth.exception.GetDataErrorException"><code class="xref any py py-exc docutils literal"><span class="pre">GetDataErrorException</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base._build_url">
<code class="descname">_build_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base._build_url"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base._build_url" title="永久链接至目标">¶</a></dt>
<dd><p>子类 <strong>必须</strong> 重载这一函数，提供获取数据的 API URL。</p>
<p>一般格式为 ZHIHU_XXX_URL.format(self.id)</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base._build_params">
<code class="descname">_build_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base._build_params"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base._build_params" title="永久链接至目标">¶</a></dt>
<dd><p>子类可以重载这一函数，提供请求 API 时要传递的参数。默认值为 None。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base._build_data">
<code class="descname">_build_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base._build_data"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base._build_data" title="永久链接至目标">¶</a></dt>
<dd><p>子类可以重载这一函数，提供请求 API 时要传递的数据。默认值为 None。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base._method">
<code class="descname">_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base._method"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base._method" title="永久链接至目标">¶</a></dt>
<dd><p>子类可以重载这一函数，提供 HTTP 请求的类型，默认值为 GET。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.base.Base.refresh">
<code class="descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/base.html#Base.refresh"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base.refresh" title="永久链接至目标">¶</a></dt>
<dd><p>删除自身的 cache 和 data，下一次获取属性会重新向知乎发送请求，获取最新数据。</p>
</dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.base.Base.pure_data">
<code class="descname">pure_data</code><a class="headerlink" href="#zhihu_oauth.zhcls.base.Base.pure_data" title="永久链接至目标">¶</a></dt>
<dd><p>调试用。返回现在对象内的 JSON 数据。</p>
<p>如果对象没有 cache 也没有 data，会自动发送数据请求 data。</p>
</dd></dl>

</dd></dl>

</div>
<span id="document-for-dev/zhcls/normal"></span><div class="section" id="normal-attr">
<h5>Normal attr - 常规属性<a class="headerlink" href="#normal-attr" title="永久链接至标题">¶</a></h5>
<p>常规属性的含义请看<a class="reference internal" href="index.html#intro-normal-attr"><span class="std std-ref">这里</span></a>。</p>
<p>下面这个装饰器就是各知乎类中用于标明哪些是常规属性的，
类里的定义只是为了方便构建文档。真正返回常规数据的操作均由这一装饰器完成。</p>
<span class="target" id="module-zhihu_oauth.zhcls.normal"></span><dl class="function">
<dt id="zhihu_oauth.zhcls.normal.normal_attr">
<code class="descclassname">zhihu_oauth.zhcls.normal.</code><code class="descname">normal_attr</code><span class="sig-paren">(</span><em>name_in_json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/normal.html#normal_attr"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.normal.normal_attr" title="永久链接至目标">¶</a></dt>
<dd><p>本装饰器的作用为：</p>
<ol class="arabic simple">
<li>标识这个属性为常规属性。</li>
<li>自动从对象的数据中取对应属性返回，会自行判断需不需要请求网络。</li>
</ol>
<p>取数据流程如下：</p>
<ol class="arabic simple">
<li>如果 <code class="docutils literal"><span class="pre">data</span></code> 存在，转 2，否则转 3。</li>
<li>尝试从 <code class="docutils literal"><span class="pre">data</span></code> 中取数据，成功则返回数据，否则返回被装饰函数的执行结果。</li>
<li>尝试从 <code class="docutils literal"><span class="pre">cache</span></code> 中取需要的属性，成功则返回。</li>
<li>判断属性名是不是 <code class="docutils literal"><span class="pre">id</span></code>。不是转 5，是则返回被装饰函数的执行结果。（因为
<code class="docutils literal"><span class="pre">id</span></code> 属性一般在 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base._build_url" title="zhihu_oauth.zhcls.base.Base._build_url"><code class="xref any py py-meth docutils literal"><span class="pre">_build_url</span></code></a> 方法中需要引用，
如果这时向知乎请求数据会造成死循环。）</li>
<li>则使用 API 请求数据。然后转 2。</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>关于 cache 和 data</p>
<p class="last">请看 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类中的<a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base.__init__" title="zhihu_oauth.zhcls.base.Base.__init__"><code class="xref any py py-meth docutils literal"><span class="pre">说明</span></code></a>。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>name_in_json</strong> (<em>str|unicode</em>) &#8211; 需要取的属性在 JSON 中的名字。可空，默认值为
使用此装饰器的方法名。</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span id="document-for-dev/zhcls/stream"></span><div class="section" id="streaming-json-json">
<h5>Streaming JSON - 流式 JSON<a class="headerlink" href="#streaming-json-json" title="永久链接至标题">¶</a></h5>
<p>本模块用于处理在 知乎 API 返回的 JSON数据里的一部分流式 JSON 数据。</p>
<p>流式 JSON 属性的含义请看<a class="reference internal" href="index.html#intro-streaming-json"><span class="std std-ref">这里</span></a>。</p>
<p>如 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.people.People.locations" title="zhihu_oauth.zhcls.people.People.locations"><code class="xref any py py-attr docutils literal"><span class="pre">People.locations</span></code></a>，<a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question.suggest_edit" title="zhihu_oauth.zhcls.question.Question.suggest_edit"><code class="xref any py py-attr docutils literal"><span class="pre">Question.suggest_edit</span></code></a> 等。</p>
<div class="section" id="class-intro">
<h6>Class intro - 类的介绍<a class="headerlink" href="#class-intro" title="永久链接至标题">¶</a></h6>
<dl class="class">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.streaming.</code><code class="descname">StreamingJSON</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>通过 <code class="docutils literal"><span class="pre">dict</span></code> 或者 <code class="docutils literal"><span class="pre">list</span></code> 来创建对象。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON.raw_data">
<code class="descname">raw_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON.raw_data"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON.raw_data" title="永久链接至目标">¶</a></dt>
<dd><p>有可能某些用户不喜欢使用 <code class="docutils literal"><span class="pre">.</span></code> 操作符而偏爱用 <code class="docutils literal"><span class="pre">[]</span></code> 来取字典内的数据，
所以提供此方法返回未处理的数据 <strong>的副本</strong>，
修改此副本对此对象内部数据无影响。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">内部封装数据的副本</td>
</tr>
<tr class="field-even field"><th class="field-name">返回类型:</th><td class="field-body">dict|list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON.__getattr__">
<code class="descname">__getattr__</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON.__getattr__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON.__getattr__" title="永久链接至目标">¶</a></dt>
<dd><p>重写 <code class="docutils literal"><span class="pre">.</span></code> 操作符。<code class="docutils literal"><span class="pre">item</span></code> 参数为 <code class="docutils literal"><span class="pre">.</span></code> 后要取的属性。也即将 <code class="docutils literal"><span class="pre">obj.xxx</span></code>
转换为 <code class="docutils literal"><span class="pre">obj._json['xxx']</span></code></p>
<p>重载后的 <code class="docutils literal"><span class="pre">__getattr__</span></code> 的流程为：</p>
<ol class="arabic simple">
<li>判断 item 最后一个字符是不是 <code class="docutils literal"><span class="pre">_</span></code>，若是则删去。这一步的作用是防止
item 与 Python 内置关键字冲突。 参见：<a class="reference internal" href="index.html#zhihu_oauth.zhcls.question.Question.redirection" title="zhihu_oauth.zhcls.question.Question.redirection"><code class="xref any py py-attr docutils literal"><span class="pre">Question.redirection</span></code></a> 的
<code class="docutils literal"><span class="pre">from</span></code> 数据以及 <a class="reference internal" href="index.html#tips-for-conflict-with-keyword"><span class="std std-ref">说明</span></a>。</li>
<li>取出 <code class="docutils literal"><span class="pre">obj</span> <span class="pre">=</span> <span class="pre">self._json[item]</span></code>，若不存在则抛出异常。</li>
<li>如果 <code class="docutils literal"><span class="pre">obj</span></code> 是 <code class="docutils literal"><span class="pre">dict</span></code> 或者 <code class="docutils literal"><span class="pre">list</span></code>， 返回 <code class="docutils literal"><span class="pre">StreamingJSON(obj)</span></code></li>
<li>否则直接返回 <code class="docutils literal"><span class="pre">obj</span></code>。</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON.__getitem__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON.__getitem__" title="永久链接至目标">¶</a></dt>
<dd><p>重写 <code class="docutils literal"><span class="pre">[]</span></code> 操作符。item 参数为 <code class="docutils literal"><span class="pre">[]</span></code> 内数组下表。也即将 <code class="docutils literal"><span class="pre">obj[0]</span></code>
转换为 <code class="docutils literal"><span class="pre">obj._json['0]</span></code>。</p>
<p>如果 <code class="docutils literal"><span class="pre">self._json</span></code> 不是 <code class="docutils literal"><span class="pre">list</span></code> 型，或 <code class="docutils literal"><span class="pre">item</span></code> 不是 <code class="docutils literal"><span class="pre">int</span></code> 型，
则抛出 <code class="docutils literal"><span class="pre">ValueError</span></code>。</p>
<p>如果取出的 <code class="docutils literal"><span class="pre">obj</span></code> 是 <code class="docutils literal"><span class="pre">dict</span></code> 或 <code class="docutils literal"><span class="pre">list</span></code>，返回 <code class="docutils literal"><span class="pre">StreamingJSON(obj)</span></code>
否则直接返回 <code class="docutils literal"><span class="pre">obj</span></code>。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.streaming.StreamingJSON.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#StreamingJSON.__iter__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.StreamingJSON.__iter__" title="永久链接至目标">¶</a></dt>
<dd><p>重写迭代行为。如果迭代对象是 <code class="docutils literal"><span class="pre">dict</span></code> 或 <code class="docutils literal"><span class="pre">list</span></code>，返回
<code class="docutils literal"><span class="pre">StreamingJSON(obj)</span></code>，否则直接返回。</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="ancillary-decorator">
<h6>Ancillary decorator - 配套装饰器<a class="headerlink" href="#ancillary-decorator" title="永久链接至标题">¶</a></h6>
<p>下面这个装饰器就是各知乎类中用于标明哪些是流式 JSON 属性的，
类里的定义只是为了方便构建文档。真正返回数据的操作均由这一装饰器完成。</p>
<dl class="function">
<dt id="zhihu_oauth.zhcls.streaming.streaming">
<code class="descclassname">zhihu_oauth.zhcls.streaming.</code><code class="descname">streaming</code><span class="sig-paren">(</span><em>name_in_json=None</em>, <em>use_cache=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/streaming.html#streaming"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.streaming.streaming" title="永久链接至目标">¶</a></dt>
<dd><p>本装饰器的作用为：</p>
<ol class="arabic simple">
<li>标识这个属性为流式 JSON 属性。</li>
<li>自动从对象的数据中取出对应属性，构建成 <a class="reference internal" href="#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a> 对象。</li>
</ol>
<p>取数据流程如下：</p>
<ol class="arabic simple">
<li>如果 <code class="docutils literal"><span class="pre">use_cache</span></code> 为真，转 2，否则转 3。</li>
<li>尝试从 <code class="docutils literal"><span class="pre">cache</span></code> 中取需要的数据。失败转 3，成功转 5。</li>
<li>如果 <code class="docutils literal"><span class="pre">data</span></code> 不存在，则调用知乎 API 获取。</li>
<li>尝试从 <code class="docutils literal"><span class="pre">data</span></code> 中取需要的数据。失败则
将被装饰方法的调用结果视为取到的数据。</li>
<li>如果取到数据是 <code class="docutils literal"><span class="pre">dict</span></code> 或 <code class="docutils literal"><span class="pre">list</span></code> 类型，则返回使用
<a class="reference internal" href="#zhihu_oauth.zhcls.streaming.StreamingJSON" title="zhihu_oauth.zhcls.streaming.StreamingJSON"><code class="xref any py py-class docutils literal"><span class="pre">StreamingJSON</span></code></a> 包装过的结果。如果不是则抛出 <code class="docutils literal"><span class="pre">ValueError</span></code> 异常。</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>关于 cache 和 data</p>
<p class="last">请看 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类中的<a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base.__init__" title="zhihu_oauth.zhcls.base.Base.__init__"><code class="xref any py py-meth docutils literal"><span class="pre">说明</span></code></a>。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>name_in_json</strong> &#8211; 要取的数据在 JSON
中的名字。可空，默认为使用本装饰器的的方法名。</li>
<li><strong>use_cache</strong> &#8211; 是否使用缓存的数据。默认为 <code class="docutils literal"><span class="pre">True</span></code>。如果为
<code class="docutils literal"><span class="pre">False</span></code> 则只使用 data。</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">引发:</th><td class="field-body"><p class="first last"><strong>ValueError</strong> &#8211; 当最终取到的数据不是 <code class="docutils literal"><span class="pre">dict</span></code> 或 <code class="docutils literal"><span class="pre">list</span></code> 类型时。</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<span id="document-for-dev/zhcls/other"></span><div class="section" id="build-object-from-data">
<h5>Build object from data - 从数据中构建对象<a class="headerlink" href="#build-object-from-data" title="永久链接至标题">¶</a></h5>
<p>下面这个装饰器就是各知乎类中用于标明哪些属性是另一个知乎对象的，
类里的定义只是为了方便构建文档。真正返回对象的操作均由这一装饰器完成。</p>
<span class="target" id="module-zhihu_oauth.zhcls.other"></span><dl class="function">
<dt id="zhihu_oauth.zhcls.other.other_obj">
<code class="descclassname">zhihu_oauth.zhcls.other.</code><code class="descname">other_obj</code><span class="sig-paren">(</span><em>class_name=None</em>, <em>name_in_json=None</em>, <em>module_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/other.html#other_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.other.other_obj" title="永久链接至目标">¶</a></dt>
<dd><p>本装饰器的作用为：</p>
<ol class="arabic simple">
<li>标识这个属性为另一个知乎对象。</li>
<li>自动从当前对象的数据中取出对应属性，构建成所需要的对象。</li>
</ol>
<p>生成对象流程如下：</p>
<ol class="arabic simple">
<li>尝试导入类名表示的类，如果获取失败则设为 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类。</li>
<li>将对象数据设置为被装饰函数的返回值，如果不为 None 则转 6</li>
<li>尝试从 <code class="docutils literal"><span class="pre">cache</span></code> 中获取用来建立对象的数据。成功转 6。</li>
<li>如果当前对象没有 <code class="docutils literal"><span class="pre">data</span></code> 则调用知乎 API 获取。</li>
<li>尝试从 <code class="docutils literal"><span class="pre">data</span></code> 中获取数据，如果这个也没有就返回 None</li>
<li>将获取到的数据作为 <code class="docutils literal"><span class="pre">cache</span></code> 构建第一步中的导入的知乎类对象。</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p>关于 cache 和 data</p>
<p class="last">请看 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base" title="zhihu_oauth.zhcls.base.Base"><code class="xref any py py-class docutils literal"><span class="pre">Base</span></code></a> 类中的<a class="reference internal" href="index.html#zhihu_oauth.zhcls.base.Base.__init__" title="zhihu_oauth.zhcls.base.Base.__init__"><code class="xref any py py-meth docutils literal"><span class="pre">说明</span></code></a>。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>class_name</strong> &#8211; 要生成的对象类名</li>
<li><strong>name_in_json</strong> &#8211; 属性在 JSON 里的键名。</li>
<li><strong>module_filename</strong> &#8211; &lt;class_name&gt; 所在的模块的文件名</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span id="document-for-dev/zhcls/generator"></span><div class="section" id="paging-data-process">
<span id="generator"></span><h5>Paging data process - 多页数据处理<a class="headerlink" href="#paging-data-process" title="永久链接至标题">¶</a></h5>
<div class="section" id="intro">
<h6>intro - 介绍<a class="headerlink" href="#intro" title="永久链接至标题">¶</a></h6>
<p>知乎有很多列表型数据，比如问题的答案，我的关注者，专栏的文章，等等。</p>
<p>这些数据在知乎的 API 获取的时候是间断的，比如，每次获取 20 个，在手机 APP
上就体现为继续上划加载更多。这些数据处理的逻辑类似，数据的格式也类似，
只是最后列表项中的对象不同。</p>
<p>常见的多页数据的 JSON 如下：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;paging&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;previous&#39;</span><span class="p">:</span> <span class="s1">&#39;previous page url&#39;</span> <span class="p">,</span>
        <span class="s1">&#39;next&#39;</span><span class="p">:</span> <span class="s1">&#39;next page url&#39;</span><span class="p">,</span>
        <span class="s1">&#39;is_end&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="c1"># or True</span>
    <span class="p">},</span>
    <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;answer&#39;</span><span class="p">,</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;xxxx&#39;</span><span class="p">,</span>
            <span class="s1">&#39;created_time&#39;</span><span class="p">:</span> <span class="s1">&#39;14xxxxx&#39;</span>
            <span class="c1"># many attr</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="c1"># like last one</span>
        <span class="p">},</span>
        <span class="c1"># many many objects</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>为了 DYR，这些逻辑被抽象成 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator" title="zhihu_oauth.zhcls.generator.BaseGenerator"><code class="xref any py py-class docutils literal"><span class="pre">BaseGenerator</span></code></a> 基类，其他类通过继承基类，
来实现创建不同对象的功能。</p>
<p>效果见：<a class="reference internal" href="index.html#intro-generator-attr"><span class="std std-ref">Generator attr - 生成器属性</span></a></p>
</div>
<div class="section" id="base-class">
<h6>Base class - 基类<a class="headerlink" href="#base-class" title="永久链接至标题">¶</a></h6>
<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">BaseGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**default_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**default_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd><p>基础生成器类。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; 首次请求网址。后续网址在 API 的返回数据中会给出。</li>
<li><strong>session</strong> &#8211; 网络会话。</li>
<li><strong>default_params</strong> &#8211; 需要加到每次请求中的 get query params</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more">
<code class="descname">_fetch_more</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator._fetch_more"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more" title="永久链接至目标">¶</a></dt>
<dd><p>获取下一页数据。</p>
<p>内部流程：</p>
<ol class="arabic simple">
<li>从 self._extra_params 中获取附加请求参数，并发送请求。</li>
<li>将响应解析成 JSON，如果出错则抛出异常。</li>
<li>如果 JSON 数据未出错（没有名为 <code class="docutils literal"><span class="pre">error</span></code> 的键），则转 4。<ul>
<li>如果错误名是 &#8216;ERR_CONVERSATION_NOT_FOUND&#8217; 则转 7（其实这是个 dirty hack，
因为有些评论没有对话列表，而我有没有找到判断方法。）</li>
<li>将等待时间翻倍，若其值超过最长等待时间限制，转 7。
否则 sleep 当前值然后返回。
（因为这里没有改变下一页所以下次会继续请求统一页面）</li>
</ul>
</li>
<li>将等待时间重置为 0.5 s。</li>
<li>将数据添加到对象内部数据库中。</li>
<li>如果数据表示未达到末尾，则根据数据设置下一次请求地址，返回。</li>
<li>将下一次请求网址设为 None，这表示所有数据均取完，返回。</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><a class="reference internal" href="index.html#zhihu_oauth.exception.UnexpectedResponseException" title="zhihu_oauth.exception.UnexpectedResponseException"><code class="xref any py py-exc docutils literal"><span class="pre">UnexpectedResponseException</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd><p>这是个抽象方法，子类需要自己实现创建对象并返回的操作。</p>
<p>子类的操作很简单，下文文档中就不详细写了。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>data</strong> &#8211; 提供的数据，为返回的 JSON 数据的 data 列表中的一个 dict。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">构建出的对象。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.__getitem__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__" title="永久链接至目标">¶</a></dt>
<dd><p>重载自身的 <code class="docutils literal"><span class="pre">[int]</span></code> 操作符。逻辑如下：</p>
<ol class="arabic simple">
<li>如果要求的 index 小于现在对象内部数据库中对象数量，
从数据库中数据，使用 _build_obj 出构建对象并返回。</li>
<li>如果下一页地址不为 None，则调用 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more" title="zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more"><code class="xref any py py-meth docutils literal"><span class="pre">_fetch_more</span></code></a> 请求更多数据。
否则抛出 IndexError 异常表示超出范围。</li>
<li>因为请求过程中更新了数据库，再转 1。</li>
</ol>
<p>结合 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more" title="zhihu_oauth.zhcls.generator.BaseGenerator._fetch_more"><code class="xref any py py-meth docutils literal"><span class="pre">_fetch_more</span></code></a> 能更好地理解本函数。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>item</strong> (<em>int</em>) &#8211; 索引，必须为整型。</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">对应的对象。</td>
</tr>
<tr class="field-odd field"><th class="field-name">引发:</th><td class="field-body"><strong>IndexError</strong> &#8211; 请求完全部数据后，索引还是大于数据库内数据量。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.__iter__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__iter__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.__next__">
<code class="descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.__next__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__next__" title="永久链接至目标">¶</a></dt>
<dd><p>提供迭代方式访问数据集，即 <code class="docutils literal"><span class="pre">for</span> <span class="pre">xx</span> <span class="pre">in</span> <span class="pre">obj.xxxs</span></code> 。</p>
<p>对象内有一个变量 <code class="docutils literal"><span class="pre">_index</span></code> 保存着下一次要迭代的下标。</p>
<p>每次用户迭代时，使用被 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__" title="zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__"><code class="xref any py py-meth docutils literal"><span class="pre">__getitem__</span></code></a>
方法重写过的 self[self._index] 操作符尝试获取对象。</p>
<dl class="docutils">
<dt>如果引发了 <code class="docutils literal"><span class="pre">IndexError</span></code> 则表示数据获取完毕。此时提供一个</dt>
<dd><code class="docutils literal"><span class="pre">StopIteration</span></code> 结束迭代，并把 <code class="docutils literal"><span class="pre">_index</span></code> 变量置为 0 为下次迭代做准备。</dd>
</dl>
<p>如果成功获取到数据则把 <code class="docutils literal"><span class="pre">_index</span> <span class="pre">+</span> <span class="pre">1</span></code>，然后返回对象。</p>
<p>结合 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__" title="zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__"><code class="xref any py py-meth docutils literal"><span class="pre">__getitem__</span></code></a> 能更好地理解本函数。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.next" title="永久链接至目标">¶</a></dt>
<dd><p>提供迭代方式访问数据集，即 <code class="docutils literal"><span class="pre">for</span> <span class="pre">xx</span> <span class="pre">in</span> <span class="pre">obj.xxxs</span></code> 。</p>
<p>对象内有一个变量 <code class="docutils literal"><span class="pre">_index</span></code> 保存着下一次要迭代的下标。</p>
<p>每次用户迭代时，使用被 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__" title="zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__"><code class="xref any py py-meth docutils literal"><span class="pre">__getitem__</span></code></a>
方法重写过的 self[self._index] 操作符尝试获取对象。</p>
<dl class="docutils">
<dt>如果引发了 <code class="docutils literal"><span class="pre">IndexError</span></code> 则表示数据获取完毕。此时提供一个</dt>
<dd><code class="docutils literal"><span class="pre">StopIteration</span></code> 结束迭代，并把 <code class="docutils literal"><span class="pre">_index</span></code> 变量置为 0 为下次迭代做准备。</dd>
</dl>
<p>如果成功获取到数据则把 <code class="docutils literal"><span class="pre">_index</span> <span class="pre">+</span> <span class="pre">1</span></code>，然后返回对象。</p>
<p>结合 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__" title="zhihu_oauth.zhcls.generator.BaseGenerator.__getitem__"><code class="xref any py py-meth docutils literal"><span class="pre">__getitem__</span></code></a> 能更好地理解本函数。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.order_by">
<code class="descname">order_by</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.order_by"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.order_by" title="永久链接至目标">¶</a></dt>
<dd><p>有些 API 可以根据 GET 参数来控制数据的排序，只需流式的调用本函数即可。</p>
<p>目前发现支持的使用方式只有：</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">People.answers.order_by('votenum')</span></code>，
表示按赞数排序获取某人答案。默认为按时间。
（由于 Me 类继承于 People，所以 <code class="docutils literal"><span class="pre">me.answers</span></code>）也可以。</li>
</ul>
<p>如果我发现了其他方式会更新文档。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>注意</p>
<p class="last">使用这一函数会重置对象内部的所有数据，
再次取数据将从头开始。</p>
</div>
<p>其实就是个 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator.add_params" title="zhihu_oauth.zhcls.generator.BaseGenerator.add_params"><code class="xref any py py-meth docutils literal"><span class="pre">add_params</span></code></a> 的封装……</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>what</strong> (<em>str|unicode</em>) &#8211; 按什么排序……</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.jump">
<code class="descname">jump</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.jump"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.jump" title="永久链接至目标">¶</a></dt>
<dd><p>忽略前 n 个数据，直接去获取第 n+1 个数据</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>n</strong> (<em>int</em>) &#8211; 跳过多少数据</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator._reset">
<code class="descname">_reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator._reset"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator._reset" title="永久链接至目标">¶</a></dt>
<dd><p>重置数据。</p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>*_</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.set_params"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.set_params" title="永久链接至目标">¶</a></dt>
<dd><p>自定义请求时的 params，如果不了解知乎 OAuth API 的话并没有什么用。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>注意</p>
<p class="last">使用这一函数会重置对象内部的所有数据，
再次取数据将从头开始。</p>
</div>
<p>使用方式：<code class="docutils literal"><span class="pre">for</span> <span class="pre">xxx</span> <span class="pre">in</span> <span class="pre">obj.xxxs.set_params(a='b',</span> <span class="pre">c='d'):</span></code></p>
</dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.BaseGenerator.add_params">
<code class="descname">add_params</code><span class="sig-paren">(</span><em>*_</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#BaseGenerator.add_params"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.BaseGenerator.add_params" title="永久链接至目标">¶</a></dt>
<dd><p>添加请求时的 params，如果不了解知乎 OAuth API 的话并没有什么用。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>注意</p>
<p class="last">使用这一函数会重置对象内部的除了额外 params 外的数据，
再次取数据将从头开始。</p>
</div>
<p>使用方式：<code class="docutils literal"><span class="pre">for</span> <span class="pre">xxx</span> <span class="pre">in</span> <span class="pre">obj.xxxs.add_params(a='b').add_params(b='b'):</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.FilterableGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">FilterableGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>filter_set</em>, <em>obj_cls</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FilterableGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FilterableGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.FilterableGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>filter_set</em>, <em>obj_cls</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FilterableGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FilterableGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.FilterableGenerator.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>cond</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FilterableGenerator.filter"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FilterableGenerator.filter" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.FilterableGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FilterableGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FilterableGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zhihu_oauth.zhcls.generator.FilterableGenerator.__module__">
<code class="descname">__module__</code><em class="property"> = 'zhihu_oauth.zhcls.generator'</em><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FilterableGenerator.__module__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="childs">
<h6>Childs - 子类<a class="headerlink" href="#childs" title="永久链接至标题">¶</a></h6>
<p><a class="reference internal" href="#zhihu_oauth.zhcls.generator.BaseGenerator" title="zhihu_oauth.zhcls.generator.BaseGenerator"><code class="xref any py py-class docutils literal"><span class="pre">BaseGenerator</span></code></a> 和 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.FilterableGenerator" title="zhihu_oauth.zhcls.generator.FilterableGenerator"><code class="xref any py py-class docutils literal"><span class="pre">FilterableGenerator</span></code></a> 的子类才是真正可以使用的类。它们重载了 <code class="docutils literal"><span class="pre">_build_obj</span></code> 方法。
因其他结构无变化，故文档省略。</p>
<span class="target" id="module-zhihu_oauth.zhcls.generator"></span><dl class="class">
<dt id="zhihu_oauth.zhcls.generator.ActivityGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">ActivityGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ActivityGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ActivityGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ActivityGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ActivityGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ActivityGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ActivityGenerator.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>cond</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ActivityGenerator.filter"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ActivityGenerator.filter" title="永久链接至目标">¶</a></dt>
<dd><p>设置想要获取哪个或哪些类型的动态。例子：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">xxx</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">people</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">xxx</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ActType</span><span class="o">.</span><span class="n">VOTEUP_ANSWER</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ts2str</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">created_time</span><span class="p">),</span> <span class="n">act2str</span><span class="p">(</span><span class="n">act</span><span class="p">))</span>
</pre></div>
</div>
<p>参数也可以是多个 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.ActType" title="zhihu_oauth.zhcls.activity.ActType"><code class="xref any py py-data docutils literal"><span class="pre">ActType</span></code></a> 的 set：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">xxx</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">people</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>

<span class="n">filter_types</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">ActType</span><span class="o">.</span><span class="n">VOTEUP_ANSWER</span><span class="p">,</span>
    <span class="n">ActType</span><span class="o">.</span><span class="n">VOTEUP_ARTICLE</span><span class="p">,</span>
    <span class="n">ActType</span><span class="o">.</span><span class="n">FOLLOW_QUESTION</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">xxx</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">filter_types</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ts2str</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">created_time</span><span class="p">),</span> <span class="n">act2str</span><span class="p">(</span><span class="n">act</span><span class="p">))</span>
</pre></div>
</div>
<p>参数还可以是一个接收 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.activity.Activity" title="zhihu_oauth.zhcls.activity.Activity"><code class="xref any py py-class docutils literal"><span class="pre">Activity</span></code></a> 对象，返回值为 Bool 的函数：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">xxx</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">people</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">xxx</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;游戏&#39;</span> <span class="ow">in</span> <span class="n">act2str</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ts2str</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">created_time</span><span class="p">),</span> <span class="n">act2str</span><span class="p">(</span><span class="n">act</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p>需要注意的是，使用 filter 并不会减少网络请求，使程序变快</p>
<p class="last">因为知乎官方并没有提供根据动态类型获取动态的接口，
所以内部实现其实依旧获取了用户的所有动态，只是在生成器返回数据时进行了过滤。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>cond</strong> (<em>ActType|{ActType}|callable</em>) &#8211; 过滤条件</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.AnswerGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">AnswerGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#AnswerGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.AnswerGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.AnswerGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#AnswerGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.AnswerGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.AnswerGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#AnswerGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.AnswerGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.ArticleGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">ArticleGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ArticleGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ArticleGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ArticleGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ArticleGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ArticleGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ArticleGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ArticleGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ArticleGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.CollectionContentGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">CollectionContentGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionContentGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionContentGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CollectionContentGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionContentGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionContentGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CollectionContentGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionContentGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionContentGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.CollectionGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">CollectionGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CollectionGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CollectionGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CollectionGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CollectionGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.ColumnGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">ColumnGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ColumnGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ColumnGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ColumnGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ColumnGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ColumnGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.ColumnGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#ColumnGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.ColumnGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.CommentGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">CommentGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CommentGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CommentGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CommentGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CommentGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CommentGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.CommentGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#CommentGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.CommentGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.FeedGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">FeedGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FeedGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FeedGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.FeedGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FeedGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FeedGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.FeedGenerator.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>cond</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#FeedGenerator.filter"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.FeedGenerator.filter" title="永久链接至目标">¶</a></dt>
<dd><p>参见 <a class="reference internal" href="#zhihu_oauth.zhcls.generator.ActivityGenerator.filter" title="zhihu_oauth.zhcls.generator.ActivityGenerator.filter"><code class="xref any py py-meth docutils literal"><span class="pre">ActivityGenerator.filter</span></code></a> 函数，使用方式基本相同</p>
<p>例子见 <a class="reference internal" href="index.html#zhihu_oauth.zhcls.feed.Feed" title="zhihu_oauth.zhcls.feed.Feed"><code class="xref any py py-class docutils literal"><span class="pre">Feed</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.LiveGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">LiveGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#LiveGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.LiveGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.LiveGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#LiveGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.LiveGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.LiveGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#LiveGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.LiveGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.LiveOfTagGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">LiveOfTagGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#LiveOfTagGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.LiveOfTagGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.LiveOfTagGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#LiveOfTagGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.LiveOfTagGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.MessageGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">MessageGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#MessageGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.MessageGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.MessageGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#MessageGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.MessageGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.MessageGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#MessageGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.MessageGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.PeopleGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">PeopleGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PeopleGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PeopleGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">PeopleWithLiveBadgeGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleWithLiveBadgeGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleWithLiveBadgeGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PeopleWithLiveBadgeGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PeopleWithLiveBadgeGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.PinGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">PinGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PinGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PinGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PinGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PinGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PinGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.PinGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#PinGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.PinGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.QuestionGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">QuestionGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#QuestionGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.QuestionGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.QuestionGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#QuestionGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.QuestionGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.QuestionGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#QuestionGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.QuestionGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.SearchResultGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">SearchResultGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#SearchResultGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.SearchResultGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.SearchResultGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#SearchResultGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.SearchResultGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.SearchResultGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#SearchResultGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.SearchResultGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.TopicGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">TopicGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#TopicGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.TopicGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.TopicGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#TopicGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.TopicGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.TopicGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#TopicGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.TopicGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zhihu_oauth.zhcls.generator.WhisperGenerator">
<em class="property">class </em><code class="descclassname">zhihu_oauth.zhcls.generator.</code><code class="descname">WhisperGenerator</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#WhisperGenerator"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.WhisperGenerator" title="永久链接至目标">¶</a></dt>
<dd><dl class="method">
<dt id="zhihu_oauth.zhcls.generator.WhisperGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>url</em>, <em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#WhisperGenerator.__init__"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.WhisperGenerator.__init__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zhihu_oauth.zhcls.generator.WhisperGenerator._build_obj">
<code class="descname">_build_obj</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zhihu_oauth/zhcls/generator.html#WhisperGenerator._build_obj"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#zhihu_oauth.zhcls.generator.WhisperGenerator._build_obj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h1>索引<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">索引</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">模块索引</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">搜索页面</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html#document-index">內容目录</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guide/index">使用教程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guide/install">Install - 安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guide/login">Login - 登录</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-guide/use">Usage - 使用方法</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-for-user/index">Classes references - 类详细文档</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-user/client">ZhihuClient - 知乎客户端</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-user/zhcls/index">Zhihu Classes - 知乎相关类</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/intro">Intro - 知乎类文档阅读说明</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/activity">Activity - 用户动态</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/answer">Answer - 答案</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/article">Article - 文章</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/collection">Collection - 收藏夹</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/column">Column - 专栏</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/comment">Comment - 评论</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/feed">Feed - 首页信息流</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/live">Live 相关</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/me">Me - 当前用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/people">People - 用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/pin">Pin - 分享</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/question">Question - 问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/topic">Topic - 话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-user/zhcls/whisper_and_message">Whisper &amp; Message - 私信会话和私信消息</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-user/search">Search - 搜索</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-user/exception">Exception - 异常</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-user/helpers">一些辅助函数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id2">生成器护盾（误</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id3">时间戳转换</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id4">用户动态格式化</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-for-dev/index">Developer references - 开发人员参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-dev/utils">Utils &amp; Setting - 辅助函数和默认配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-dev/oauth/index">Login &amp; OAuth - 登录与 OAuth 验证</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/game">Game walkthrough - 游戏攻略</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/android">ImZhihuAndroidClient - 模拟官方 Android APP</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/before_login">BeforeLoginAuth - 登录前使用的基础验证方式</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/oauth">ZhihuOAuth - 登录后使用的 OAuth 验证方式</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/token">ZhihuToken - OAuth 令牌</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/oauth/utils_setting">Utils &amp; Setting - 辅助函数和默认配置</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-for-dev/zhcls/index">Zhihu classes structure - 知乎类结构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/zhcls/base">Base - 基础类</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/zhcls/normal">Normal attr - 常规属性</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/zhcls/stream">Streaming JSON - 流式 JSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/zhcls/other">Build object from data - 从数据中构建对象</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-for-dev/zhcls/generator">Paging data process - 多页数据处理</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="转向" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html#document-index">Zhihu-OAuth 0.0.41 文档</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016 - 2017, 7sDream.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3 创建。
    </div>
  </body>
</html>